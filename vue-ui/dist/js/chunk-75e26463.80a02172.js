(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75e26463"],{"057f":function(e,t,r){var n=r("c6b6"),i=r("fc6a"),o=r("241c").f,a=r("4dae"),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(t){return a(s)}};e.exports.f=function(e){return s&&"Window"==n(e)?u(e):o(i(e))}},"0b43":function(e,t,r){var n=r("04f8");e.exports=n&&!!Symbol["for"]&&!!Symbol.keyFor},"0c47":function(e,t,r){var n=r("da84"),i=r("d44e");i(n.JSON,"JSON",!0)},"0d26":function(e,t,r){var n=r("e330"),i=Error,o=n("".replace),a=function(e){return String(i(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(a);e.exports=function(e,t){if(u&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,s,"");return e}},"131a":function(e,t,r){var n=r("23e7"),i=r("d2bb");n({target:"Object",stat:!0},{setPrototypeOf:i})},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("d3b7");function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}},"1f68":function(e,t,r){"use strict";var n=r("83ab"),i=r("edd0"),o=r("861d"),a=r("7b0b"),s=r("1d80"),u=Object.getPrototypeOf,c=Object.setPrototypeOf,h=Object.prototype,l="__proto__";if(n&&u&&c&&!(l in h))try{i(h,l,{configurable:!0,get:function(){return u(a(this))},set:function(e){var t=s(this);(o(e)||null===e)&&o(t)&&c(t,e)}})}catch(f){}},"23dc":function(e,t,r){var n=r("d44e");n(Math,"Math",!0)},3410:function(e,t,r){var n=r("23e7"),i=r("d039"),o=r("7b0b"),a=r("e163"),s=r("e177"),u=i((function(){a(1)}));n({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},"428f":function(e,t,r){var n=r("da84");e.exports=n},"4dae":function(e,t,r){var n=r("23cb"),i=r("07fa"),o=r("8418"),a=Array,s=Math.max;e.exports=function(e,t,r){for(var u=i(e),c=n(t,u),h=n(void 0===r?u:r,u),l=a(s(h-c,0)),f=0;c<h;c++,f++)o(l,f,e[c]);return l.length=f,l}},"57b9":function(e,t,r){var n=r("c65b"),i=r("d066"),o=r("b622"),a=r("cb2d");e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return n(r,this)}),{arity:1})}},"5a47":function(e,t,r){var n=r("23e7"),i=r("04f8"),o=r("d039"),a=r("7418"),s=r("7b0b"),u=!i||o((function(){a.f(1)}));n({target:"Object",stat:!0,forced:u},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},7156:function(e,t,r){var n=r("1626"),i=r("861d"),o=r("d2bb");e.exports=function(e,t,r){var a,s;return o&&n(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(e,s),e}},7269:function(e,t,r){"use strict";var n=r("9d79"),i=r("6765"),o=r("9f5e"),a=r("1e8d"),s=r("d60d"),u=r("06f8"),c=r("57cb"),h=r("e526"),l=r("7d01"),f=r("e671"),d=r("38f3"),g=r("02df"),p=r("3e31"),v=function(e){l["a"].call(this,{handleEvent:v.handleEvent});var t=e||{};this.condition_=t.condition?t.condition:u["a"].singleClick,this.addCondition_=t.addCondition?t.addCondition:u["a"].never,this.removeCondition_=t.removeCondition?t.removeCondition:u["a"].never,this.toggleCondition_=t.toggleCondition?t.toggleCondition:u["a"].shiftKeyOnly,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:c["a"].TRUE,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;var r,n=new f["a"]({source:new g["a"]({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:v.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=n,t.layers)if("function"===typeof t.layers)r=t.layers;else{var s=t.layers;r=function(e){return o["a"].includes(s,e)}}else r=c["a"].TRUE;this.layerFilter_=r,this.featureLayerAssociation_={};var h=this.featureOverlay_.getSource().getFeaturesCollection();a["a"].listen(h,i["a"].ADD,this.addFeature_,this),a["a"].listen(h,i["a"].REMOVE,this.removeFeature_,this)};n["a"].inherits(v,l["a"]),v.prototype.addFeatureLayerAssociation_=function(e,t){var r=n["a"].getUid(e);this.featureLayerAssociation_[r]=t},v.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},v.prototype.getHitTolerance=function(){return this.hitTolerance_},v.prototype.getLayer=function(e){var t=n["a"].getUid(e);return this.featureLayerAssociation_[t]},v.handleEvent=function(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),r=this.removeCondition_(e),n=this.toggleCondition_(e),i=!t&&!r&&!n,a=e.map,s=this.featureOverlay_.getSource().getFeaturesCollection(),c=[],h=[];if(i){var l;for(d["a"].clear(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return h.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_}),l=s.getLength()-1;l>=0;--l){var f=s.item(l),g=h.indexOf(f);g>-1?h.splice(g,1):(s.remove(f),c.push(f))}0!==h.length&&s.extend(h)}else{var p;for(a.forEachFeatureAtPixel(e.pixel,function(e,i){if(this.filter_(e,i))return!t&&!n||o["a"].includes(s.getArray(),e)?(r||n)&&o["a"].includes(s.getArray(),e)&&(c.push(e),this.removeFeatureLayerAssociation_(e)):(h.push(e),this.addFeatureLayerAssociation_(e,i)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_}),p=c.length-1;p>=0;--p)s.remove(c[p]);s.extend(h)}return(h.length>0||c.length>0)&&this.dispatchEvent(new v.Event(v.EventType_.SELECT,h,c,e)),u["a"].pointerMove(e)},v.prototype.setHitTolerance=function(e){this.hitTolerance_=e},v.prototype.setMap=function(e){var t=this.getMap(),r=this.featureOverlay_.getSource().getFeaturesCollection();t&&r.forEach(t.unskipFeature,t),l["a"].prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&r.forEach(e.skipFeature,e)},v.getDefaultStyleFunction=function(){var e=p["a"].createDefaultEditing();return o["a"].extend(e[h["a"].POLYGON],e[h["a"].LINE_STRING]),o["a"].extend(e[h["a"].GEOMETRY_COLLECTION],e[h["a"].LINE_STRING]),function(t,r){return t.getGeometry()?e[t.getGeometry().getType()]:null}},v.prototype.addFeature_=function(e){var t=this.getMap();t&&t.skipFeature(e.element)},v.prototype.removeFeature_=function(e){var t=this.getMap();t&&t.unskipFeature(e.element)},v.prototype.removeFeatureLayerAssociation_=function(e){var t=n["a"].getUid(e);delete this.featureLayerAssociation_[t]},v.Event=function(e,t,r,n){s["a"].call(this,e),this.selected=t,this.deselected=r,this.mapBrowserEvent=n},n["a"].inherits(v.Event,s["a"]),v.EventType_={SELECT:"select"},t["a"]=v},"8d5e":function(e,t,r){"use strict";var n=r("9d79"),i=r("0941"),o=r("6765"),a=r("082b"),s=r("78d6"),u=r("183c"),c=r("9f5e"),h=r("a568"),l=r("1e8d"),f=r("d60d"),d=r("8fc0"),g=r("06f8"),p=r("0af5"),v=r("e526"),y=r("d1cc"),m={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},_=m,E=r("d1cd"),b=r("e671"),x=r("02df"),w=r("d291"),S=r("2cbd"),C=r("3e31"),F=function(e){var t;if(E["a"].call(this,{handleDownEvent:F.handleDownEvent_,handleDragEvent:F.handleDragEvent_,handleEvent:F.handleEvent,handleUpEvent:F.handleUpEvent_}),this.condition_=e.condition?e.condition:g["a"].primaryAction,this.defaultDeleteCondition_=function(e){return g["a"].altKeyOnly(e)&&g["a"].singleClick(e)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:g["a"].always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new S["a"],this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new b["a"]({source:new x["a"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:F.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,t=new i["a"](this.source_.getFeatures()),l["a"].listen(this.source_,w["a"].ADDFEATURE,this.handleSourceAdd_,this),l["a"].listen(this.source_,w["a"].REMOVEFEATURE,this.handleSourceRemove_,this)):t=e.features,!t)throw new Error("The modify interaction requires features or a source");this.features_=t,this.features_.forEach(this.addFeature_,this),l["a"].listen(this.features_,o["a"].ADD,this.handleFeatureAdd_,this),l["a"].listen(this.features_,o["a"].REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null};n["a"].inherits(F,E["a"]),F.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0,F.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1,F.prototype.addFeature_=function(e){var t=e.getGeometry();t&&t.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[t.getType()].call(this,e,t);var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),l["a"].listen(e,d["a"].CHANGE,this.handleFeatureChange_,this)},F.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new F.Event(_.MODIFYSTART,this.features_,e)))},F.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),l["a"].unlisten(e,d["a"].CHANGE,this.handleFeatureChange_,this)},F.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach((function(t){e===t.feature&&r.push(t)}));for(var n=r.length-1;n>=0;--n)t.remove(r[n])},F.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),E["a"].prototype.setActive.call(this,e)},F.prototype.setMap=function(e){this.overlay_.setMap(e),E["a"].prototype.setMap.call(this,e)},F.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},F.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},F.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},F.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},F.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},F.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),n={feature:e,geometry:t,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)},F.prototype.writeMultiPointGeometry_=function(e,t){var r,n,i,o,a=t.getCoordinates();for(n=0,i=a.length;n<i;++n)r=a[n],o={feature:e,geometry:t,depth:[n],index:n,segment:[r,r]},this.rBush_.insert(t.getExtent(),o)},F.prototype.writeLineStringGeometry_=function(e,t){var r,n,i,o,a=t.getCoordinates();for(r=0,n=a.length-1;r<n;++r)i=a.slice(r,r+2),o={feature:e,geometry:t,index:r,segment:i},this.rBush_.insert(p["a"].boundingExtent(i),o)},F.prototype.writeMultiLineStringGeometry_=function(e,t){var r,n,i,o,a,s,u,c=t.getCoordinates();for(o=0,a=c.length;o<a;++o)for(r=c[o],n=0,i=r.length-1;n<i;++n)s=r.slice(n,n+2),u={feature:e,geometry:t,depth:[o],index:n,segment:s},this.rBush_.insert(p["a"].boundingExtent(s),u)},F.prototype.writePolygonGeometry_=function(e,t){var r,n,i,o,a,s,u,c=t.getCoordinates();for(o=0,a=c.length;o<a;++o)for(r=c[o],n=0,i=r.length-1;n<i;++n)s=r.slice(n,n+2),u={feature:e,geometry:t,depth:[o],index:n,segment:s},this.rBush_.insert(p["a"].boundingExtent(s),u)},F.prototype.writeMultiPolygonGeometry_=function(e,t){var r,n,i,o,a,s,u,c,h,l,f=t.getCoordinates();for(s=0,u=f.length;s<u;++s)for(c=f[s],o=0,a=c.length;o<a;++o)for(r=c[o],n=0,i=r.length-1;n<i;++n)h=r.slice(n,n+2),l={feature:e,geometry:t,depth:[o,s],index:n,segment:h},this.rBush_.insert(p["a"].boundingExtent(h),l)},F.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),n={feature:e,geometry:t,index:F.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[r,r]},i={feature:e,geometry:t,index:F.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[r,r]},o=[n,i];n.featureSegments=i.featureSegments=o,this.rBush_.insert(p["a"].createOrUpdateFromCoordinate(r),n),this.rBush_.insert(t.getExtent(),i)},F.prototype.writeGeometryCollectionGeometry_=function(e,t){var r,n=t.getGeometriesArray();for(r=0;r<n.length;++r)this.SEGMENT_WRITERS_[n[r].getType()].call(this,e,n[r])},F.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;if(t){var r=t.getGeometry();r.setCoordinates(e)}else t=new a["a"](new y["a"](e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t);return t},F.compareIndexes_=function(e,t){return e.index-t.index},F.handleDownEvent_=function(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);var t=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0,this.modified_=!1;var r=this.vertexFeature_;if(r){var i=[],o=r.getGeometry(),a=o.getCoordinates(),s=p["a"].boundingExtent([a]),u=this.rBush_.getInExtent(s),c={};u.sort(F.compareIndexes_);for(var l=0,f=u.length;l<f;++l){var d=u[l],g=d.segment,y=n["a"].getUid(d.feature),m=d.depth;if(m&&(y+="-"+m.join("-")),c[y]||(c[y]=new Array(2)),d.geometry.getType()===v["a"].CIRCLE&&d.index===F.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var _=F.closestOnSegmentData_(t,d);h["a"].equals(_,a)&&!c[y][0]&&(this.dragSegments_.push([d,0]),c[y][0]=d)}else if(h["a"].equals(g[0],a)&&!c[y][0])this.dragSegments_.push([d,0]),c[y][0]=d;else if(h["a"].equals(g[1],a)&&!c[y][1]){if((d.geometry.getType()===v["a"].LINE_STRING||d.geometry.getType()===v["a"].MULTI_LINE_STRING)&&c[y][0]&&0===c[y][0].index)continue;this.dragSegments_.push([d,1]),c[y][1]=d}else this.insertVertexCondition_(e)&&n["a"].getUid(g)in this.vertexSegments_&&!c[y][0]&&!c[y][1]&&i.push([d,a])}i.length&&this.willModifyFeatures_(e);for(var E=i.length-1;E>=0;--E)this.insertVertex_.apply(this,i[E])}return!!this.vertexFeature_},F.handleDragEvent_=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,r=0,n=this.dragSegments_.length;r<n;++r){var i,o=this.dragSegments_[r],a=o[0],s=a.depth,u=a.geometry,c=a.segment,l=o[1];while(t.length<u.getStride())t.push(c[l][t.length]);switch(u.getType()){case v["a"].POINT:i=t,c[0]=c[1]=t;break;case v["a"].MULTI_POINT:i=u.getCoordinates(),i[a.index]=t,c[0]=c[1]=t;break;case v["a"].LINE_STRING:i=u.getCoordinates(),i[a.index+l]=t,c[l]=t;break;case v["a"].MULTI_LINE_STRING:i=u.getCoordinates(),i[s[0]][a.index+l]=t,c[l]=t;break;case v["a"].POLYGON:i=u.getCoordinates(),i[s[0]][a.index+l]=t,c[l]=t;break;case v["a"].MULTI_POLYGON:i=u.getCoordinates(),i[s[1]][s[0]][a.index+l]=t,c[l]=t;break;case v["a"].CIRCLE:c[0]=c[1]=t,a.index===F.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX?(this.changingFeature_=!0,u.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,u.setRadius(h["a"].distance(u.getCenter(),t)),this.changingFeature_=!1);break;default:}i&&this.setGeometryCoordinates_(u,i)}this.createOrUpdateVertexFeature_(t)},F.handleUpEvent_=function(e){for(var t,r,n=this.dragSegments_.length-1;n>=0;--n)if(t=this.dragSegments_[n][0],r=t.geometry,r.getType()===v["a"].CIRCLE){var i=r.getCenter(),o=t.featureSegments[0],a=t.featureSegments[1];o.segment[0]=o.segment[1]=i,a.segment[0]=a.segment[1]=i,this.rBush_.update(p["a"].createOrUpdateFromCoordinate(i),o),this.rBush_.update(r.getExtent(),a)}else this.rBush_.update(p["a"].boundingExtent(t.segment),t);return this.modified_&&(this.dispatchEvent(new F.Event(_.MODIFYEND,this.features_,e)),this.modified_=!1),!1},F.handleEvent=function(e){return!(e instanceof u["a"])||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=s["a"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(t=!(e.type!=s["a"].SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==s["a"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1),E["a"].handleEvent.call(this,e)&&!t);var t},F.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},F.prototype.handlePointerAtPixel_=function(e,t){var r=t.getCoordinateFromPixel(e),i=function(e,t){return F.pointDistanceToSegmentDataSquared_(r,e)-F.pointDistanceToSegmentDataSquared_(r,t)},o=p["a"].buffer(p["a"].createOrUpdateFromCoordinate(r),t.getView().getResolution()*this.pixelTolerance_),a=this.rBush_,s=a.getInExtent(o);if(s.length>0){s.sort(i);var u=s[0],c=u.segment,l=F.closestOnSegmentData_(r,u),f=t.getPixelFromCoordinate(l),d=h["a"].distance(e,f);if(d<=this.pixelTolerance_){var g={};if(u.geometry.getType()===v["a"].CIRCLE&&u.index===F.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(l);else{var y,m=t.getPixelFromCoordinate(c[0]),_=t.getPixelFromCoordinate(c[1]),E=h["a"].squaredDistance(f,m),b=h["a"].squaredDistance(f,_);d=Math.sqrt(Math.min(E,b)),this.snappedToVertex_=d<=this.pixelTolerance_,this.snappedToVertex_&&(l=E>b?c[1]:c[0]),this.createOrUpdateVertexFeature_(l);for(var x=1,w=s.length;x<w;++x){if(y=s[x].segment,!(h["a"].equals(c[0],y[0])&&h["a"].equals(c[1],y[1])||h["a"].equals(c[0],y[1])&&h["a"].equals(c[1],y[0])))break;g[n["a"].getUid(y)]=!0}}return g[n["a"].getUid(c)]=!0,void(this.vertexSegments_=g)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},F.pointDistanceToSegmentDataSquared_=function(e,t){var r=t.geometry;if(r.getType()===v["a"].CIRCLE){var n=r;if(t.index===F.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var i=h["a"].squaredDistance(n.getCenter(),e),o=Math.sqrt(i)-n.getRadius();return o*o}}return h["a"].squaredDistanceToSegment(e,t.segment)},F.closestOnSegmentData_=function(e,t){var r=t.geometry;return r.getType()===v["a"].CIRCLE&&t.index===F.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX?r.getClosestPoint(e):h["a"].closestOnSegment(e,t.segment)},F.prototype.insertVertex_=function(e,t){var r,n=e.segment,i=e.feature,o=e.geometry,a=e.depth,s=e.index;while(t.length<o.getStride())t.push(0);switch(o.getType()){case v["a"].MULTI_LINE_STRING:r=o.getCoordinates(),r[a[0]].splice(s+1,0,t);break;case v["a"].POLYGON:r=o.getCoordinates(),r[a[0]].splice(s+1,0,t);break;case v["a"].MULTI_POLYGON:r=o.getCoordinates(),r[a[1]][a[0]].splice(s+1,0,t);break;case v["a"].LINE_STRING:r=o.getCoordinates(),r.splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(o,r);var u=this.rBush_;u.remove(e),this.updateSegmentIndices_(o,s,a,1);var c={segment:[n[0],t],feature:i,geometry:o,depth:a,index:s};u.insert(p["a"].boundingExtent(c.segment),c),this.dragSegments_.push([c,1]);var h={segment:[t,n[1]],feature:i,geometry:o,depth:a,index:s+1};u.insert(p["a"].boundingExtent(h.segment),h),this.dragSegments_.push([h,0]),this.ignoreNextSingleClick_=!0},F.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s["a"].POINTERDRAG){var e=this.lastPointerEvent_;return this.willModifyFeatures_(e),this.removeVertex_(),this.dispatchEvent(new F.Event(_.MODIFYEND,this.features_,e)),this.modified_=!1,!0}return!1},F.prototype.removeVertex_=function(){var e,t,r,i,o,a,s,u,c,h,l,f=this.dragSegments_,d={},g=!1;for(o=f.length-1;o>=0;--o)r=f[o],h=r[0],l=n["a"].getUid(h.feature),h.depth&&(l+="-"+h.depth.join("-")),l in d||(d[l]={}),0===r[1]?(d[l].right=h,d[l].index=h.index):1==r[1]&&(d[l].left=h,d[l].index=h.index+1);for(l in d){switch(c=d[l].right,s=d[l].left,a=d[l].index,u=a-1,h=void 0!==s?s:c,u<0&&(u=0),i=h.geometry,t=i.getCoordinates(),e=t,g=!1,i.getType()){case v["a"].MULTI_LINE_STRING:t[h.depth[0]].length>2&&(t[h.depth[0]].splice(a,1),g=!0);break;case v["a"].LINE_STRING:t.length>2&&(t.splice(a,1),g=!0);break;case v["a"].MULTI_POLYGON:e=e[h.depth[1]];case v["a"].POLYGON:e=e[h.depth[0]],e.length>4&&(a==e.length-1&&(a=0),e.splice(a,1),g=!0,0===a&&(e.pop(),e.push(e[0]),u=e.length-1));break;default:}if(g){this.setGeometryCoordinates_(i,t);var y=[];if(void 0!==s&&(this.rBush_.remove(s),y.push(s.segment[0])),void 0!==c&&(this.rBush_.remove(c),y.push(c.segment[1])),void 0!==s&&void 0!==c){var m={depth:h.depth,feature:h.feature,geometry:h.geometry,index:u,segment:y};this.rBush_.insert(p["a"].boundingExtent(m.segment),m)}this.updateSegmentIndices_(i,a,h.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return g},F.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},F.prototype.updateSegmentIndices_=function(e,t,r,n){this.rBush_.forEachInExtent(e.getExtent(),(function(i){i.geometry===e&&(void 0===r||void 0===i.depth||c["a"].equals(i.depth,r))&&i.index>t&&(i.index+=n)}))},F.getDefaultStyleFunction=function(){var e=C["a"].createDefaultEditing();return function(t,r){return e[v["a"].POINT]}},F.Event=function(e,t,r){f["a"].call(this,e),this.features=t,this.mapBrowserEvent=r},n["a"].inherits(F.Event,f["a"]);t["a"]=F},"944a":function(e,t,r){var n=r("d066"),i=r("e065"),o=r("d44e");i("toStringTag"),o(n("Symbol"),"Symbol")},a15b:function(e,t,r){"use strict";var n=r("23e7"),i=r("e330"),o=r("44ad"),a=r("fc6a"),s=r("a640"),u=i([].join),c=o!=Object,h=s("join",",");n({target:"Array",proto:!0,forced:c||!h},{join:function(e){return u(a(this),void 0===e?",":e)}})},a4d3:function(e,t,r){r("d9f5"),r("b4f8"),r("c513"),r("e9c4"),r("5a47")},ab36:function(e,t,r){var n=r("861d"),i=r("9112");e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},aeb0:function(e,t,r){var n=r("9bf2").f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},b4f8:function(e,t,r){var n=r("23e7"),i=r("d066"),o=r("1a2d"),a=r("577e"),s=r("5692"),u=r("0b43"),c=s("string-to-symbol-registry"),h=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=a(e);if(o(c,t))return c[t];var r=i("Symbol")(t);return c[t]=r,h[r]=t,r}})},b636:function(e,t,r){var n=r("e065");n("asyncIterator")},b980:function(e,t,r){var n=r("d039"),i=r("5c6c");e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},c513:function(e,t,r){var n=r("23e7"),i=r("1a2d"),o=r("d9b5"),a=r("0d51"),s=r("5692"),u=r("0b43"),c=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!o(e))throw TypeError(a(e)+" is not a symbol");if(i(c,e))return c[e]}})},c7eb:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("b636"),r("944a"),r("0c47"),r("23dc"),r("3410"),r("d9e2"),r("14d9"),r("159b"),r("b0c0"),r("131a"),r("1f68"),r("fb6a");function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function h(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(L){h=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:w(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var d={};function g(){}function p(){}function v(){}var y={};h(y,s,(function(){return this}));var m=Object.getPrototypeOf,_=m&&m(m(O([])));_&&_!==t&&r.call(_,s)&&(y=_);var E=v.prototype=g.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(o,a,s,u){var c=f(e[o],e,a);if("throw"!==c.type){var h=c.arg,l=h.value;return l&&"object"==n(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(l).then((function(e){h.value=e,s(h)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function S(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,o(E,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:p,configurable:!0}),p.displayName=h(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,h(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},b(x.prototype),h(x.prototype,u,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new x(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(E),h(E,c,"Generator"),h(E,s,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),F(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;F(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}},d28b:function(e,t,r){var n=r("e065");n("iterator")},d9e2:function(e,t,r){var n=r("23e7"),i=r("da84"),o=r("2ba4"),a=r("e5cb"),s="WebAssembly",u=i[s],c=7!==Error("e",{cause:7}).cause,h=function(e,t){var r={};r[e]=a(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},l=function(e,t){if(u&&u[e]){var r={};r[e]=a(s+"."+e,t,c),n({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};h("Error",(function(e){return function(t){return o(e,this,arguments)}})),h("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),h("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),h("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),h("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),h("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),h("URIError",(function(e){return function(t){return o(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},d9f5:function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("c65b"),a=r("e330"),s=r("c430"),u=r("83ab"),c=r("04f8"),h=r("d039"),l=r("1a2d"),f=r("3a9b"),d=r("825a"),g=r("fc6a"),p=r("a04b"),v=r("577e"),y=r("5c6c"),m=r("7c73"),_=r("df75"),E=r("241c"),b=r("057f"),x=r("7418"),w=r("06cf"),S=r("9bf2"),C=r("37e8"),F=r("d1e7"),T=r("cb2d"),O=r("5692"),I=r("f772"),L=r("d012"),N=r("90e3"),G=r("b622"),M=r("e538"),P=r("e065"),D=r("57b9"),R=r("d44e"),A=r("69f3"),k=r("b727").forEach,j=I("hidden"),U="Symbol",Y="prototype",B=A.set,V=A.getterFor(U),q=Object[Y],X=i.Symbol,W=X&&X[Y],J=i.TypeError,$=i.QObject,z=w.f,H=S.f,K=b.f,Q=F.f,Z=a([].push),ee=O("symbols"),te=O("op-symbols"),re=O("wks"),ne=!$||!$[Y]||!$[Y].findChild,ie=u&&h((function(){return 7!=m(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=z(q,t);n&&delete q[t],H(e,t,r),n&&e!==q&&H(q,t,n)}:H,oe=function(e,t){var r=ee[e]=m(W);return B(r,{type:U,tag:e,description:t}),u||(r.description=t),r},ae=function(e,t,r){e===q&&ae(te,t,r),d(e);var n=p(t);return d(r),l(ee,n)?(r.enumerable?(l(e,j)&&e[j][n]&&(e[j][n]=!1),r=m(r,{enumerable:y(0,!1)})):(l(e,j)||H(e,j,y(1,{})),e[j][n]=!0),ie(e,n,r)):H(e,n,r)},se=function(e,t){d(e);var r=g(t),n=_(r).concat(fe(r));return k(n,(function(t){u&&!o(ce,r,t)||ae(e,t,r[t])})),e},ue=function(e,t){return void 0===t?m(e):se(m(e),t)},ce=function(e){var t=p(e),r=o(Q,this,t);return!(this===q&&l(ee,t)&&!l(te,t))&&(!(r||!l(this,t)||!l(ee,t)||l(this,j)&&this[j][t])||r)},he=function(e,t){var r=g(e),n=p(t);if(r!==q||!l(ee,n)||l(te,n)){var i=z(r,n);return!i||!l(ee,n)||l(r,j)&&r[j][n]||(i.enumerable=!0),i}},le=function(e){var t=K(g(e)),r=[];return k(t,(function(e){l(ee,e)||l(L,e)||Z(r,e)})),r},fe=function(e){var t=e===q,r=K(t?te:g(e)),n=[];return k(r,(function(e){!l(ee,e)||t&&!l(q,e)||Z(n,ee[e])})),n};c||(X=function(){if(f(W,this))throw J("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=N(e),r=function(e){this===q&&o(r,te,e),l(this,j)&&l(this[j],t)&&(this[j][t]=!1),ie(this,t,y(1,e))};return u&&ne&&ie(q,t,{configurable:!0,set:r}),oe(t,e)},W=X[Y],T(W,"toString",(function(){return V(this).tag})),T(X,"withoutSetter",(function(e){return oe(N(e),e)})),F.f=ce,S.f=ae,C.f=se,w.f=he,E.f=b.f=le,x.f=fe,M.f=function(e){return oe(G(e),e)},u&&(H(W,"description",{configurable:!0,get:function(){return V(this).description}}),s||T(q,"propertyIsEnumerable",ce,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:X}),k(_(re),(function(e){P(e)})),n({target:U,stat:!0,forced:!c},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:ue,defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:he}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:le}),D(),R(X,U),L[j]=!0},e01a:function(e,t,r){"use strict";var n=r("23e7"),i=r("83ab"),o=r("da84"),a=r("e330"),s=r("1a2d"),u=r("1626"),c=r("3a9b"),h=r("577e"),l=r("9bf2").f,f=r("e893"),d=o.Symbol,g=d&&d.prototype;if(i&&u(d)&&(!("description"in g)||void 0!==d().description)){var p={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:h(arguments[0]),t=c(g,this)?new d(e):void 0===e?d():d(e);return""===e&&(p[t]=!0),t};f(v,d),v.prototype=g,g.constructor=v;var y="Symbol(test)"==String(d("test")),m=a(g.valueOf),_=a(g.toString),E=/^Symbol\((.*)\)[^)]+$/,b=a("".replace),x=a("".slice);l(g,"description",{configurable:!0,get:function(){var e=m(this);if(s(p,e))return"";var t=_(e),r=y?x(t,7,-1):b(t,E,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},e065:function(e,t,r){var n=r("428f"),i=r("1a2d"),o=r("e538"),a=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},e391:function(e,t,r){var n=r("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},e538:function(e,t,r){var n=r("b622");t.f=n},e5cb:function(e,t,r){"use strict";var n=r("d066"),i=r("1a2d"),o=r("9112"),a=r("3a9b"),s=r("d2bb"),u=r("e893"),c=r("aeb0"),h=r("7156"),l=r("e391"),f=r("ab36"),d=r("0d26"),g=r("b980"),p=r("83ab"),v=r("c430");e.exports=function(e,t,r,y){var m="stackTraceLimit",_=y?2:1,E=e.split("."),b=E[E.length-1],x=n.apply(null,E);if(x){var w=x.prototype;if(!v&&i(w,"cause")&&delete w.cause,!r)return x;var S=n("Error"),C=t((function(e,t){var r=l(y?t:e,void 0),n=y?new x(e):new x;return void 0!==r&&o(n,"message",r),g&&o(n,"stack",d(n.stack,2)),this&&a(w,this)&&h(n,this,C),arguments.length>_&&f(n,arguments[_]),n}));if(C.prototype=w,"Error"!==b?s?s(C,S):u(C,S,{name:!0}):p&&m in x&&(c(C,x,m),c(C,x,"prepareStackTrace")),u(C,x),!v)try{w.name!==b&&o(w,"name",b),w.constructor=C}catch(F){}return C}}},e9c4:function(e,t,r){var n=r("23e7"),i=r("d066"),o=r("2ba4"),a=r("c65b"),s=r("e330"),u=r("d039"),c=r("e8b5"),h=r("1626"),l=r("861d"),f=r("d9b5"),d=r("f36a"),g=r("04f8"),p=i("JSON","stringify"),v=s(/./.exec),y=s("".charAt),m=s("".charCodeAt),_=s("".replace),E=s(1..toString),b=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,S=!g||u((function(){var e=i("Symbol")();return"[null]"!=p([e])||"{}"!=p({a:e})||"{}"!=p(Object(e))})),C=u((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),F=function(e,t){var r=d(arguments),n=t;if((l(t)||void 0!==e)&&!f(e))return c(t)||(t=function(e,t){if(h(n)&&(t=a(n,this,e,t)),!f(t))return t}),r[1]=t,o(p,null,r)},T=function(e,t,r){var n=y(r,t-1),i=y(r,t+1);return v(x,e)&&!v(w,i)||v(w,e)&&!v(x,n)?"\\u"+E(m(e,0),16):e};p&&n({target:"JSON",stat:!0,arity:3,forced:S||C},{stringify:function(e,t,r){var n=d(arguments),i=o(S?F:p,null,n);return C&&"string"==typeof i?_(i,b,T):i}})},edd0:function(e,t,r){var n=r("13d2"),i=r("9bf2");e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},ee3e:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("GeoServer")]),t("el-breadcrumb-item",[e._v("WFS")]),t("el-breadcrumb-item",[e._v("WFS更新数据")])],1),t("el-card",[t("div",{attrs:{id:"map"}})])],1)},i=[],o=r("c7eb"),a=r("1da1"),s=(r("a15b"),r("43df")),u=r("332e"),c=r("e671"),h=r("02df"),l=r("169c"),f=r("14c4"),d=r("7269"),g=r("8d5e"),p=r("3e31"),v=r("29ae"),y=r("3110"),m=r("715e"),_=r("92cf"),E={data:function(){return{geoserverData:{wsName:"webgistest",uri:"http://www.openplans.org/webgistest",wfsURL:"http://119.91.20.243:28081/geoserver/wfs?",layer:"port"}}},created:function(){},mounted:function(){this.initMap()},methods:{initMap:function(){var e=this,t=new h["a"]({format:new l["a"],url:function(t){return e.geoserverData.wfsURL+"service=WFS&version=1.1.0&request=GetFeature&typeName="+e.geoserverData.wsName+":"+e.geoserverData.layer+"&outputFormat=application/json&srsname=EPSG:4326&bbox="+t.join(",")+",EPSG:4326"},strategy:m["a"].bbox}),r=new c["a"]({title:"add Layer",source:t,style:function(e){return new p["a"]({geometry:e.getGeometry(),image:new v["a"]({radius:5,fill:new y["a"]({color:"blue"})})})}}),n=[Object(_["d"])("vec_w"),Object(_["d"])("cva_w"),r],i=new s["a"]({target:"map",layers:n,view:new u["a"]({projection:"EPSG:4326",center:[114,31],zoom:4})}),o=new d["a"]({layers:[r],style:new p["a"]({image:new v["a"]({radius:8,fill:new y["a"]({color:"#f00"})})})}),a=new g["a"]({features:o.getFeatures()});i.addInteraction(o),i.addInteraction(a),a.setActive(!1),o.on("select",(function(e){var t=e.selected;t.length>0&&(t[0],r.getSource().changed())})),a.on("modifyend",(function(t){var r=t.features,n=r.item(0);e.updateFeature(n)})),i.on("click",(function(e){i.hasFeatureAtPixel(e.pixel)?a.setActive(!0):a.setActive(!1)})),i.on("pointermove",(function(e){i.hasFeatureAtPixel(e.pixel)?i.getTargetElement().style.cursor="pointer":i.getTargetElement().style.cursor="default"}))},updateFeature:function(e){var t=this;return Object(a["a"])(Object(o["a"])().mark((function r(){var n,i,a,s,u,c,h,l,d,g;return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.clone(),i=e.getId(),n.setId(i),a=n.getProperties(),a.address="测试要素修改",s=n.getGeometry().getCoordinates(),a.lng=s[0],a.lat=s[1],n.setProperties(a),n.getGeometry().applyTransform((function(e,t,r){for(var n=0;n<e.length;n+=r){var i=e[n],o=e[n+1];e[n]=o,e[n+1]=i}})),n.setGeometryName("geom"),u=new f["a"],c=u.writeTransaction(null,[n],null,{featureType:t.geoserverData.layer,featureNS:t.geoserverData.uri,srsName:"EPSG:4326"}),h=new XMLSerializer,l=h.serializeToString(c),r.next=17,t.$http.post(t.geoserverData.wfsURL,l,{headers:{"Content-Type":"application/xml"}});case 17:d=r.sent,g=d.data,-1!=g.indexOf("Exception")?(console.log(g),alert("添加失败！"+g)):(alert("添加成功！"),window.location.reload());case 20:case"end":return r.stop()}}),r)})))()}}},b=E,x=r("2877"),w=Object(x["a"])(b,n,i,!1,null,"3f637346",null);t["default"]=w.exports},fb6a:function(e,t,r){"use strict";var n=r("23e7"),i=r("e8b5"),o=r("68ee"),a=r("861d"),s=r("23cb"),u=r("07fa"),c=r("fc6a"),h=r("8418"),l=r("b622"),f=r("1dde"),d=r("f36a"),g=f("slice"),p=l("species"),v=Array,y=Math.max;n({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var r,n,l,f=c(this),g=u(f),m=s(e,g),_=s(void 0===t?g:t,g);if(i(f)&&(r=f.constructor,o(r)&&(r===v||i(r.prototype))?r=void 0:a(r)&&(r=r[p],null===r&&(r=void 0)),r===v||void 0===r))return d(f,m,_);for(n=new(void 0===r?v:r)(y(_-m,0)),l=0;m<_;m++,l++)m in f&&h(n,l,f[m]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-75e26463.80a02172.js.map