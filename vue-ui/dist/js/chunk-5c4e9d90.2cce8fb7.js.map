{"version":3,"sources":["webpack:///./node_modules/ol/style/text.js","webpack:///./src/components/openlayers/ClickHighlight.vue","webpack:///src/components/openlayers/ClickHighlight.vue","webpack:///./src/components/openlayers/ClickHighlight.vue?77e0","webpack:///./src/components/openlayers/ClickHighlight.vue?351c"],"names":["_ol_style_Text_","opt_options","options","this","font_","font","rotation_","rotation","rotateWithView_","rotateWithView","scale_","scale","text_","text","textAlign_","textAlign","textBaseline_","textBaseline","fill_","undefined","fill","color","DEFAULT_FILL_COLOR_","maxAngle_","maxAngle","Math","PI","placement_","placement","POINT","overflow","exceedLength","overflow_","stroke_","stroke","offsetX_","offsetX","offsetY_","offsetY","backgroundFill_","backgroundFill","backgroundStroke_","backgroundStroke","padding_","padding","prototype","clone","getFont","getPlacement","getMaxAngle","getOverflow","getRotation","getRotateWithView","getScale","getText","getTextAlign","getTextBaseline","getFill","getStroke","getOffsetX","getOffsetY","getBackgroundFill","getBackgroundStroke","getPadding","setOverflow","setFont","setMaxAngle","setOffsetX","setOffsetY","setPlacement","setFill","setRotation","setScale","setStroke","setText","setTextAlign","setTextBaseline","setBackgroundFill","setBackgroundStroke","setPadding","render","_vm","_c","_self","attrs","path","_v","staticRenderFns","data","created","mounted","methods","initMap","that","view","zoom","center","map","controls","attribution","target","layers","getTdtLayer","result","features","_r","coord","feature","geometry","name","vectorSource","console","vector","source","style","select","multi","styleFunction","width","_color","_name","image","radius","component"],"mappings":"kHAAA,4BAWIA,EAAkB,SAASC,GAE7B,IAAIC,EAAUD,GAAe,GAM7BE,KAAKC,MAAQF,EAAQG,KAMrBF,KAAKG,UAAYJ,EAAQK,SAMzBJ,KAAKK,gBAAkBN,EAAQO,eAM/BN,KAAKO,OAASR,EAAQS,MAMtBR,KAAKS,MAAQV,EAAQW,KAMrBV,KAAKW,WAAaZ,EAAQa,UAM1BZ,KAAKa,cAAgBd,EAAQe,aAM7Bd,KAAKe,WAAyBC,IAAjBjB,EAAQkB,KAAqBlB,EAAQkB,KAChD,IAAI,OAAgB,CAACC,MAAOrB,EAAgBsB,sBAM9CnB,KAAKoB,eAAiCJ,IAArBjB,EAAQsB,SAAyBtB,EAAQsB,SAAWC,KAAKC,GAAK,EAM/EvB,KAAKwB,gBAAmCR,IAAtBjB,EAAQ0B,UAA0B1B,EAAQ0B,UAAY,OAAyBC,MAGjG,IAAIC,OAAgCX,IAArBjB,EAAQ4B,SAAyB5B,EAAQ6B,aAAe7B,EAAQ4B,SAM/E3B,KAAK6B,eAAyBb,IAAbW,GAAyBA,EAM1C3B,KAAK8B,aAA6Bd,IAAnBjB,EAAQgC,OAAuBhC,EAAQgC,OAAS,KAM/D/B,KAAKgC,cAA+BhB,IAApBjB,EAAQkC,QAAwBlC,EAAQkC,QAAU,EAMlEjC,KAAKkC,cAA+BlB,IAApBjB,EAAQoC,QAAwBpC,EAAQoC,QAAU,EAMlEnC,KAAKoC,gBAAkBrC,EAAQsC,eAAiBtC,EAAQsC,eAAiB,KAMzErC,KAAKsC,kBAAoBvC,EAAQwC,iBAAmBxC,EAAQwC,iBAAmB,KAM/EvC,KAAKwC,cAA+BxB,IAApBjB,EAAQ0C,QAAwB,KAAO1C,EAAQ0C,SAWjE5C,EAAgBsB,oBAAsB,OAQtCtB,EAAgB6C,UAAUC,MAAQ,WAChC,OAAO,IAAI9C,EAAgB,CACzBK,KAAMF,KAAK4C,UACXnB,UAAWzB,KAAK6C,eAChBxB,SAAUrB,KAAK8C,cACfnB,SAAU3B,KAAK+C,cACf3C,SAAUJ,KAAKgD,cACf1C,eAAgBN,KAAKiD,oBACrBzC,MAAOR,KAAKkD,WACZxC,KAAMV,KAAKmD,UACXvC,UAAWZ,KAAKoD,eAChBtC,aAAcd,KAAKqD,kBACnBpC,KAAMjB,KAAKsD,UAAYtD,KAAKsD,UAAUX,aAAU3B,EAChDe,OAAQ/B,KAAKuD,YAAcvD,KAAKuD,YAAYZ,aAAU3B,EACtDiB,QAASjC,KAAKwD,aACdrB,QAASnC,KAAKyD,gBAUlB5D,EAAgB6C,UAAUK,YAAc,WACtC,OAAO/C,KAAK6B,WASdhC,EAAgB6C,UAAUE,QAAU,WAClC,OAAO5C,KAAKC,OASdJ,EAAgB6C,UAAUI,YAAc,WACtC,OAAO9C,KAAKoB,WASdvB,EAAgB6C,UAAUG,aAAe,WACvC,OAAO7C,KAAKwB,YASd3B,EAAgB6C,UAAUc,WAAa,WACrC,OAAOxD,KAAKgC,UASdnC,EAAgB6C,UAAUe,WAAa,WACrC,OAAOzD,KAAKkC,UASdrC,EAAgB6C,UAAUY,QAAU,WAClC,OAAOtD,KAAKe,OASdlB,EAAgB6C,UAAUO,kBAAoB,WAC5C,OAAOjD,KAAKK,iBASdR,EAAgB6C,UAAUM,YAAc,WACtC,OAAOhD,KAAKG,WASdN,EAAgB6C,UAAUQ,SAAW,WACnC,OAAOlD,KAAKO,QASdV,EAAgB6C,UAAUa,UAAY,WACpC,OAAOvD,KAAK8B,SASdjC,EAAgB6C,UAAUS,QAAU,WAClC,OAAOnD,KAAKS,OASdZ,EAAgB6C,UAAUU,aAAe,WACvC,OAAOpD,KAAKW,YASdd,EAAgB6C,UAAUW,gBAAkB,WAC1C,OAAOrD,KAAKa,eASdhB,EAAgB6C,UAAUgB,kBAAoB,WAC5C,OAAO1D,KAAKoC,iBASdvC,EAAgB6C,UAAUiB,oBAAsB,WAC9C,OAAO3D,KAAKsC,mBASdzC,EAAgB6C,UAAUkB,WAAa,WACrC,OAAO5D,KAAKwC,UAUd3C,EAAgB6C,UAAUmB,YAAc,SAASlC,GAC/C3B,KAAK6B,UAAYF,GAUnB9B,EAAgB6C,UAAUoB,QAAU,SAAS5D,GAC3CF,KAAKC,MAAQC,GAUfL,EAAgB6C,UAAUqB,YAAc,SAAS1C,GAC/CrB,KAAKoB,UAAYC,GAUnBxB,EAAgB6C,UAAUsB,WAAa,SAAS/B,GAC9CjC,KAAKgC,SAAWC,GAUlBpC,EAAgB6C,UAAUuB,WAAa,SAAS9B,GAC9CnC,KAAKkC,SAAWC,GAUlBtC,EAAgB6C,UAAUwB,aAAe,SAASzC,GAChDzB,KAAKwB,WAAaC,GAUpB5B,EAAgB6C,UAAUyB,QAAU,SAASlD,GAC3CjB,KAAKe,MAAQE,GAUfpB,EAAgB6C,UAAU0B,YAAc,SAAShE,GAC/CJ,KAAKG,UAAYC,GAUnBP,EAAgB6C,UAAU2B,SAAW,SAAS7D,GAC5CR,KAAKO,OAASC,GAUhBX,EAAgB6C,UAAU4B,UAAY,SAASvC,GAC7C/B,KAAK8B,QAAUC,GAUjBlC,EAAgB6C,UAAU6B,QAAU,SAAS7D,GAC3CV,KAAKS,MAAQC,GAUfb,EAAgB6C,UAAU8B,aAAe,SAAS5D,GAChDZ,KAAKW,WAAaC,GAUpBf,EAAgB6C,UAAU+B,gBAAkB,SAAS3D,GACnDd,KAAKa,cAAgBC,GAUvBjB,EAAgB6C,UAAUgC,kBAAoB,SAASzD,GACrDjB,KAAKoC,gBAAkBnB,GAUzBpB,EAAgB6C,UAAUiC,oBAAsB,SAAS5C,GACvD/B,KAAKsC,kBAAoBP,GAU3BlC,EAAgB6C,UAAUkC,WAAa,SAASnC,GAC9CzC,KAAKwC,SAAWC,GAEH,U,yCCtff,IAAIoC,EAAS,WAAkB,IAAIC,EAAI9E,KAAK+E,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACE,MAAM,CAAC,kBAAkB,wBAAwB,CAACF,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,CAAEC,KAAM,WAAY,CAACJ,EAAIK,GAAG,QAAQJ,EAAG,qBAAqB,CAACD,EAAIK,GAAG,gBAAgBJ,EAAG,qBAAqB,CAACD,EAAIK,GAAG,WAAW,GAAGJ,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,YAAY,IAEtWG,EAAkB,G,kOC4BP,GACfC,gBACA,UAEAC,qBAEAC,mBACA,gBAEAC,SACAC,mBAAA,oLAiBA,OAhBAC,IACAC,cACAC,OACAC,4DAGAC,cACAC,0BACAC,iBACA,WACAC,aACAC,QACAC,wBACAA,yBAEAR,SACA,SAEA,2BAEA,IAFA,SAAAS,SACAC,KACA,4BACAC,YACAC,0DACAC,cACAC,uBACAC,cAEAL,UAEAM,cACAN,aAEAO,wBACAC,cACAC,SACAC,kBACA,gCAGAjB,cAEAkB,cAEAd,WACAe,SACAF,kBACA,gCAGAjB,oBACAkB,2BACAJ,eACA,iBACA,eACA,WACAA,+BAIAd,gCACA,6BACAA,4CAEAA,+CAEA,2CAlEA,IAoEAoB,4BACA,kBACAhG,cACAiG,UAEA,cACAjG,cAEA,KACAkG,SAKA,OAJA,IACAC,gBACAD,UAEA,YACArF,SACAd,OACAqG,kBACAC,SACAtG,iBACAC,YAGAR,iBACAA,OACAE,iBACAqB,WACA/B,4BACAe,iBACAC,cAEAa,mBACAb,cACAiG,iBC7IuW,I,YCOnWK,EAAY,eACd,EACA3C,EACAO,GACA,EACA,KACA,WACA,MAIa,aAAAoC,E","file":"js/chunk-5c4e9d90.2cce8fb7.js","sourcesContent":["import _ol_style_Fill_ from '../style/fill.js';\nimport _ol_style_TextPlacement_ from '../style/textplacement.js';\n\n/**\n * @classdesc\n * Set text style for vector features.\n *\n * @constructor\n * @param {olx.style.TextOptions=} opt_options Options.\n * @api\n */\nvar _ol_style_Text_ = function(opt_options) {\n\n  var options = opt_options || {};\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.font_ = options.font;\n\n  /**\n   * @private\n   * @type {number|undefined}\n   */\n  this.rotation_ = options.rotation;\n\n  /**\n   * @private\n   * @type {boolean|undefined}\n   */\n  this.rotateWithView_ = options.rotateWithView;\n\n  /**\n   * @private\n   * @type {number|undefined}\n   */\n  this.scale_ = options.scale;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.text_ = options.text;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.textAlign_ = options.textAlign;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.textBaseline_ = options.textBaseline;\n\n  /**\n   * @private\n   * @type {ol.style.Fill}\n   */\n  this.fill_ = options.fill !== undefined ? options.fill :\n    new _ol_style_Fill_({color: _ol_style_Text_.DEFAULT_FILL_COLOR_});\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.maxAngle_ = options.maxAngle !== undefined ? options.maxAngle : Math.PI / 4;\n\n  /**\n   * @private\n   * @type {ol.style.TextPlacement|string}\n   */\n  this.placement_ = options.placement !== undefined ? options.placement : _ol_style_TextPlacement_.POINT;\n\n  //TODO Use options.overflow directly after removing @deprecated exceedLength\n  var overflow = options.overflow === undefined ? options.exceedLength : options.overflow;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.overflow_ = overflow !== undefined ? overflow : false;\n\n  /**\n   * @private\n   * @type {ol.style.Stroke}\n   */\n  this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.offsetX_ = options.offsetX !== undefined ? options.offsetX : 0;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.offsetY_ = options.offsetY !== undefined ? options.offsetY : 0;\n\n  /**\n   * @private\n   * @type {ol.style.Fill}\n   */\n  this.backgroundFill_ = options.backgroundFill ? options.backgroundFill : null;\n\n  /**\n   * @private\n   * @type {ol.style.Stroke}\n   */\n  this.backgroundStroke_ = options.backgroundStroke ? options.backgroundStroke : null;\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.padding_ = options.padding === undefined ? null : options.padding;\n};\n\n\n/**\n * The default fill color to use if no fill was set at construction time; a\n * blackish `#333`.\n *\n * @const {string}\n * @private\n */\n_ol_style_Text_.DEFAULT_FILL_COLOR_ = '#333';\n\n\n/**\n * Clones the style.\n * @return {ol.style.Text} The cloned style.\n * @api\n */\n_ol_style_Text_.prototype.clone = function() {\n  return new _ol_style_Text_({\n    font: this.getFont(),\n    placement: this.getPlacement(),\n    maxAngle: this.getMaxAngle(),\n    overflow: this.getOverflow(),\n    rotation: this.getRotation(),\n    rotateWithView: this.getRotateWithView(),\n    scale: this.getScale(),\n    text: this.getText(),\n    textAlign: this.getTextAlign(),\n    textBaseline: this.getTextBaseline(),\n    fill: this.getFill() ? this.getFill().clone() : undefined,\n    stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n    offsetX: this.getOffsetX(),\n    offsetY: this.getOffsetY()\n  });\n};\n\n\n/**\n * Get the `overflow` configuration.\n * @return {boolean} Let text overflow the length of the path they follow.\n * @api\n */\n_ol_style_Text_.prototype.getOverflow = function() {\n  return this.overflow_;\n};\n\n\n/**\n * Get the font name.\n * @return {string|undefined} Font.\n * @api\n */\n_ol_style_Text_.prototype.getFont = function() {\n  return this.font_;\n};\n\n\n/**\n * Get the maximum angle between adjacent characters.\n * @return {number} Angle in radians.\n * @api\n */\n_ol_style_Text_.prototype.getMaxAngle = function() {\n  return this.maxAngle_;\n};\n\n\n/**\n * Get the label placement.\n * @return {ol.style.TextPlacement|string} Text placement.\n * @api\n */\n_ol_style_Text_.prototype.getPlacement = function() {\n  return this.placement_;\n};\n\n\n/**\n * Get the x-offset for the text.\n * @return {number} Horizontal text offset.\n * @api\n */\n_ol_style_Text_.prototype.getOffsetX = function() {\n  return this.offsetX_;\n};\n\n\n/**\n * Get the y-offset for the text.\n * @return {number} Vertical text offset.\n * @api\n */\n_ol_style_Text_.prototype.getOffsetY = function() {\n  return this.offsetY_;\n};\n\n\n/**\n * Get the fill style for the text.\n * @return {ol.style.Fill} Fill style.\n * @api\n */\n_ol_style_Text_.prototype.getFill = function() {\n  return this.fill_;\n};\n\n\n/**\n * Determine whether the text rotates with the map.\n * @return {boolean|undefined} Rotate with map.\n * @api\n */\n_ol_style_Text_.prototype.getRotateWithView = function() {\n  return this.rotateWithView_;\n};\n\n\n/**\n * Get the text rotation.\n * @return {number|undefined} Rotation.\n * @api\n */\n_ol_style_Text_.prototype.getRotation = function() {\n  return this.rotation_;\n};\n\n\n/**\n * Get the text scale.\n * @return {number|undefined} Scale.\n * @api\n */\n_ol_style_Text_.prototype.getScale = function() {\n  return this.scale_;\n};\n\n\n/**\n * Get the stroke style for the text.\n * @return {ol.style.Stroke} Stroke style.\n * @api\n */\n_ol_style_Text_.prototype.getStroke = function() {\n  return this.stroke_;\n};\n\n\n/**\n * Get the text to be rendered.\n * @return {string|undefined} Text.\n * @api\n */\n_ol_style_Text_.prototype.getText = function() {\n  return this.text_;\n};\n\n\n/**\n * Get the text alignment.\n * @return {string|undefined} Text align.\n * @api\n */\n_ol_style_Text_.prototype.getTextAlign = function() {\n  return this.textAlign_;\n};\n\n\n/**\n * Get the text baseline.\n * @return {string|undefined} Text baseline.\n * @api\n */\n_ol_style_Text_.prototype.getTextBaseline = function() {\n  return this.textBaseline_;\n};\n\n\n/**\n * Get the background fill style for the text.\n * @return {ol.style.Fill} Fill style.\n * @api\n */\n_ol_style_Text_.prototype.getBackgroundFill = function() {\n  return this.backgroundFill_;\n};\n\n\n/**\n * Get the background stroke style for the text.\n * @return {ol.style.Stroke} Stroke style.\n * @api\n */\n_ol_style_Text_.prototype.getBackgroundStroke = function() {\n  return this.backgroundStroke_;\n};\n\n\n/**\n * Get the padding for the text.\n * @return {Array.<number>} Padding.\n * @api\n */\n_ol_style_Text_.prototype.getPadding = function() {\n  return this.padding_;\n};\n\n\n/**\n * Set the `overflow` property.\n *\n * @param {boolean} overflow Let text overflow the path that it follows.\n * @api\n */\n_ol_style_Text_.prototype.setOverflow = function(overflow) {\n  this.overflow_ = overflow;\n};\n\n\n/**\n * Set the font.\n *\n * @param {string|undefined} font Font.\n * @api\n */\n_ol_style_Text_.prototype.setFont = function(font) {\n  this.font_ = font;\n};\n\n\n/**\n * Set the maximum angle between adjacent characters.\n *\n * @param {number} maxAngle Angle in radians.\n * @api\n */\n_ol_style_Text_.prototype.setMaxAngle = function(maxAngle) {\n  this.maxAngle_ = maxAngle;\n};\n\n\n/**\n * Set the x offset.\n *\n * @param {number} offsetX Horizontal text offset.\n * @api\n */\n_ol_style_Text_.prototype.setOffsetX = function(offsetX) {\n  this.offsetX_ = offsetX;\n};\n\n\n/**\n * Set the y offset.\n *\n * @param {number} offsetY Vertical text offset.\n * @api\n */\n_ol_style_Text_.prototype.setOffsetY = function(offsetY) {\n  this.offsetY_ = offsetY;\n};\n\n\n/**\n * Set the text placement.\n *\n * @param {ol.style.TextPlacement|string} placement Placement.\n * @api\n */\n_ol_style_Text_.prototype.setPlacement = function(placement) {\n  this.placement_ = placement;\n};\n\n\n/**\n * Set the fill.\n *\n * @param {ol.style.Fill} fill Fill style.\n * @api\n */\n_ol_style_Text_.prototype.setFill = function(fill) {\n  this.fill_ = fill;\n};\n\n\n/**\n * Set the rotation.\n *\n * @param {number|undefined} rotation Rotation.\n * @api\n */\n_ol_style_Text_.prototype.setRotation = function(rotation) {\n  this.rotation_ = rotation;\n};\n\n\n/**\n * Set the scale.\n *\n * @param {number|undefined} scale Scale.\n * @api\n */\n_ol_style_Text_.prototype.setScale = function(scale) {\n  this.scale_ = scale;\n};\n\n\n/**\n * Set the stroke.\n *\n * @param {ol.style.Stroke} stroke Stroke style.\n * @api\n */\n_ol_style_Text_.prototype.setStroke = function(stroke) {\n  this.stroke_ = stroke;\n};\n\n\n/**\n * Set the text.\n *\n * @param {string|undefined} text Text.\n * @api\n */\n_ol_style_Text_.prototype.setText = function(text) {\n  this.text_ = text;\n};\n\n\n/**\n * Set the text alignment.\n *\n * @param {string|undefined} textAlign Text align.\n * @api\n */\n_ol_style_Text_.prototype.setTextAlign = function(textAlign) {\n  this.textAlign_ = textAlign;\n};\n\n\n/**\n * Set the text baseline.\n *\n * @param {string|undefined} textBaseline Text baseline.\n * @api\n */\n_ol_style_Text_.prototype.setTextBaseline = function(textBaseline) {\n  this.textBaseline_ = textBaseline;\n};\n\n\n/**\n * Set the background fill.\n *\n * @param {ol.style.Fill} fill Fill style.\n * @api\n */\n_ol_style_Text_.prototype.setBackgroundFill = function(fill) {\n  this.backgroundFill_ = fill;\n};\n\n\n/**\n * Set the background stroke.\n *\n * @param {ol.style.Stroke} stroke Stroke style.\n * @api\n */\n_ol_style_Text_.prototype.setBackgroundStroke = function(stroke) {\n  this.backgroundStroke_ = stroke;\n};\n\n\n/**\n * Set the padding (`[top, right, bottom, left]`).\n *\n * @param {!Array.<number>} padding Padding.\n * @api\n */\n_ol_style_Text_.prototype.setPadding = function(padding) {\n  this.padding_ = padding;\n};\nexport default _ol_style_Text_;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"OpenLayers\")]),_c('el-breadcrumb-item',[_vm._v(\"点击高亮\")])],1),_c('el-card',[_c('div',{attrs:{\"id\":\"map\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--面包屑导航区域-->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>OpenLayers</el-breadcrumb-item>\r\n      <el-breadcrumb-item>点击高亮</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--卡片区域-->\r\n    <el-card>\r\n      <div id=\"map\"></div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Map from 'ol/map';\r\nimport View from 'ol/view';\r\nimport Feature from 'ol/feature';\r\nimport Point from 'ol/geom/point';\r\nimport VectorLayer from 'ol/layer/vector';\r\nimport Vector from 'ol/source/vector';\r\nimport Select from 'ol/interaction/select';\r\nimport Style from 'ol/style/style';\r\nimport Stroke from 'ol/style/stroke';\r\nimport Fill from 'ol/style/fill';\r\nimport Circle from 'ol/style/circle';\r\nimport Text from 'ol/style/text';\r\nimport proj from 'ol/proj';\r\nimport control from 'ol/control';\r\nimport {getTdtLayer} from \"../../utils/searchUtils\";\r\nexport default {\r\n  data() {\r\n    return {}\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    this.initMap()\r\n  },\r\n  methods: {\r\n    async initMap() {\r\n      const that = this\r\n      let view = new View({\r\n        zoom: 4,\r\n        center: proj.transform([110, 39], \"EPSG:4326\", \"EPSG:3857\")\r\n      });\r\n\r\n      let map = new Map({\r\n        controls: control.defaults({\r\n          attribution: false\r\n        }).extend([]),\r\n        target: \"map\",\r\n        layers: [\r\n          getTdtLayer(\"vec_w\"),\r\n          getTdtLayer(\"cva_w\")\r\n        ],\r\n        view: view\r\n      });\r\n\r\n      const { data: result } = await this.$API.getCapital()\r\n      let features = [];\r\n      for (let i = 0, len = result.data.length; i < len; i++) {\r\n        let _r = result.data[i],\r\n          coord = proj.transform([_r.lon, _r.lat], \"EPSG:4326\", \"EPSG:3857\");\r\n        let feature = new Feature({\r\n          geometry: new Point(coord),\r\n          name: _r.name\r\n        });\r\n        features.push(feature);\r\n      }\r\n      let vectorSource = new Vector({\r\n        features: features\r\n      });\r\n      console.log(vectorSource.getUrl());\r\n      let vector = new VectorLayer({\r\n        source: vectorSource,\r\n        style: function (feature) {\r\n          return that.styleFunction(feature, false);\r\n        }\r\n      });\r\n      map.addLayer(vector);\r\n\r\n      let select = new Select({\r\n        // condition: ol.events.condition.pointerMove,\r\n        layers: [vector],\r\n        multi: true,\r\n        style: function (feature) {\r\n          return that.styleFunction(feature, true);\r\n        }\r\n      });\r\n      map.addInteraction(select);\r\n      select.on(\"select\", function (e) {\r\n        console.log(e);\r\n        let features = e.selected;\r\n        if (features.length > 0) {\r\n          let feature = features[0];\r\n          console.log(feature.get(\"name\"));\r\n        }\r\n      });\r\n\r\n      map.on('pointermove', function (evt) {\r\n        if (map.hasFeatureAtPixel(evt.pixel)) {\r\n          map.getTargetElement().style.cursor = \"pointer\"\r\n        } else {\r\n          map.getTargetElement().style.cursor = \"default\"\r\n        }\r\n      });\r\n    },\r\n    styleFunction(feature, isSelect) {\r\n      let stroke = new Stroke({\r\n        color: 'black',\r\n        width: 2\r\n      });\r\n      let fill = new Fill({\r\n        color: 'red'\r\n      });\r\n      let _name = \"\",\r\n        _color = \"#ccc\";\r\n      if (isSelect) {\r\n        _name = feature.get(\"name\");\r\n        _color = \"#f00\";\r\n      }\r\n      return new Style({\r\n        stroke: stroke,\r\n        fill: fill,\r\n        image: new Circle({\r\n          radius: 8,\r\n          fill: new Fill({\r\n            color: _color\r\n          })\r\n        }),\r\n        text: new Text({\r\n          text: _name,\r\n          textAlign: \"left\",\r\n          offsetX: 12,\r\n          font: \"bold 13px sans-serif\",\r\n          fill: new Fill({\r\n            color: 'red'\r\n          }),\r\n          stroke: new Stroke({\r\n            color: 'white',\r\n            width: 2\r\n          })\r\n        })\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClickHighlight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClickHighlight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClickHighlight.vue?vue&type=template&id=01eca538&scoped=true&\"\nimport script from \"./ClickHighlight.vue?vue&type=script&lang=js&\"\nexport * from \"./ClickHighlight.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01eca538\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}