(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e26540c2"],{"05b1":function(t,e,i){"use strict";var r=i("9d79"),a=i("9cff"),n=i("9f5e"),s=i("0af5"),o=i("38f3"),u=i("256f"),c=i("40f5"),h={KVP:"KVP",REST:"REST"},l=h,p=i("a8d0"),g=i("c721"),d=function(t){this.version_=void 0!==t.version?t.version:"1.0.0",this.format_=void 0!==t.format?t.format:"image/jpeg",this.dimensions_=void 0!==t.dimensions?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=a["a"].expandUrl(t.url)),this.requestEncoding_=void 0!==t.requestEncoding?t.requestEncoding:l.KVP;var i=this.requestEncoding_,r=t.tileGrid,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};i==l.KVP&&o["a"].assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});var s=this.dimensions_;this.createFromWMTSTemplate_=function(t){return t=i==l.KVP?g["a"].appendParams(t,n):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t})),function(e,a,n){if(e){var u={TileMatrix:r.getMatrixId(e[0]),TileCol:e[1],TileRow:-e[2]-1};o["a"].assign(u,s);var c=t;return c=i==l.KVP?g["a"].appendParams(c,u):c.replace(/\{(\w+?)\}/g,(function(t,e){return u[e]})),c}}};var u=e&&e.length>0?a["a"].createFromTileUrlFunctions(e.map(this.createFromWMTSTemplate_)):a["a"].nullTileUrlFunction;c["a"].call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:u,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),this.setKey(this.getKeyForDimensions_())};r["a"].inherits(d,c["a"]),d.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):a["a"].createFromTileUrlFunctions(t.map(this.createFromWMTSTemplate_.bind(this))),e)},d.prototype.getDimensions=function(){return this.dimensions_},d.prototype.getFormat=function(){return this.format_},d.prototype.getLayer=function(){return this.layer_},d.prototype.getMatrixSet=function(){return this.matrixSet_},d.prototype.getRequestEncoding=function(){return this.requestEncoding_},d.prototype.getStyle=function(){return this.style_},d.prototype.getVersion=function(){return this.version_},d.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},d.prototype.updateDimensions=function(t){o["a"].assign(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},d.optionsFromCapabilities=function(t,e){var i=t["Contents"]["Layer"],r=n["a"].find(i,(function(t,i,r){return t["Identifier"]==e["layer"]}));if(null===r)return null;var a,o,c,h=t["Contents"]["TileMatrixSet"];a=r["TileMatrixSetLink"].length>1?"projection"in e?n["a"].findIndex(r["TileMatrixSetLink"],(function(t,i,r){var a=n["a"].find(h,(function(e){return e["Identifier"]==t["TileMatrixSet"]})),s=a["SupportedCRS"],o=u["a"].get(s.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||u["a"].get(s),c=u["a"].get(e["projection"]);return o&&c?u["a"].equivalent(o,c):s==e["projection"]})):n["a"].findIndex(r["TileMatrixSetLink"],(function(t,i,r){return t["TileMatrixSet"]==e["matrixSet"]})):0,a<0&&(a=0),o=r["TileMatrixSetLink"][a]["TileMatrixSet"],c=r["TileMatrixSetLink"][a]["TileMatrixSetLimits"];var g=r["Format"][0];"format"in e&&(g=e["format"]),a=n["a"].findIndex(r["Style"],(function(t,i,r){return"style"in e?t["Title"]==e["style"]:t["isDefault"]})),a<0&&(a=0);var d=r["Style"][a]["Identifier"],m={};"Dimension"in r&&r["Dimension"].forEach((function(t,e,i){var r=t["Identifier"],a=t["Default"];void 0===a&&(a=t["Value"][0]),m[r]=a}));var _,f=t["Contents"]["TileMatrixSet"],v=n["a"].find(f,(function(t,e,i){return t["Identifier"]==o})),E=v["SupportedCRS"];if(E&&(_=u["a"].get(E.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||u["a"].get(E)),"projection"in e){var S=u["a"].get(e["projection"]);S&&(_&&!u["a"].equivalent(S,_)||(_=S))}var R,T,I=r["WGS84BoundingBox"];if(void 0!==I){var y=u["a"].get("EPSG:4326").getExtent();T=I[0]==y[0]&&I[2]==y[2],R=u["a"].transformExtent(I,"EPSG:4326",_);var x=_.getExtent();x&&(s["a"].containsExtent(x,R)||(R=void 0))}var O=p["a"].createFromCapabilitiesMatrixSet(v,R,c),A=[],M=e["requestEncoding"];if(M=void 0!==M?M:"","OperationsMetadata"in t&&"GetTile"in t["OperationsMetadata"])for(var w=t["OperationsMetadata"]["GetTile"]["DCP"]["HTTP"]["Get"],L=0,b=w.length;L<b;++L)if(w[L]["Constraint"]){var F=n["a"].find(w[L]["Constraint"],(function(t){return"GetEncoding"==t["name"]})),P=F["AllowedValues"]["Value"];if(""===M&&(M=P[0]),M!==l.KVP)break;n["a"].includes(P,l.KVP)&&A.push(w[L]["href"])}else w[L]["href"]&&(M=l.KVP,A.push(w[L]["href"]));return 0===A.length&&(M=l.REST,r["ResourceURL"].forEach((function(t){"tile"===t["resourceType"]&&(g=t["format"],A.push(t["template"]))}))),{urls:A,layer:e["layer"],matrixSet:o,format:g,projection:_,requestEncoding:M,tileGrid:O,style:d,dimensions:m,wrapX:T,crossOrigin:e["crossOrigin"]}};e["a"]=d},"0f62":function(t,e,i){"use strict";var r=i("9d79"),a=i("0258"),n=i("0511"),s=function(t){var e=t||{};n["a"].call(this,e),this.type=a["a"].IMAGE};r["a"].inherits(s,n["a"]),s.prototype.getSource,e["a"]=s},2350:function(t,e,i){"use strict";var r={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};e["a"]=r},"24df":function(t,e,i){"use strict";var r=i("9d79"),a=i("4e0a"),n=i("5bc0"),s=i("1e8d"),o=i("8fc0"),u=i("0af5"),c=function(t,e,i,r,s,o){a["a"].call(this,t,e,i,n["a"].IDLE),this.src_=r,this.image_=new Image,null!==s&&(this.image_.crossOrigin=s),this.imageListenerKeys_=null,this.state=n["a"].IDLE,this.imageLoadFunction_=o};r["a"].inherits(c,a["a"]),c.prototype.getImage=function(){return this.image_},c.prototype.handleImageError_=function(){this.state=n["a"].ERROR,this.unlistenImage_(),this.changed()},c.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=u["a"].getHeight(this.extent)/this.image_.height),this.state=n["a"].LOADED,this.unlistenImage_(),this.changed()},c.prototype.load=function(){this.state!=n["a"].IDLE&&this.state!=n["a"].ERROR||(this.state=n["a"].LOADING,this.changed(),this.imageListenerKeys_=[s["a"].listenOnce(this.image_,o["a"].ERROR,this.handleImageError_,this),s["a"].listenOnce(this.image_,o["a"].LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},c.prototype.setImage=function(t){this.image_=t},c.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s["a"].unlistenByKey),this.imageListenerKeys_=null};var h=c,l=i("92fa"),p=i("38f3"),g=i("256f"),d=i("3c81"),m=i("9f5e"),_=i("d60d"),f=i("c9f1"),v=function(t,e,i,s,o,c){this.targetProj_=e,this.maxSourceExtent_=t.getExtent();var h=e.getExtent(),l=h?u["a"].getIntersection(i,h):i,p=u["a"].getCenter(l),g=d["a"].calculateSourceResolution(t,e,p,s),m=r["a"].DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new f["a"](t,e,l,this.maxSourceExtent_,g*m),this.targetResolution_=s,this.targetExtent_=i;var _=this.triangulation_.calculateSourceExtent();this.sourceImage_=c(_,g,o),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var v=n["a"].LOADED;this.sourceImage_&&(v=n["a"].IDLE),a["a"].call(this,i,s,this.sourcePixelRatio_,v)};r["a"].inherits(v,a["a"]),v.prototype.disposeInternal=function(){this.state==n["a"].LOADING&&this.unlistenSource_(),a["a"].prototype.disposeInternal.call(this)},v.prototype.getImage=function(){return this.canvas_},v.prototype.getProjection=function(){return this.targetProj_},v.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==n["a"].LOADED){var e=u["a"].getWidth(this.targetExtent_)/this.targetResolution_,i=u["a"].getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=d["a"].render(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},v.prototype.load=function(){if(this.state==n["a"].IDLE){this.state=n["a"].LOADING,this.changed();var t=this.sourceImage_.getState();t==n["a"].LOADED||t==n["a"].ERROR?this.reproject_():(this.sourceListenerKey_=s["a"].listen(this.sourceImage_,o["a"].CHANGE,(function(t){var e=this.sourceImage_.getState();e!=n["a"].LOADED&&e!=n["a"].ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},v.prototype.unlistenSource_=function(){s["a"].unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null};var E=v,S=i("ef85"),R=function(t){S["a"].call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0};r["a"].inherits(R,S["a"]),R.prototype.getResolutions=function(){return this.resolutions_},R.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=m["a"].linearFindNearest(this.resolutions_,t,0);t=this.resolutions_[e]}return t},R.prototype.getImage=function(t,e,i,a){var n=this.getProjection();if(r["a"].ENABLE_RASTER_REPROJECTION&&n&&a&&!g["a"].equivalent(n,a)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&g["a"].equivalent(this.reprojectedImage_.getProjection(),a)&&this.reprojectedImage_.getResolution()==e&&u["a"].equals(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new E(n,a,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,n)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return n&&(a=n),this.getImageInternal(t,e,i,a)},R.prototype.getImageInternal=function(t,e,i,r){},R.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case n["a"].LOADING:this.dispatchEvent(new R.Event(R.EventType_.IMAGELOADSTART,e));break;case n["a"].LOADED:this.dispatchEvent(new R.Event(R.EventType_.IMAGELOADEND,e));break;case n["a"].ERROR:this.dispatchEvent(new R.Event(R.EventType_.IMAGELOADERROR,e));break;default:}},R.defaultImageLoadFunction=function(t,e){t.getImage().src=e},R.Event=function(t,e){_["a"].call(this,t),this.image=e},r["a"].inherits(R.Event,_["a"]),R.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};var T=R,I=i("2350"),y=i("b0c1"),x=i("c721"),O=function(t){var e=t||{};T.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:T.defaultImageLoadFunction,this.params_=e.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5};r["a"].inherits(O,T),O.GETFEATUREINFO_IMAGE_SIZE_=[101,101],O.prototype.getGetFeatureInfoUrl=function(t,e,i,a){if(void 0!==this.url_){var n=g["a"].get(i),s=this.getProjection();s&&s!==n&&(e=d["a"].calculateSourceResolution(s,n,t,e),t=g["a"].transform(t,n,s));var o=u["a"].getForViewAndSize(t,e,0,O.GETFEATUREINFO_IMAGE_SIZE_),c={SERVICE:"WMS",VERSION:r["a"].DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_["LAYERS"]};p["a"].assign(c,this.params_,a);var h=Math.floor((t[0]-o[0])/e),l=Math.floor((o[3]-t[1])/e);return c[this.v13_?"I":"X"]=h,c[this.v13_?"J":"Y"]=l,this.getRequestUrl_(o,O.GETFEATUREINFO_IMAGE_SIZE_,1,s||n,c)}},O.prototype.getParams=function(){return this.params_},O.prototype.getImageInternal=function(t,e,i,a){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);var n=e/i,c=u["a"].getCenter(t),l=Math.ceil(u["a"].getWidth(t)/n),g=Math.ceil(u["a"].getHeight(t)/n),d=u["a"].getForViewAndSize(c,n,0,[l,g]),m=Math.ceil(this.ratio_*u["a"].getWidth(t)/n),_=Math.ceil(this.ratio_*u["a"].getHeight(t)/n),f=u["a"].getForViewAndSize(c,n,0,[m,_]),v=this.image_;if(v&&this.renderedRevision_==this.getRevision()&&v.getResolution()==e&&v.getPixelRatio()==i&&u["a"].containsExtent(v.getExtent(),d))return v;var E={SERVICE:"WMS",VERSION:r["a"].DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};p["a"].assign(E,this.params_),this.imageSize_[0]=Math.round(u["a"].getWidth(f)/n),this.imageSize_[1]=Math.round(u["a"].getHeight(f)/n);var S=this.getRequestUrl_(f,this.imageSize_,i,a,E);return this.image_=new h(f,e,i,S,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),s["a"].listen(this.image_,o["a"].CHANGE,this.handleImageChange,this),this.image_},O.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},O.prototype.getRequestUrl_=function(t,e,i,r,a){if(l["a"].assert(void 0!==this.url_,9),a[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(a["STYLES"]=""),1!=i)switch(this.serverType_){case I["a"].GEOSERVER:var n=90*i+.5|0;"FORMAT_OPTIONS"in a?a["FORMAT_OPTIONS"]+=";dpi:"+n:a["FORMAT_OPTIONS"]="dpi:"+n;break;case I["a"].MAPSERVER:a["MAP_RESOLUTION"]=90*i;break;case I["a"].CARMENTA_SERVER:case I["a"].QGIS:a["DPI"]=90*i;break;default:l["a"].assert(!1,8);break}a["WIDTH"]=e[0],a["HEIGHT"]=e[1];var s,o=r.getAxisOrientation();return s=this.v13_&&"ne"==o.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,a["BBOX"]=s.join(","),x["a"].appendParams(this.url_,a)},O.prototype.getUrl=function(){return this.url_},O.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},O.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},O.prototype.updateParams=function(t){p["a"].assign(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},O.prototype.updateV13_=function(){var t=this.params_["VERSION"]||r["a"].DEFAULT_WMS_VERSION;this.v13_=y["a"].compareVersions(t,"1.3")>=0};e["a"]=O},6103:function(t,e,i){},8956:function(t,e,i){"use strict";var r=i("9d79"),a=i("403d"),n=function(t){var e,i=t||{};e=void 0!==i.attributions?i.attributions:[n.ATTRIBUTION];var r=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",s=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";a["a"].call(this,{attributions:e,cacheSize:i.cacheSize,crossOrigin:r,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:s,wrapX:i.wrapX})};r["a"].inherits(n,a["a"]),n.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',e["a"]=n},"8c50":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),e("el-breadcrumb-item",[t._v("OpenLayers")]),e("el-breadcrumb-item",[t._v("图层多选控件")])],1),e("el-card",[e("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map"}},[e("div",{attrs:{id:"mouse-position"}}),e("div",{staticClass:"layerControl",attrs:{id:"layerControl"}},[e("div",{staticClass:"title"},[e("label",[t._v("图层列表")])]),e("ul",{staticClass:"layerTree",attrs:{id:"layerTree"}})])])])],1)},a=[],n=(i("b0c0"),i("43df")),s=i("332e"),o=i("4ca6"),u=i("0f62"),c=i("97ab"),h=i("a8d0"),l=i("8956"),p=i("403d"),g=i("40f5"),d=i("24df"),m=i("bcb4"),_=i("05b1"),f=i("256f"),v=i("0af5"),E={data:function(){return{}},created:function(){},mounted:function(){this.initMap()},methods:{initMap:function(){var t=new n["a"]({target:"map",layers:[this.osmMap(),this.baiduMap(),this.tianMap(),this.wmsImage(),this.wmsTile(),this.wmsGrid(),this.wmtsMap()],view:new s["a"]({center:[0,0],zoom:2})});console.log(t),this.loadLayersControl(t,"layerTree")},osmMap:function(){var t=new o["a"]({source:new l["a"],visible:!0,name:"OSM地图"});return t},baiduMap:function(){for(var t=f["a"].get("EPSG:3857"),e=[],i=0;i<19;i++)e[i]=Math.pow(2,18-i);var r=new c["a"]({origin:[0,0],resolutions:e}),a=new g["a"]({projection:t,tileGrid:r,tileUrlFunction:function(t,e,i){if(!t)return"";var r=t[0],a=t[1],n=-t[2]-1;return"http://online1.map.bdimg.com/onlinelabel/?qt=tile&x="+a+"&y="+n+"&z="+r+"&styles=pl&scaler=1&udt=20191119"}}),n=new o["a"]({source:a,visible:!0,name:"百度地图"});return n},tianMap:function(){var t=new o["a"]({source:new p["a"]({url:"http://t4.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=49ea1deec0ffd88ef13a3f69987e9a63"}),visible:!0,name:"天地图"});return t},wmsImage:function(){var t=new d["a"]({url:"https://ahocelet.com/geoserver/wms",params:{LAYERS:"topp:states"},ratio:1,serverType:"geoserver"});return new u["a"]({extent:[-13884991,2870341,-7455066,6338219],source:t,visible:!0,name:"wmsImage地图"})},wmsTile:function(){var t=new m["a"]({url:"https://ahocelet.com/geoserver/wms",params:{LAYERS:"ne:ne_10m_admin_0_countries",TILED:!0},serverType:"geoserver"});return new o["a"]({source:t,visible:!0,name:"wmsTile地图"})},wmsGrid:function(){for(var t=f["a"].get("EPSG:3857").getExtent(),e=v["a"].getWidth(t)/256,i=new Array(22),r=0,a=i.length;r<a;++r)i[r]=e/Math.pow(2,r);var n=new c["a"]({extent:[-13884991,2870341,-7455066,6338219],resolutions:i,tileSize:[512,256]}),s=new m["a"]({url:"https://ahocelet.com/geoserver/wms",params:{LAYERS:"topp:states",TILED:!0},serverType:"geoserver",tileGrid:n});return new o["a"]({source:s,visible:!0,name:"wmsGrid地图"})},wmtsMap:function(){for(var t=f["a"].get("EPSG:3857"),e=t.getExtent(),i=v["a"].getWidth(e)/256,r=new Array(14),a=new Array(14),n=0;n<14;++n)r[n]=i/Math.pow(2,n),a[n]=n;var s=new _["a"]({attributions:'Tiles © <a href="https://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_Population_Density/MapServer/">ArcGIS</a>',url:"https://services.arcgisonline.com/arcgis/rest/services/Demographics/USA_Population_Density/MapServer/WMTS/",layer:"0",matrixSet:"EPSG:3857",format:"image/png",projection:t,tileGrid:new h["a"]({origin:new v["a"].getTopLeft(e),resolutions:r,matrixIds:a}),style:"default",wrapX:!0});return new o["a"]({opacity:.7,source:s,visible:!0,name:"wmtsMap地图"})},loadLayersControl:function(t,e){for(var i=new Array,r=new Array,a=new Array,n=document.getElementById(e),s=t.getLayers(),o=0;o<s.getLength();o++){i[o]=s.item(o),r[o]=i[o].get("name"),a[o]=i[o].getVisible();var u=document.createElement("li");n.appendChild(u);var c=document.createElement("input");c.type="checkbox",c.name="layers",u.appendChild(c);var h=document.createElement("label");h.className="layer",this.setInnerText(h,r[o]),u.appendChild(h),a[o]&&(c.checked=!0),this.addChangeEvent(c,i[o])}},addChangeEvent:function(t,e){t.onclick=function(){t.checked?e.setVisible(!0):e.setVisible(!1)}},setInnerText:function(t,e){"string"==typeof t.textContent?t.textContent=e:t.innerText=e}}},S=E,R=(i("e2ee"),i("2877")),T=Object(R["a"])(S,r,a,!1,null,"5097ea8c",null);e["default"]=T.exports},a8d0:function(t,e,i){"use strict";var r=i("9d79"),a=i("9f5e"),n=i("256f"),s=i("97ab"),o=function(t){this.matrixIds_=t.matrixIds,s["a"].call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})};r["a"].inherits(o,s["a"]),o.prototype.getMatrixId=function(t){return this.matrixIds_[t]},o.prototype.getMatrixIds=function(){return this.matrixIds_},o.createFromCapabilitiesMatrixSet=function(t,e,i){var r=[],s=[],u=[],c=[],h=[],l=void 0!==i?i:[],p="SupportedCRS",g="TileMatrix",d="Identifier",m="ScaleDenominator",_="TopLeftCorner",f="TileWidth",v="TileHeight",E=t[p],S=n["a"].get(E.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||n["a"].get(E),R=S.getMetersPerUnit(),T="ne"==S.getAxisOrientation().substr(0,2);return t[g].sort((function(t,e){return e[m]-t[m]})),t[g].forEach((function(t,e,i){var n;if(n=!(l.length>0)||a["a"].find(l,(function(e,i,r){return t[d]==e[g]})),n){s.push(t[d]);var o=28e-5*t[m]/R,p=t[f],E=t[v];T?u.push([t[_][1],t[_][0]]):u.push(t[_]),r.push(o),c.push(p==E?p:[p,E]),h.push([t["MatrixWidth"],-t["MatrixHeight"]])}})),new o({extent:e,origins:u,resolutions:r,matrixIds:s,tileSizes:c,sizes:h})},e["a"]=o},bcb4:function(t,e,i){"use strict";var r=i("9d79"),a=i("92fa"),n=i("0af5"),s=i("38f3"),o=i("7fc9"),u=i("256f"),c=i("3c81"),h=i("345d"),l=i("40f5"),p=i("2350"),g=i("2c30"),d=i("b0c1"),m=i("c721"),_=function(t){var e=t||{},i=e.params||{},r=!("TRANSPARENT"in i)||i["TRANSPARENT"];l["a"].call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,opaque:!r,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=i,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=n["a"].createEmpty(),this.updateV13_(),this.setKey(this.getKeyForParams_())};r["a"].inherits(_,l["a"]),_.prototype.getGetFeatureInfoUrl=function(t,e,i,a){var o=u["a"].get(i),l=this.getProjection(),p=this.getTileGrid();p||(p=this.getTileGridForProjection(o));var g=p.getTileCoordForCoordAndResolution(t,e);if(!(p.getResolutions().length<=g[0])){var d=p.getResolution(g[0]),m=p.getTileCoordExtent(g,this.tmpExtent_),_=h["a"].toSize(p.getTileSize(g[0]),this.tmpSize),f=this.gutter_;0!==f&&(_=h["a"].buffer(_,f,this.tmpSize),m=n["a"].buffer(m,d*f,m)),l&&l!==o&&(d=c["a"].calculateSourceResolution(l,o,t,d),m=u["a"].transformExtent(m,o,l),t=u["a"].transform(t,o,l));var v={SERVICE:"WMS",VERSION:r["a"].DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_["LAYERS"]};s["a"].assign(v,this.params_,a);var E=Math.floor((t[0]-m[0])/d),S=Math.floor((m[3]-t[1])/d);return v[this.v13_?"I":"X"]=E,v[this.v13_?"J":"Y"]=S,this.getRequestUrl_(g,_,m,1,l||o,v)}},_.prototype.getGutterInternal=function(){return this.gutter_},_.prototype.getParams=function(){return this.params_},_.prototype.getRequestUrl_=function(t,e,i,r,n,s){var u=this.urls;if(u){if(s["WIDTH"]=e[0],s["HEIGHT"]=e[1],s[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(s["STYLES"]=""),1!=r)switch(this.serverType_){case p["a"].GEOSERVER:var c=90*r+.5|0;"FORMAT_OPTIONS"in s?s["FORMAT_OPTIONS"]+=";dpi:"+c:s["FORMAT_OPTIONS"]="dpi:"+c;break;case p["a"].MAPSERVER:s["MAP_RESOLUTION"]=90*r;break;case p["a"].CARMENTA_SERVER:case p["a"].QGIS:s["DPI"]=90*r;break;default:a["a"].assert(!1,52);break}var h,l,d=n.getAxisOrientation(),_=i;if(this.v13_&&"ne"==d.substr(0,2))h=i[0],_[0]=i[1],_[1]=h,h=i[2],_[2]=i[3],_[3]=h;if(s["BBOX"]=_.join(","),1==u.length)l=u[0];else{var f=o["a"].modulo(g["a"].hash(t),u.length);l=u[f]}return m["a"].appendParams(l,s)}},_.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},_.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},_.prototype.fixedTileUrlFunction=function(t,e,i){var a=this.getTileGrid();if(a||(a=this.getTileGridForProjection(i)),!(a.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var o=a.getResolution(t[0]),u=a.getTileCoordExtent(t,this.tmpExtent_),c=h["a"].toSize(a.getTileSize(t[0]),this.tmpSize),l=this.gutter_;0!==l&&(c=h["a"].buffer(c,l,this.tmpSize),u=n["a"].buffer(u,o*l,u)),1!=e&&(c=h["a"].scale(c,e,this.tmpSize));var p={SERVICE:"WMS",VERSION:r["a"].DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return s["a"].assign(p,this.params_),this.getRequestUrl_(t,c,u,e,i,p)}},_.prototype.updateParams=function(t){s["a"].assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},_.prototype.updateV13_=function(){var t=this.params_["VERSION"]||r["a"].DEFAULT_WMS_VERSION;this.v13_=d["a"].compareVersions(t,"1.3")>=0},e["a"]=_},c721:function(t,e,i){"use strict";var r={appendParams:function(t,e){var i=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))}));var r=i.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+r}};e["a"]=r},e2ee:function(t,e,i){"use strict";i("6103")}}]);
//# sourceMappingURL=chunk-e26540c2.b570f555.js.map