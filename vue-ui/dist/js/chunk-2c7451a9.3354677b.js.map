{"version":3,"sources":["webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/ol/source/wmtsrequestencoding.js","webpack:///./node_modules/ol/source/wmts.js","webpack:///./node_modules/core-js/internals/symbol-registry-detection.js","webpack:///./node_modules/core-js/modules/es.json.to-string-tag.js","webpack:///./node_modules/core-js/internals/error-stack-clear.js","webpack:///./node_modules/ol/layer/image.js","webpack:///./node_modules/ol/interaction/draweventtype.js","webpack:///./node_modules/ol/interaction/draw.js","webpack:///./src/components/analysis/BuffAnalysis.vue","webpack:///src/components/analysis/BuffAnalysis.vue","webpack:///./src/components/analysis/BuffAnalysis.vue?b593","webpack:///./src/components/analysis/BuffAnalysis.vue?42c1","webpack:///./node_modules/core-js/modules/es.object.set-prototype-of.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/core-js/modules/es.object.proto.js","webpack:///./node_modules/ol/source/wmsservertype.js","webpack:///./node_modules/core-js/modules/es.math.to-string-tag.js","webpack:///./node_modules/ol/image.js","webpack:///./node_modules/ol/reproj/image.js","webpack:///./node_modules/ol/source/image.js","webpack:///./node_modules/ol/source/imagewms.js","webpack:///./node_modules/ol/geom/circle.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/ol/style/iconanchorunits.js","webpack:///./node_modules/ol/style/iconimage.js","webpack:///./node_modules/ol/style/iconorigin.js","webpack:///./node_modules/ol/style/icon.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/array-slice-simple.js","webpack:///./node_modules/core-js/internals/symbol-define-to-primitive.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/ol/interaction/select.js","webpack:///./node_modules/ol/format/textfeature.js","webpack:///./node_modules/ol/format/wkt.js","webpack:///./node_modules/ol/style/text.js","webpack:///./node_modules/ol/source/osm.js","webpack:///./node_modules/ol/interaction/modifyeventtype.js","webpack:///./node_modules/ol/interaction/modify.js","webpack:///./node_modules/core-js/modules/es.symbol.to-string-tag.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/ol/tilegrid/wmts.js","webpack:///./node_modules/core-js/internals/install-error-cause.js","webpack:///./node_modules/core-js/internals/proxy-accessor.js","webpack:///./node_modules/core-js/modules/es.symbol.for.js","webpack:///./node_modules/core-js/modules/es.symbol.async-iterator.js","webpack:///./node_modules/core-js/internals/error-stack-installable.js","webpack:///./node_modules/ol/source/tilewms.js","webpack:///./src/components/analysis/BuffAnalysis.vue?986f","webpack:///./node_modules/core-js/modules/es.symbol.key-for.js","webpack:///./node_modules/ol/uri.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.error.cause.js","webpack:///./node_modules/core-js/modules/es.symbol.constructor.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/well-known-symbol-define.js","webpack:///./node_modules/core-js/internals/normalize-string-argument.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack:///./node_modules/core-js/modules/es.json.stringify.js","webpack:///./node_modules/core-js/internals/define-built-in-accessor.js","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["classof","toIndexedObject","$getOwnPropertyNames","f","arraySlice","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","module","exports","_ol_source_WMTSRequestEncoding_","KVP","REST","_ol_source_WMTS_","options","this","version_","undefined","version","format_","format","dimensions_","dimensions","layer_","layer","matrixSet_","matrixSet","style_","style","urls","url","expandUrl","requestEncoding_","requestEncoding","tileGrid","context","assign","createFromWMTSTemplate_","template","appendParams","replace","m","p","toLowerCase","tileCoord","pixelRatio","projection","localContext","getMatrixId","tileUrlFunction","length","createFromTileUrlFunctions","map","nullTileUrlFunction","call","attributions","cacheSize","crossOrigin","logo","reprojectionErrorThreshold","tileClass","tileLoadFunction","tilePixelRatio","wrapX","transition","setKey","getKeyForDimensions_","inherits","prototype","setUrls","key","join","setTileUrlFunction","fixedTileUrlFunction","bind","getDimensions","getFormat","getLayer","getMatrixSet","getRequestEncoding","getStyle","getVersion","i","res","updateDimensions","optionsFromCapabilities","wmtsCap","config","layers","l","find","elt","index","array","idx","matrixLimits","tileMatrixSets","findIndex","tileMatrixSet","el","supportedCRS","proj1","get","proj2","equivalent","forEach","value","matrixSets","matrixSetObj","code","projConfig","extent","wgs84BoundingBox","wgs84ProjectionExtent","getExtent","transformExtent","projectionExtent","containsExtent","createFromCapabilitiesMatrixSet","gets","ii","constraint","element","encodings","includes","push","NATIVE_SYMBOL","Symbol","keyFor","global","setToStringTag","JSON","uncurryThis","$Error","Error","TEST","arg","String","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","dropEntries","prepareStackTrace","_ol_layer_Image_","opt_options","type","IMAGE","getSource","_ol_interaction_DrawEventType_","DRAWSTART","DRAWEND","_ol_interaction_Draw_","handleDownEvent","handleDownEvent_","handleEvent","handleUpEvent","handleUpEvent_","shouldHandle_","downPx_","freehand_","source_","source","features_","features","snapTolerance_","snapTolerance","type_","mode_","getMode_","stopClick_","stopClick","minPoints_","minPoints","Mode_","POLYGON","maxPoints_","maxPoints","Infinity","finishCondition_","finishCondition","TRUE","geometryFunction","CIRCLE","coordinates","opt_geometry","circle","NaN","squaredLength","squaredDistance","setCenterAndRadius","Math","sqrt","Constructor","mode","POINT","LINE_STRING","geometry","setCoordinates","concat","geometryFunction_","finishCoordinate_","sketchFeature_","sketchPoint_","sketchCoords_","sketchLine_","sketchLineCoords_","squaredClickTolerance_","clickTolerance","overlay_","useSpatialIndex","getDefaultStyleFunction","geometryName_","geometryName","condition_","condition","noModifierKeys","freehandCondition_","freehand","always","freehandCondition","shiftKeyOnly","listen","getChangeEventType","ACTIVE","updateState_","styles","createDefaultEditing","feature","resolution","getGeometry","getType","setMap","event","pass","POINTERDRAG","addToDrawing_","POINTERDOWN","POINTERMOVE","handlePointerMove_","DBLCLICK","pixel","startDrawing_","circleMode","finishDrawing","atFinish_","abortDrawing_","stopPropagation","downPx","clickPx","dx","dy","modifyDrawing_","createOrUpdateSketchPoint_","at","potentiallyDone","potentiallyFinishCoordinates","finishCoordinate","finishPixel","getPixelFromCoordinate","coordinate","slice","sketchPointGeom","updateSketchFeatures_","start","setGeometryName","setGeometry","dispatchEvent","Event","last","sketchLineGeom","ring","getLinearRing","setFlatCoordinates","getLayout","getFlatCoordinates","done","pop","removeLastPoint","splice","sketchFeature","getCoordinates","MULTI_POINT","MULTI_LINE_STRING","MULTI_POLYGON","addFeature","clear","extend","lineString","shouldStopEvent","FALSE","sketchFeatures","overlaySource","addFeatures","getMap","active","getActive","createRegularPolygon","opt_sides","opt_angle","center","end","radius","fromCircle","angle","atan","makeRegular","createBox","boundingExtent","getBottomLeft","getBottomRight","getTopRight","getTopLeft","render","_vm","_c","_self","attrs","path","_v","model","geom1","callback","$$v","expression","geom","distance","on","analysis","staticRenderFns","data","created","mounted","methods","initMap","zoom","controls","attribution","target","getTdtLayer","vector","view","params","wkts","wktformat","component","$","setPrototypeOf","stat","asyncGeneratorStep","gen","resolve","reject","_next","_throw","info","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","DESCRIPTORS","defineBuiltInAccessor","isObject","toObject","requireObjectCoercible","getPrototypeOf","ObjectPrototype","PROTO","configurable","set","proto","O","_ol_source_WMSServerType_","CARMENTA_SERVER","GEOSERVER","MAPSERVER","QGIS","_ol_Image_","src","imageLoadFunction","IDLE","src_","image_","Image","imageListenerKeys_","state","imageLoadFunction_","getImage","handleImageError_","ERROR","unlistenImage_","changed","handleImageLoad_","getHeight","height","LOADED","load","LOADING","listenOnce","LOAD","setImage","image","unlistenByKey","_ol_reproj_Image_","sourceProj","targetProj","targetExtent","targetResolution","getImageFunction","targetProj_","maxSourceExtent_","maxTargetExtent","limitedTargetExtent","getIntersection","targetCenter","getCenter","sourceResolution","calculateSourceResolution","errorThresholdInPixels","DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD","triangulation_","targetResolution_","targetExtent_","sourceExtent","calculateSourceExtent","sourceImage_","sourcePixelRatio_","getPixelRatio","canvas_","sourceListenerKey_","disposeInternal","unlistenSource_","getProjection","reproject_","sourceState","getState","width","getWidth","getResolution","CHANGE","e","_ol_source_Image_","resolutions_","resolutions","reprojectedImage_","reprojectedRevision_","getResolutions","findNearestResolution","linearFindNearest","sourceProjection","ENABLE_RASTER_REPROJECTION","getRevision","equals","dispose","getImageInternal","handleImageChange","EventType_","IMAGELOADSTART","IMAGELOADEND","IMAGELOADERROR","defaultImageLoadFunction","_ol_source_ImageWMS_","crossOrigin_","url_","params_","v13_","updateV13_","serverType_","hidpi_","hidpi","imageSize_","renderedRevision_","ratio_","ratio","GETFEATUREINFO_IMAGE_SIZE_","getGetFeatureInfoUrl","projectionObj","sourceProjectionObj","transform","getForViewAndSize","baseParams","DEFAULT_WMS_VERSION","x","floor","y","getRequestUrl_","getParams","imageResolution","viewWidth","ceil","viewHeight","viewExtent","requestWidth","requestHeight","requestExtent","round","getImageLoadFunction","size","assert","getCode","dpi","bbox","axisOrientation","getAxisOrientation","substr","getUrl","setImageLoadFunction","setUrl","updateParams","compareVersions","_ol_geom_Circle_","opt_radius","opt_layout","clone","layout","flatCoordinates","closestPointXY","closestPoint","minSquaredDistance","stride","delta","getRadius","containsXY","getRadiusSquared_","computeExtent","createOrUpdate","intersectsExtent","circleExtent","intersects","forEachCorner","intersectsCoordinate","setCenter","setLayout","offset","XY","setFlatCoordinatesInternal","setRadius","fails","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","forced","sham","_ol_style_IconAnchorUnits_","FRACTION","PIXELS","_ol_style_IconImage_","imageState","color","hitDetectionImage_","document","createElement","color_","imageState_","size_","tainting_","determineTainting_","iconImageCache","iconImage","createCanvasContext2D","drawImage","getImageData","dispatchChangeEvent_","replaceColor_","getImageState","getHitDetectionImage","fillRect","canvas","getSize","getSrc","ctx","getContext","imgData","r","g","b","putImageData","_ol_style_IconOrigin_","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","_ol_style_Icon_","anchor_","anchor","normalizedAnchor_","anchorOrigin_","anchorOrigin","anchorXUnits_","anchorXUnits","anchorYUnits_","anchorYUnits","img","imgSize","getUid","toString","asArray","iconImage_","offset_","offsetOrigin_","offsetOrigin","origin_","opacity","rotateWithView","rotation","scale","snapToPixel","getOpacity","getScale","getSnapToPixel","getRotation","getRotateWithView","getAnchor","getColor","getImageSize","getHitDetectionImageSize","getOrigin","iconImageSize","listenImageChange","listener","thisArg","unlistenImageChange","unlisten","toAbsoluteIndex","lengthOfArrayLike","createProperty","$Array","Array","max","k","fin","result","n","getBuiltIn","wellKnownSymbol","defineBuiltIn","SymbolPrototype","valueOf","TO_PRIMITIVE","hint","arity","getOwnPropertySymbolsModule","FORCED","getOwnPropertySymbols","$getOwnPropertySymbols","isCallable","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","_ol_interaction_Select_","singleClick","addCondition_","addCondition","never","removeCondition_","removeCondition","toggleCondition_","toggleCondition","multi_","multi","filter_","filter","hitTolerance_","hitTolerance","layerFilter","featureOverlay","updateWhileAnimating","updateWhileInteracting","featureOverlay_","layerFilter_","featureLayerAssociation_","getFeaturesCollection","ADD","addFeature_","REMOVE","removeFeature_","addFeatureLayerAssociation_","getFeatures","getHitTolerance","mapBrowserEvent","add","remove","toggle","deselected","selected","forEachFeatureAtPixel","getLength","item","indexOf","j","getArray","removeFeatureLayerAssociation_","SELECT","pointerMove","setHitTolerance","currentMap","selectedFeatures","unskipFeature","skipFeature","GEOMETRY_COLLECTION","evt","_ol_format_TextFeature_","getText_","TEXT","readFeature","readFeatureFromText","adaptOptions","text","readFeatures","readFeaturesFromText","readGeometry","readGeometryFromText","readProjection","readProjectionFromText","defaultDataProjection","writeFeature","writeFeatureText","writeFeatures","writeFeaturesText","writeGeometry","writeGeometryText","_ol_format_WKT_","splitCollection_","splitCollection","EMPTY","Z","M","ZM","encodePointGeometry_","encodeMultiPointGeometry_","components","getPoints","encodeGeometryCollectionGeometry_","geoms","getGeometries","encode_","encodeLineStringGeometry_","encodeMultiLineStringGeometry_","getLineStrings","encodePolygonGeometry_","rings","getLinearRings","encodeMultiPolygonGeometry_","getPolygons","encodeGeometryLayout_","dimInfo","XYZ","XYZM","XYM","geometryEncoder","GeometryEncoder_","enc","toUpperCase","parse_","wkt","lexer","Lexer","parser","Parser","parse","geometries","getGeometriesArray","transformWithOptions","collection","TokenType_","LEFT_PAREN","RIGHT_PAREN","NUMBER","COMMA","EOF","index_","isAlpha_","c","isNumeric_","opt_decimal","decimal","isWhiteSpace_","nextChar_","charAt","nextToken","token","position","readNumber_","readText_","scientificNotation","parseFloat","substring","lexer_","token_","layout_","consume_","isTokenType","isMatch","match","parseGeometry_","parseGeometryLayout_","dimToken","geomType","parseGeometryCollectionText_","GeometryParser_","ctor","GeometryConstructor_","formatErrorMessage_","isEmptyGeometry_","parsePointText_","parsePoint_","parseLineStringText_","parsePointList_","parsePolygonText_","parseLineStringTextList_","parseMultiPointText_","parsePointTextList_","parseMultiLineStringText_","parseMultiPolygonText_","parsePolygonTextList_","isEmpty","_ol_style_Text_","font_","font","rotation_","rotateWithView_","scale_","text_","textAlign_","textAlign","textBaseline_","textBaseline","fill_","fill","DEFAULT_FILL_COLOR_","maxAngle_","maxAngle","PI","placement_","placement","overflow","exceedLength","overflow_","stroke_","stroke","offsetX_","offsetX","offsetY_","offsetY","backgroundFill_","backgroundFill","backgroundStroke_","backgroundStroke","padding_","padding","getFont","getPlacement","getMaxAngle","getOverflow","getText","getTextAlign","getTextBaseline","getFill","getStroke","getOffsetX","getOffsetY","getBackgroundFill","getBackgroundStroke","getPadding","setOverflow","setFont","setMaxAngle","setOffsetX","setOffsetY","setPlacement","setFill","setRotation","setScale","setStroke","setText","setTextAlign","setTextBaseline","setBackgroundFill","setBackgroundStroke","setPadding","_ol_source_OSM_","ATTRIBUTION","opaque","maxZoom","_ol_interaction_ModifyEventType_","MODIFYSTART","MODIFYEND","_ol_interaction_Modify_","handleDragEvent","handleDragEvent_","primaryAction","defaultDeleteCondition_","altKeyOnly","deleteCondition_","deleteCondition","insertVertexCondition_","insertVertexCondition","vertexFeature_","vertexSegments_","lastPixel_","ignoreNextSingleClick_","modified_","rBush_","pixelTolerance_","pixelTolerance","snappedToVertex_","changingFeature_","dragSegments_","SEGMENT_WRITERS_","writePointGeometry_","writeLineStringGeometry_","writePolygonGeometry_","writeMultiPointGeometry_","writeMultiLineStringGeometry_","writeMultiPolygonGeometry_","writeCircleGeometry_","writeGeometryCollectionGeometry_","ADDFEATURE","handleSourceAdd_","REMOVEFEATURE","handleSourceRemove_","handleFeatureAdd_","handleFeatureRemove_","lastPointerEvent_","MODIFY_SEGMENT_CIRCLE_CENTER_INDEX","MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX","isRendered","handlePointerAtPixel_","handleFeatureChange_","willModifyFeatures_","removeFeatureSegmentData_","removeFeature","rBush","nodesToRemove","node","setActive","segmentData","segment","insert","points","depth","jj","lines","kk","polygons","centerSegmentData","circumferenceSegmentData","featureSegments","createOrUpdateFromCoordinate","createOrUpdateVertexFeature_","vertexFeature","compareIndexes_","a","pixelCoordinate","getCoordinateFromPixel","insertVertices","vertex","vertexExtent","segmentDataMatches","getInExtent","componentSegments","sort","segmentDataMatch","uid","closestVertex","closestOnSegmentData_","insertVertex_","dragSegment","getStride","setGeometryCoordinates_","update","getView","getInteracting","handlingDownUpSequence","handled","SINGLECLICK","removePoint","sortByDistance","pointDistanceToSegmentDataSquared_","box","buffer","nodes","closestSegment","vertexPixel","dist","vertexSegments","pixel1","pixel2","squaredDist1","squaredDist2","min","pointCoordinates","circleGeometry","distanceToCenterSquared","distanceToCircumference","squaredDistanceToSegment","getClosestPoint","closestOnSegment","rTree","updateSegmentIndices_","newSegmentData","newSegmentData2","removeVertex_","left","newIndex","right","dragSegments","segmentsByFeature","deleted","segments","forEachInExtent","mapBrowserPointerEvent","defineWellKnownSymbol","_ol_tilegrid_WMTS_","matrixIds_","matrixIds","origin","origins","tileSize","tileSizes","sizes","z","getMatrixIds","opt_extent","opt_matrixLimits","supportedCRSPropName","matrixIdsPropName","identifierPropName","scaleDenominatorPropName","topLeftCornerPropName","tileWidthPropName","tileHeightPropName","metersPerUnit","getMetersPerUnit","switchOriginXY","matrixAvailable","elt_ml","index_ml","array_ml","tileWidth","tileHeight","createNonEnumerableProperty","cause","defineProperty","Target","Source","hasOwn","shared","NATIVE_SYMBOL_REGISTRY","StringToSymbolRegistry","SymbolToStringRegistry","string","symbol","createPropertyDescriptor","_ol_source_TileWMS_","transparent","gutter_","gutter","tmpExtent_","createEmpty","getKeyForParams_","getTileGrid","getTileGridForProjection","getTileCoordForCoordAndResolution","tileResolution","tileExtent","getTileCoordExtent","toSize","getTileSize","tmpSize","getGutterInternal","tmp","modulo","hash","getTilePixelRatio","isSymbol","tryToString","sym","TypeError","_ol_uri_","uri","keyParams","keys","encodeURIComponent","qs","_typeof","obj","iterator","_regeneratorRuntime","Op","hasOwnProperty","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","name","mark","__proto__","awrap","async","iter","val","object","reverse","skipTempReset","prev","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","callbackfn","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","exportGlobalErrorCauseWrapper","ERROR_NAME","wrapper","exportWebAssemblyErrorCauseWrapper","init","message","IS_PURE","isPrototypeOf","anObject","toPropertyKey","$toString","nativeObjectCreate","objectKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertyDescriptorModule","definePropertyModule","definePropertiesModule","propertyIsEnumerableModule","sharedKey","hiddenKeys","wrappedWellKnownSymbolModule","defineSymbolToPrimitive","InternalStateModule","$forEach","HIDDEN","SYMBOL","PROTOTYPE","setInternalState","getInternalState","getterFor","QObject","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","WellKnownSymbolsStore","USE_SETTER","findChild","setSymbolDescriptor","P","Attributes","ObjectPrototypeDescriptor","tag","description","$defineProperty","$defineProperties","Properties","properties","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","descriptor","names","IS_OBJECT_PROTOTYPE","setter","unsafe","useSetter","useSimple","defineProperties","getOwnPropertyDescriptor","copyConstructorProperties","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","thisSymbolValue","symbolDescriptiveString","regexp","stringSlice","NAME","argument","$default","proxyAccessor","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","FULL_NAME","IS_AGGREGATE_ERROR","STACK_TRACE_LIMIT","OPTIONS_POSITION","split","OriginalError","OriginalErrorPrototype","BaseError","WrappedError","isArray","$stringify","exec","charCodeAt","numberToString","tester","low","hi","WRONG_SYMBOLS_CONVERSION","ILL_FORMED_UNICODE","stringifyWithSymbolsFix","replacer","$replacer","fixIllFormed","stringify","space","makeBuiltIn","getter","isConstructor","nativeSlice","SPECIES"],"mappings":"qGACA,IAAIA,EAAU,EAAQ,QAClBC,EAAkB,EAAQ,QAC1BC,EAAuB,EAAQ,QAA8CC,EAC7EC,EAAa,EAAQ,QAErBC,EAA+B,iBAAVC,QAAsBA,QAAUC,OAAOC,oBAC5DD,OAAOC,oBAAoBF,QAAU,GAErCG,EAAiB,SAAUC,GAC7B,IACE,OAAOR,EAAqBQ,GAC5B,MAAOC,GACP,OAAOP,EAAWC,KAKtBO,EAAOC,QAAQV,EAAI,SAA6BO,GAC9C,OAAOL,GAA8B,UAAfL,EAAQU,GAC1BD,EAAeC,GACfR,EAAqBD,EAAgBS,M,4HCjBvCI,EAAkC,CACpCC,IAAK,MACLC,KAAM,QAGO,I,wBCWXC,EAAmB,SAASC,GAQ9BC,KAAKC,cAA+BC,IAApBH,EAAQI,QAAwBJ,EAAQI,QAAU,QAMlEH,KAAKI,aAA6BF,IAAnBH,EAAQM,OAAuBN,EAAQM,OAAS,aAM/DL,KAAKM,iBAAqCJ,IAAvBH,EAAQQ,WAA2BR,EAAQQ,WAAa,GAM3EP,KAAKQ,OAAST,EAAQU,MAMtBT,KAAKU,WAAaX,EAAQY,UAM1BX,KAAKY,OAASb,EAAQc,MAEtB,IAAIC,EAAOf,EAAQe,UACNZ,IAATY,QAAsCZ,IAAhBH,EAAQgB,MAChCD,EAAO,OAAqBE,UAAUjB,EAAQgB,MAUhDf,KAAKiB,sBAA+Cf,IAA5BH,EAAQmB,gBACgBnB,EAAuB,gBACrE,EAAgCH,IAElC,IAAIsB,EAAkBlB,KAAKiB,iBAIvBE,EAAWpB,EAAQoB,SAInBC,EAAU,CACZ,MAASpB,KAAKQ,OACd,MAASR,KAAKY,OACd,cAAiBZ,KAAKU,YAGpBQ,GAAmB,EAAgCtB,KACrD,OAASyB,OAAOD,EAAS,CACvB,QAAW,OACX,QAAW,UACX,QAAWpB,KAAKC,SAChB,OAAUD,KAAKI,UAInB,IAAIG,EAAaP,KAAKM,YAOtBN,KAAKsB,wBAA0B,SAASC,GAYtC,OANAA,EAAYL,GAAmB,EAAgCtB,IAC7D,OAAS4B,aAAaD,EAAUH,GAChCG,EAASE,QAAQ,eAAe,SAASC,EAAGC,GAC1C,OAAQA,EAAEC,gBAAiBR,EAAWA,EAAQO,EAAEC,eAAiBF,KAG9D,SAOIG,EAAWC,EAAYC,GAC9B,GAAKF,EAEE,CACL,IAAIG,EAAe,CACjB,WAAcb,EAASc,YAAYJ,EAAU,IAC7C,QAAWA,EAAU,GACrB,SAAYA,EAAU,GAAK,GAE7B,OAASR,OAAOW,EAAczB,GAC9B,IAAIQ,EAAMQ,EAQV,OANER,EADEG,GAAmB,EAAgCtB,IAC/C,OAAS4B,aAAaT,EAAKiB,GAE3BjB,EAAIU,QAAQ,eAAe,SAASC,EAAGC,GAC3C,OAAOK,EAAaL,MAGjBZ,KAMf,IAAImB,EAAmBpB,GAAQA,EAAKqB,OAAS,EAC3C,OAAqBC,2BACjBtB,EAAKuB,IAAIrC,KAAKsB,0BAClB,OAAqBgB,oBAEvB,OAAsBC,KAAKvC,KAAM,CAC/BwC,aAAczC,EAAQyC,aACtBC,UAAW1C,EAAQ0C,UACnBC,YAAa3C,EAAQ2C,YACrBC,KAAM5C,EAAQ4C,KACdZ,WAAYhC,EAAQgC,WACpBa,2BAA4B7C,EAAQ6C,2BACpCC,UAAW9C,EAAQ8C,UACnB1B,SAAUA,EACV2B,iBAAkB/C,EAAQ+C,iBAC1BC,eAAgBhD,EAAQgD,eACxBb,gBAAiBA,EACjBpB,KAAMA,EACNkC,WAAyB9C,IAAlBH,EAAQiD,OAAsBjD,EAAQiD,MAC7CC,WAAYlD,EAAQkD,aAGtBjD,KAAKkD,OAAOlD,KAAKmD,yBAInB,OAAKC,SAAStD,EAAkB,QAOhCA,EAAiBuD,UAAUC,QAAU,SAASxC,GAC5Cd,KAAKc,KAAOA,EACZ,IAAIyC,EAAMzC,EAAK0C,KAAK,MACpBxD,KAAKyD,mBAAmBzD,KAAK0D,qBAC3B1D,KAAK0D,qBAAqBC,KAAK3D,MAC/B,OAAqBoC,2BAA2BtB,EAAKuB,IAAIrC,KAAKsB,wBAAwBqC,KAAK3D,QAASuD,IAUxGzD,EAAiBuD,UAAUO,cAAgB,WACzC,OAAO5D,KAAKM,aASdR,EAAiBuD,UAAUQ,UAAY,WACrC,OAAO7D,KAAKI,SASdN,EAAiBuD,UAAUS,SAAW,WACpC,OAAO9D,KAAKQ,QASdV,EAAiBuD,UAAUU,aAAe,WACxC,OAAO/D,KAAKU,YASdZ,EAAiBuD,UAAUW,mBAAqB,WAC9C,OAAOhE,KAAKiB,kBASdnB,EAAiBuD,UAAUY,SAAW,WACpC,OAAOjE,KAAKY,QASdd,EAAiBuD,UAAUa,WAAa,WACtC,OAAOlE,KAAKC,UAQdH,EAAiBuD,UAAUF,qBAAuB,WAChD,IAAIgB,EAAI,EACJC,EAAM,GACV,IAAK,IAAIb,KAAOvD,KAAKM,YACnB8D,EAAID,KAAOZ,EAAM,IAAMvD,KAAKM,YAAYiD,GAE1C,OAAOa,EAAIZ,KAAK,MASlB1D,EAAiBuD,UAAUgB,iBAAmB,SAAS9D,GACrD,OAASc,OAAOrB,KAAKM,YAAaC,GAClCP,KAAKkD,OAAOlD,KAAKmD,yBA4BnBrD,EAAiBwE,wBAA0B,SAASC,EAASC,GAC3D,IAAIC,EAASF,EAAQ,YAAY,SAC7BG,EAAI,OAAWC,KAAKF,GAAQ,SAASG,EAAKC,EAAOC,GACnD,OAAOF,EAAI,eAAiBJ,EAAO,YAErC,GAAU,OAANE,EACF,OAAO,KAET,IACIK,EAAKpE,EAAWqE,EADhBC,EAAiBV,EAAQ,YAAY,iBAIrCQ,EAFAL,EAAE,qBAAqBvC,OAAS,EAC9B,eAAgBqC,EACZ,OAAWU,UAAUR,EAAE,sBACzB,SAASE,EAAKC,EAAOC,GACnB,IAAIK,EAAgB,OAAWR,KAAKM,GAAgB,SAASG,GAC3D,OAAOA,EAAG,eAAiBR,EAAI,oBAE7BS,EAAeF,EAAc,gBAC7BG,EAAQ,OAAUC,IAAIF,EAAa5D,QAAQ,qCAAsC,WACjF,OAAU8D,IAAIF,GACdG,EAAQ,OAAUD,IAAIf,EAAO,eACjC,OAAIc,GAASE,EACJ,OAAUC,WAAWH,EAAOE,GAE5BH,GAAgBb,EAAO,iBAIhC,OAAWU,UAAUR,EAAE,sBACzB,SAASE,EAAKC,EAAOC,GACnB,OAAOF,EAAI,kBAAoBJ,EAAO,gBAIxC,EAEJO,EAAM,IACRA,EAAM,GAERpE,EACG+D,EAAE,qBAAqBK,GAAK,iBAC/BC,EACGN,EAAE,qBAAqBK,GAAK,uBAE/B,IAAI1E,EAAgCqE,EAAE,UAAU,GAC5C,WAAYF,IACdnE,EAASmE,EAAO,WAElBO,EAAM,OAAWG,UAAUR,EAAE,UAAU,SAASE,EAAKC,EAAOC,GAC1D,MAAI,UAAWN,EACNI,EAAI,UAAYJ,EAAO,SAEvBI,EAAI,gBAGXG,EAAM,IACRA,EAAM,GAER,IAAIlE,EAA+B6D,EAAE,SAASK,GAAK,cAE/CxE,EAAa,GACb,cAAemE,GACjBA,EAAE,aAAagB,SAAQ,SAASd,EAAKC,EAAOC,GAC1C,IAAIvB,EAAMqB,EAAI,cACVe,EAAQf,EAAI,gBACF1E,IAAVyF,IACFA,EAAQf,EAAI,SAAS,IAEvBrE,EAAWgD,GAAOoC,KAItB,IAKI5D,EALA6D,EAAarB,EAAQ,YAAY,iBACjCsB,EAAe,OAAWlB,KAAKiB,GAAY,SAAShB,EAAKC,EAAOC,GAClE,OAAOF,EAAI,eAAiBjE,KAI1BmF,EAAOD,EAAa,gBAKxB,GAJIC,IACF/D,EAAa,OAAUwD,IAAIO,EAAKrE,QAAQ,qCAAsC,WAC1E,OAAU8D,IAAIO,IAEhB,eAAgBtB,EAAQ,CAC1B,IAAIuB,EAAa,OAAUR,IAAIf,EAAO,eAClCuB,IACGhE,IAAc,OAAU0D,WAAWM,EAAYhE,KAClDA,EAAagE,IAKnB,IACIC,EAAQhD,EADRiD,EAAmBvB,EAAE,oBAEzB,QAAyBxE,IAArB+F,EAAgC,CAClC,IAAIC,EAAwB,OAAUX,IAAI,aAAaY,YACvDnD,EAASiD,EAAiB,IAAMC,EAAsB,IAClDD,EAAiB,IAAMC,EAAsB,GACjDF,EAAS,OAAUI,gBACfH,EAAkB,YAAalE,GACnC,IAAIsE,EAAmBtE,EAAWoE,YAC9BE,IAGG,OAAYC,eAAeD,EAAkBL,KAChDA,OAAS9F,IAKf,IAAIiB,EAAW,OAAmBoF,gCAC9BV,EAAcG,EAAQhB,GAGtBlE,EAAO,GACPI,EAAkBsD,EAAO,mBAG7B,GAFAtD,OAAsChB,IAApBgB,EAAgCA,EAAkB,GAEhE,uBAAwBqD,GAAW,YAAaA,EAAQ,sBAG1D,IAFA,IAAIiC,EAAOjC,EAAQ,sBAAsB,WAAW,OAAO,QAAQ,OAE1DJ,EAAI,EAAGsC,EAAKD,EAAKrE,OAAQgC,EAAIsC,IAAMtC,EAC1C,GAAIqC,EAAKrC,GAAG,cAAe,CACzB,IAAIuC,EAAa,OAAW/B,KAAK6B,EAAKrC,GAAG,eAAe,SAASwC,GAC/D,MAA0B,eAAnBA,EAAQ,WAEbC,EAAYF,EAAW,iBAAiB,SAM5C,GAJwB,KAApBxF,IAEFA,EAAkB0F,EAAU,IAE1B1F,IAAoB,EAAgCtB,IAKtD,MAJI,OAAWiH,SAASD,EAAW,EAAgChH,MACjEkB,EAAKgG,KAA4BN,EAAKrC,GAAG,cAKpCqC,EAAKrC,GAAG,UACjBjD,EAAkB,EAAgCtB,IAClDkB,EAAKgG,KAA4BN,EAAKrC,GAAG,UAc/C,OAVoB,IAAhBrD,EAAKqB,SACPjB,EAAkB,EAAgCrB,KAClD6E,EAAE,eAAegB,SAAQ,SAASiB,GACA,SAA5BA,EAAQ,kBACVtG,EAASsG,EAAQ,UACjB7F,EAAKgG,KAA4BH,EAAQ,kBAKxC,CACL7F,KAAMA,EACNL,MAAO+D,EAAO,SACd7D,UAAWA,EACXN,OAAQA,EACR0B,WAAYA,EACZb,gBAAiBA,EACjBC,SAAUA,EACVN,MAAOA,EACPN,WAAYA,EACZyC,MAAOA,EACPN,YAAa8B,EAAO,iBAGT,U,uBChef,IAAIuC,EAAgB,EAAQ,QAG5BtH,EAAOC,QAAUqH,KAAmBC,OAAO,UAAYA,OAAOC,Q,uBCH9D,IAAIC,EAAS,EAAQ,QACjBC,EAAiB,EAAQ,QAI7BA,EAAeD,EAAOE,KAAM,QAAQ,I,uBCLpC,IAAIC,EAAc,EAAQ,QAEtBC,EAASC,MACT9F,EAAU4F,EAAY,GAAG5F,SAEzB+F,EAAO,SAAWC,GAAO,OAAOC,OAAOJ,EAAOG,GAAKE,OAA5C,CAAuD,UAC9DC,EAA2B,uBAC3BC,EAAwBD,EAAyBE,KAAKN,GAE1D/H,EAAOC,QAAU,SAAUiI,EAAOI,GAChC,GAAIF,GAAyC,iBAATF,IAAsBL,EAAOU,kBAC/D,MAAOD,IAAeJ,EAAQlG,EAAQkG,EAAOC,EAA0B,IACvE,OAAOD,I,oCCZX,wCAkBIM,EAAmB,SAASC,GAC9B,IAAInI,EAAUmI,GAA4B,GAC1C,OAAiB3F,KAAKvC,KAA6C,GAOnEA,KAAKmI,KAAO,OAAeC,OAI7B,OAAKhF,SAAS6E,EAAkB,QAShCA,EAAiB5E,UAAUgF,UACZ,U,gQCtCXC,EAAiC,CAMnCC,UAAW,YAMXC,QAAS,WAGI,I,4DCiBXC,EAAwB,SAAS1I,GAEnC,OAAyBwC,KAAKvC,KAAM,CAClC0I,gBAAiBD,EAAsBE,iBACvCC,YAAaH,EAAsBG,YACnCC,cAAeJ,EAAsBK,iBAOvC9I,KAAK+I,eAAgB,EAMrB/I,KAAKgJ,QAAU,KAMfhJ,KAAKiJ,WAAY,EAOjBjJ,KAAKkJ,QAAUnJ,EAAQoJ,OAASpJ,EAAQoJ,OAAS,KAOjDnJ,KAAKoJ,UAAYrJ,EAAQsJ,SAAWtJ,EAAQsJ,SAAW,KAOvDrJ,KAAKsJ,eAAiBvJ,EAAQwJ,cAAgBxJ,EAAQwJ,cAAgB,GAOtEvJ,KAAKwJ,MAA6CzJ,EAAY,KAO9DC,KAAKyJ,MAAQhB,EAAsBiB,SAAS1J,KAAKwJ,OAQjDxJ,KAAK2J,aAAe5J,EAAQ6J,UAS5B5J,KAAK6J,WAAa9J,EAAQ+J,UACxB/J,EAAQ+J,UACP9J,KAAKyJ,QAAUhB,EAAsBsB,MAAMC,QAAU,EAAI,EAQ5DhK,KAAKiK,WAAalK,EAAQmK,UAAYnK,EAAQmK,UAAYC,IAO1DnK,KAAKoK,iBAAmBrK,EAAQsK,gBAAkBtK,EAAQsK,gBAAkB,OAAeC,KAE3F,IAAIC,EAAmBxK,EAAQwK,iBAC/B,IAAKA,EACH,GAAIvK,KAAKwJ,QAAU,OAAuBgB,OAOxCD,EAAmB,SAASE,EAAaC,GACvC,IAAIC,EAASD,GACX,IAAI,OAAiB,CAACE,IAAKA,MACzBC,EAAgB,OAAgBC,gBAChCL,EAAY,GAAIA,EAAY,IAEhC,OADAE,EAAOI,mBAAmBN,EAAY,GAAIO,KAAKC,KAAKJ,IAC7CF,OAEJ,CACL,IAAIO,EACAC,EAAOnL,KAAKyJ,MACZ0B,IAAS1C,EAAsBsB,MAAMqB,MACvCF,EAAc,OACLC,IAAS1C,EAAsBsB,MAAMsB,YAC9CH,EAAc,OACLC,IAAS1C,EAAsBsB,MAAMC,UAC9CkB,EAAc,QAQhBX,EAAmB,SAASE,EAAaC,GACvC,IAAIY,EAAWZ,EAef,OAdIY,EACEH,IAAS1C,EAAsBsB,MAAMC,QACnCS,EAAY,GAAGtI,OAEjBmJ,EAASC,eAAe,CAACd,EAAY,GAAGe,OAAO,CAACf,EAAY,GAAG,OAE/Da,EAASC,eAAe,IAG1BD,EAASC,eAAed,GAG1Ba,EAAW,IAAIJ,EAAYT,GAEtBa,GASbtL,KAAKyL,kBAAoBlB,EAQzBvK,KAAK0L,kBAAoB,KAOzB1L,KAAK2L,eAAiB,KAOtB3L,KAAK4L,aAAe,KAOpB5L,KAAK6L,cAAgB,KAOrB7L,KAAK8L,YAAc,KAOnB9L,KAAK+L,kBAAoB,KASzB/L,KAAKgM,uBAAyBjM,EAAQkM,eACpClM,EAAQkM,eAAiBlM,EAAQkM,eAAiB,GAOpDjM,KAAKkM,SAAW,IAAI,OAAkB,CACpC/C,OAAQ,IAAI,OAAmB,CAC7BgD,iBAAiB,EACjBnJ,QAAOjD,EAAQiD,OAAQjD,EAAQiD,QAEjCnC,MAAOd,EAAQc,MAAQd,EAAQc,MAC7B4H,EAAsB2D,4BAQ1BpM,KAAKqM,cAAgBtM,EAAQuM,aAM7BtM,KAAKuM,WAAaxM,EAAQyM,UACxBzM,EAAQyM,UAAY,OAAsBC,eAM5CzM,KAAK0M,mBACD3M,EAAQ4M,SACV3M,KAAK0M,mBAAqB,OAAsBE,OAEhD5M,KAAK0M,mBAAqB3M,EAAQ8M,kBAChC9M,EAAQ8M,kBAAoB,OAAsBC,aAGtD,OAAYC,OAAO/M,KACf,OAAYgN,mBAAmB,OAA0BC,QACzDjN,KAAKkN,aAAclN,OAIzB,OAAKoD,SAASqF,EAAuB,QAMrCA,EAAsB2D,wBAA0B,WAC9C,IAAIe,EAAS,OAAiBC,uBAC9B,OAAO,SAASC,EAASC,GACvB,OAAOH,EAAOE,EAAQE,cAAcC,aAQxC/E,EAAsBpF,UAAUoK,OAAS,SAASpL,GAChD,OAAyBgB,UAAUoK,OAAOlL,KAAKvC,KAAMqC,GACrDrC,KAAKkN,gBAYPzE,EAAsBG,YAAc,SAAS8E,GAC3C1N,KAAKiJ,UAAYjJ,KAAKyJ,QAAUhB,EAAsBsB,MAAMqB,OAASpL,KAAK0M,mBAAmBgB,GAC7F,IAAIC,GAAO,EAcX,OAbI3N,KAAKiJ,WACLyE,EAAMvF,OAAS,OAAyByF,aAChB,OAAxB5N,KAAK2L,gBACP3L,KAAK6N,cAAcH,GACnBC,GAAO,GACE3N,KAAKiJ,WACZyE,EAAMvF,OAAS,OAAyB2F,YAC1CH,GAAO,EACED,EAAMvF,OAAS,OAAyB4F,YACjDJ,EAAO3N,KAAKgO,mBAAmBN,GACtBA,EAAMvF,OAAS,OAAyB8F,WACjDN,GAAO,GAEF,OAAyB/E,YAAYrG,KAAKvC,KAAM0N,IAAUC,GAUnElF,EAAsBE,iBAAmB,SAAS+E,GAGhD,OAFA1N,KAAK+I,eAAiB/I,KAAKiJ,UAEvBjJ,KAAKiJ,WACPjJ,KAAKgJ,QAAU0E,EAAMQ,MAChBlO,KAAK0L,mBACR1L,KAAKmO,cAAcT,IAEd,KACE1N,KAAKuM,WAAWmB,KACzB1N,KAAKgJ,QAAU0E,EAAMQ,OACd,IAaXzF,EAAsBK,eAAiB,SAAS4E,GAC9C,IAAIC,GAAO,EAEX3N,KAAKgO,mBAAmBN,GAExB,IAAIU,EAAapO,KAAKyJ,QAAUhB,EAAsBsB,MAAMS,OAyB5D,OAvBIxK,KAAK+I,eACF/I,KAAK0L,kBAKC1L,KAAKiJ,WAAamF,EAC3BpO,KAAKqO,gBACIrO,KAAKsO,UAAUZ,GACpB1N,KAAKoK,iBAAiBsD,IACxB1N,KAAKqO,gBAGPrO,KAAK6N,cAAcH,IAXnB1N,KAAKmO,cAAcT,GACf1N,KAAKyJ,QAAUhB,EAAsBsB,MAAMqB,OAC7CpL,KAAKqO,iBAWTV,GAAO,GACE3N,KAAKiJ,YACdjJ,KAAK0L,kBAAoB,KACzB1L,KAAKuO,kBAEFZ,GAAQ3N,KAAK2J,YAChB+D,EAAMc,kBAEDb,GAUTlF,EAAsBpF,UAAU2K,mBAAqB,SAASN,GAC5D,GAAI1N,KAAKgJ,WACFhJ,KAAKiJ,WAAajJ,KAAK+I,eACzB/I,KAAKiJ,YAAcjJ,KAAK+I,eAAiB,CAC5C,IAAI0F,EAASzO,KAAKgJ,QACd0F,EAAUhB,EAAMQ,MAChBS,EAAKF,EAAO,GAAKC,EAAQ,GACzBE,EAAKH,EAAO,GAAKC,EAAQ,GACzB5D,EAAkB6D,EAAKA,EAAKC,EAAKA,EACrC5O,KAAK+I,cAAgB/I,KAAKiJ,UACxB6B,EAAkB9K,KAAKgM,uBACvBlB,GAAmB9K,KAAKgM,uBAQ5B,OALIhM,KAAK0L,kBACP1L,KAAK6O,eAAenB,GAEpB1N,KAAK8O,2BAA2BpB,IAE3B,GAUTjF,EAAsBpF,UAAUiL,UAAY,SAASZ,GACnD,IAAIqB,GAAK,EACT,GAAI/O,KAAK2L,eAAgB,CACvB,IAAIqD,GAAkB,EAClBC,EAA+B,CAACjP,KAAK0L,mBASzC,GARI1L,KAAKyJ,QAAUhB,EAAsBsB,MAAMsB,YAC7C2D,EAAkBhP,KAAK6L,cAAc1J,OAASnC,KAAK6J,WAC1C7J,KAAKyJ,QAAUhB,EAAsBsB,MAAMC,UACpDgF,EAAkBhP,KAAK6L,cAAc,GAAG1J,OACpCnC,KAAK6J,WACToF,EAA+B,CAACjP,KAAK6L,cAAc,GAAG,GACpD7L,KAAK6L,cAAc,GAAG7L,KAAK6L,cAAc,GAAG1J,OAAS,KAErD6M,EAEF,IADA,IAAI3M,EAAMqL,EAAMrL,IACP8B,EAAI,EAAGsC,EAAKwI,EAA6B9M,OAAQgC,EAAIsC,EAAItC,IAAK,CACrE,IAAI+K,EAAmBD,EAA6B9K,GAChDgL,EAAc9M,EAAI+M,uBAAuBF,GACzChB,EAAQR,EAAMQ,MACdS,EAAKT,EAAM,GAAKiB,EAAY,GAC5BP,EAAKV,EAAM,GAAKiB,EAAY,GAC5B5F,EAAgBvJ,KAAKiJ,UAAY,EAAIjJ,KAAKsJ,eAE9C,GADAyF,EAAK/D,KAAKC,KAAK0D,EAAKA,EAAKC,EAAKA,IAAOrF,EACjCwF,EAAI,CACN/O,KAAK0L,kBAAoBwD,EACzB,QAKR,OAAOH,GAQTtG,EAAsBpF,UAAUyL,2BAA6B,SAASpB,GACpE,IAAIjD,EAAciD,EAAM2B,WAAWC,QACnC,GAAKtP,KAAK4L,aAGH,CACL,IAAI2D,EAAgDvP,KAAK4L,aAAa2B,cACtEgC,EAAgBhE,eAAed,QAJ/BzK,KAAK4L,aAAe,IAAI,OAAa,IAAI,OAAgBnB,IACzDzK,KAAKwP,yBAaT/G,EAAsBpF,UAAU8K,cAAgB,SAAST,GACvD,IAAI+B,EAAQ/B,EAAM2B,WAClBrP,KAAK0L,kBAAoB+D,EACrBzP,KAAKyJ,QAAUhB,EAAsBsB,MAAMqB,MAC7CpL,KAAK6L,cAAgB4D,EAAMH,QAClBtP,KAAKyJ,QAAUhB,EAAsBsB,MAAMC,SACpDhK,KAAK6L,cAAgB,CAAC,CAAC4D,EAAMH,QAASG,EAAMH,UAC5CtP,KAAK+L,kBAAoB/L,KAAK6L,cAAc,KAE5C7L,KAAK6L,cAAgB,CAAC4D,EAAMH,QAASG,EAAMH,SACvCtP,KAAKyJ,QAAUhB,EAAsBsB,MAAMS,SAC7CxK,KAAK+L,kBAAoB/L,KAAK6L,gBAG9B7L,KAAK+L,oBACP/L,KAAK8L,YAAc,IAAI,OACnB,IAAI,OAAqB9L,KAAK+L,qBAEpC,IAAIT,EAAWtL,KAAKyL,kBAAkBzL,KAAK6L,eAC3C7L,KAAK2L,eAAiB,IAAI,OACtB3L,KAAKqM,eACPrM,KAAK2L,eAAe+D,gBAAgB1P,KAAKqM,eAE3CrM,KAAK2L,eAAegE,YAAYrE,GAChCtL,KAAKwP,wBACLxP,KAAK4P,cAAc,IAAInH,EAAsBoH,MACzC,EAA+BtH,UAAWvI,KAAK2L,kBASrDlD,EAAsBpF,UAAUwL,eAAiB,SAASnB,GACxD,IAEIjD,EAAaqF,EAqBbC,EAvBAV,EAAa3B,EAAM2B,WACnB/D,EAAkDtL,KAAK2L,eAAe4B,cAkB1E,GAhBIvN,KAAKyJ,QAAUhB,EAAsBsB,MAAMqB,MAC7C0E,EAAO9P,KAAK6L,cACH7L,KAAKyJ,QAAUhB,EAAsBsB,MAAMC,SACpDS,EAAczK,KAAK6L,cAAc,GACjCiE,EAAOrF,EAAYA,EAAYtI,OAAS,GACpCnC,KAAKsO,UAAUZ,KAEjB2B,EAAarP,KAAK0L,kBAAkB4D,WAGtC7E,EAAczK,KAAK6L,cACnBiE,EAAOrF,EAAYA,EAAYtI,OAAS,IAE1C2N,EAAK,GAAKT,EAAW,GACrBS,EAAK,GAAKT,EAAW,GACrBrP,KAAKyL,kBAAyDzL,KAAkB,cAAGsL,GAC/EtL,KAAK4L,aAAc,CACrB,IAAI2D,EAAgDvP,KAAK4L,aAAa2B,cACtEgC,EAAgBhE,eAAe8D,GAGjC,GAAI/D,aAAoB,QACpBtL,KAAKyJ,QAAUhB,EAAsBsB,MAAMC,QAAS,CACjDhK,KAAK8L,cACR9L,KAAK8L,YAAc,IAAI,OAAa,IAAI,OAAqB,QAE/D,IAAIkE,EAAO1E,EAAS2E,cAAc,GAClCF,EAAoD/P,KAAK8L,YAAYyB,cACrEwC,EAAeG,mBACXF,EAAKG,YAAaH,EAAKI,2BAClBpQ,KAAK+L,oBACdgE,EAAoD/P,KAAK8L,YAAYyB,cACrEwC,EAAexE,eAAevL,KAAK+L,oBAErC/L,KAAKwP,yBASP/G,EAAsBpF,UAAUwK,cAAgB,SAASH,GACvD,IAEI2C,EACA5F,EAHA4E,EAAa3B,EAAM2B,WACnB/D,EAAkDtL,KAAK2L,eAAe4B,cAGtEvN,KAAKyJ,QAAUhB,EAAsBsB,MAAMsB,aAC7CrL,KAAK0L,kBAAoB2D,EAAWC,QACpC7E,EAAczK,KAAK6L,cACfpB,EAAYtI,QAAUnC,KAAKiK,aACzBjK,KAAKiJ,UACPwB,EAAY6F,MAEZD,GAAO,GAGX5F,EAAY3D,KAAKuI,EAAWC,SAC5BtP,KAAKyL,kBAAkBhB,EAAaa,IAC3BtL,KAAKyJ,QAAUhB,EAAsBsB,MAAMC,UACpDS,EAAczK,KAAK6L,cAAc,GAC7BpB,EAAYtI,QAAUnC,KAAKiK,aACzBjK,KAAKiJ,UACPwB,EAAY6F,MAEZD,GAAO,GAGX5F,EAAY3D,KAAKuI,EAAWC,SACxBe,IACFrQ,KAAK0L,kBAAoBjB,EAAY,IAEvCzK,KAAKyL,kBAAkBzL,KAAK6L,cAAeP,IAE7CtL,KAAKwP,wBACDa,GACFrQ,KAAKqO,iBAST5F,EAAsBpF,UAAUkN,gBAAkB,WAChD,GAAKvQ,KAAK2L,eAAV,CAGA,IACIlB,EAAasF,EADbzE,EAAkDtL,KAAK2L,eAAe4B,cAEtEvN,KAAKyJ,QAAUhB,EAAsBsB,MAAMsB,aAC7CZ,EAAczK,KAAK6L,cACnBpB,EAAY+F,QAAQ,EAAG,GACvBxQ,KAAKyL,kBAAkBhB,EAAaa,GAChCb,EAAYtI,QAAU,IACxBnC,KAAK0L,kBAAoBjB,EAAYA,EAAYtI,OAAS,GAAGmN,UAEtDtP,KAAKyJ,QAAUhB,EAAsBsB,MAAMC,UACpDS,EAAczK,KAAK6L,cAAc,GACjCpB,EAAY+F,QAAQ,EAAG,GACvBT,EAAoD/P,KAAK8L,YAAYyB,cACrEwC,EAAexE,eAAed,GAC9BzK,KAAKyL,kBAAkBzL,KAAK6L,cAAeP,IAGlB,IAAvBb,EAAYtI,SACdnC,KAAK0L,kBAAoB,MAG3B1L,KAAKwP,0BAUP/G,EAAsBpF,UAAUgL,cAAgB,WAC9C,IAAIoC,EAAgBzQ,KAAKuO,gBACrB9D,EAAczK,KAAK6L,cACnBP,EAAkDmF,EAAclD,cAChEvN,KAAKyJ,QAAUhB,EAAsBsB,MAAMsB,aAE7CZ,EAAY6F,MACZtQ,KAAKyL,kBAAkBhB,EAAaa,IAC3BtL,KAAKyJ,QAAUhB,EAAsBsB,MAAMC,UAEpDS,EAAY,GAAG6F,MACftQ,KAAKyL,kBAAkBhB,EAAaa,GACpCb,EAAca,EAASoF,kBAIrB1Q,KAAKwJ,QAAU,OAAuBmH,YACxCF,EAAcd,YAAY,IAAI,OAAqB,CAAClF,KAC3CzK,KAAKwJ,QAAU,OAAuBoH,kBAC/CH,EAAcd,YAAY,IAAI,OAA0B,CAAClF,KAChDzK,KAAKwJ,QAAU,OAAuBqH,eAC/CJ,EAAcd,YAAY,IAAI,OAAuB,CAAClF,KAIxDzK,KAAK4P,cAAc,IAAInH,EAAsBoH,MACzC,EAA+BrH,QAASiI,IAGxCzQ,KAAKoJ,WACPpJ,KAAKoJ,UAAUtC,KAAK2J,GAElBzQ,KAAKkJ,SACPlJ,KAAKkJ,QAAQ4H,WAAWL,IAU5BhI,EAAsBpF,UAAUkL,cAAgB,WAC9CvO,KAAK0L,kBAAoB,KACzB,IAAI+E,EAAgBzQ,KAAK2L,eAOzB,OANI8E,IACFzQ,KAAK2L,eAAiB,KACtB3L,KAAK4L,aAAe,KACpB5L,KAAK8L,YAAc,KACnB9L,KAAKkM,SAAS7D,YAAY0I,OAAM,IAE3BN,GAWThI,EAAsBpF,UAAU2N,OAAS,SAAS3D,GAChD,IAAI/B,EAAW+B,EAAQE,cACnB0D,EAA+C,EACnDjR,KAAK2L,eAAiB0B,EACtBrN,KAAK6L,cAAgBoF,EAAWP,iBAChC,IAAIZ,EAAO9P,KAAK6L,cAAc7L,KAAK6L,cAAc1J,OAAS,GAC1DnC,KAAK0L,kBAAoBoE,EAAKR,QAC9BtP,KAAK6L,cAAc/E,KAAKgJ,EAAKR,SAC7BtP,KAAKwP,wBACLxP,KAAK4P,cAAc,IAAInH,EAAsBoH,MACzC,EAA+BtH,UAAWvI,KAAK2L,kBAOrDlD,EAAsBpF,UAAU6N,gBAAkB,OAAeC,MAOjE1I,EAAsBpF,UAAUmM,sBAAwB,WACtD,IAAI4B,EAAiB,GACjBpR,KAAK2L,gBACPyF,EAAetK,KAAK9G,KAAK2L,gBAEvB3L,KAAK8L,aACPsF,EAAetK,KAAK9G,KAAK8L,aAEvB9L,KAAK4L,cACPwF,EAAetK,KAAK9G,KAAK4L,cAE3B,IAAIyF,EAAgBrR,KAAKkM,SAAS7D,YAClCgJ,EAAcN,OAAM,GACpBM,EAAcC,YAAYF,IAO5B3I,EAAsBpF,UAAU6J,aAAe,WAC7C,IAAI7K,EAAMrC,KAAKuR,SACXC,EAASxR,KAAKyR,YACbpP,GAAQmP,GACXxR,KAAKuO,gBAEPvO,KAAKkM,SAASuB,OAAO+D,EAASnP,EAAM,OAiBtCoG,EAAsBiJ,qBAAuB,SAASC,EAAWC,GAC/D,OAAO,SAMInH,EAAaC,GACpB,IAAImH,EAASpH,EAAY,GACrBqH,EAAMrH,EAAY,GAClBsH,EAAS/G,KAAKC,KACd,OAAgBH,gBAAgB+G,EAAQC,IACxCxG,EAAWZ,GACb,OAAkBsH,WAAW,IAAI,OAAiBH,GAASF,GACzDM,EAAQL,GACV5G,KAAKkH,MAAMJ,EAAI,GAAKD,EAAO,KAAOC,EAAI,GAAKD,EAAO,KAEpD,OADA,OAAkBM,YAAY7G,EAAUuG,EAAQE,EAAQE,GACjD3G,IAab7C,EAAsB2J,UAAY,WAChC,OAAO,SAMI3H,EAAaC,GACpB,IAAI1E,EAAS,OAAYqM,eAAe5H,GACpCa,EAAWZ,GAAgB,IAAI,OAAkB,MAQrD,OAPAY,EAASC,eAAe,CAAC,CACvB,OAAY+G,cAActM,GAC1B,OAAYuM,eAAevM,GAC3B,OAAYwM,YAAYxM,GACxB,OAAYyM,WAAWzM,GACvB,OAAYsM,cAActM,MAErBsF,IAab7C,EAAsBiB,SAAW,SAASvB,GACxC,IAAIgD,EAaJ,OAZIhD,IAAS,OAAuBiD,OAChCjD,IAAS,OAAuBwI,YAClCxF,EAAO1C,EAAsBsB,MAAMqB,MAC1BjD,IAAS,OAAuBkD,aACvClD,IAAS,OAAuByI,kBAClCzF,EAAO1C,EAAsBsB,MAAMsB,YAC1BlD,IAAS,OAAuB6B,SACvC7B,IAAS,OAAuB0I,cAClC1F,EAAO1C,EAAsBsB,MAAMC,QAC1B7B,IAAS,OAAuBqC,SACzCW,EAAO1C,EAAsBsB,MAAMS,QAEY,GAUnD/B,EAAsBsB,MAAQ,CAC5BqB,MAAO,QACPC,YAAa,aACbrB,QAAS,UACTQ,OAAQ,UAcV/B,EAAsBoH,MAAQ,SAAS1H,EAAMkF,GAE3C,OAAkB9K,KAAKvC,KAAMmI,GAO7BnI,KAAKqN,QAAUA,GAGjB,OAAKjK,SAASqF,EAAsBoH,MAAO,QAC5B,U,2CCn4Bf,IAAI6C,EAAS,WAAkB,IAAIC,EAAI3S,KAAK4S,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACE,MAAM,CAAC,kBAAkB,wBAAwB,CAACF,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,CAAEC,KAAM,WAAY,CAACJ,EAAIK,GAAG,QAAQJ,EAAG,qBAAqB,CAACD,EAAIK,GAAG,UAAUJ,EAAG,qBAAqB,CAACD,EAAIK,GAAG,YAAY,GAAGJ,EAAG,UAAU,CAACA,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAc,UAAUG,MAAM,CAACtN,MAAOgN,EAAIO,MAAOC,SAAS,SAAUC,GAAMT,EAAIO,MAAME,GAAKC,WAAW,YAAY,GAAGT,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAc,QAAQG,MAAM,CAACtN,MAAOgN,EAAIW,KAAMH,SAAS,SAAUC,GAAMT,EAAIW,KAAKF,GAAKC,WAAW,WAAW,GAAGT,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,kBAAkB,CAACE,MAAM,CAAC,IAAM,EAAE,MAAQ,QAAQG,MAAM,CAACtN,MAAOgN,EAAIY,SAAUJ,SAAS,SAAUC,GAAMT,EAAIY,SAASH,GAAKC,WAAW,eAAe,GAAGT,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWU,GAAG,CAAC,MAAQb,EAAIc,WAAW,CAACd,EAAIK,GAAG,SAAS,IAAI,GAAGJ,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,UAAU,IAAI,IAE1iCY,EAAkB,G,kZC6DP,G,UAAA,CACfC,gBACA,OACAT,kLACAK,YACAD,QACAjR,SACA8G,cAGAyK,qBAEAC,mBACA,gBAEAC,SACAC,mBACA,kBACAC,OACAnC,qCAGA,cACAxI,cAEA,cACAF,SACAtI,eAEA,cACAoT,0BACAC,iBACA,WACAC,aACA1P,QACA2P,wBACAA,wBACAC,GAEAC,SAEA,cACA,YAEAb,oBAAA,sKAEA,OADA,UACA,0BACA,wBAAAc,QACAjB,aACAC,uBACA,OAQA,IARA,SAHAnP,SAIA,YACA,cAEA,cACAoQ,mBACAnL,KACAoL,aACA,mBACApH,sBACAA,mDACA,wBACAhE,UAEA,mEApBA,OC3GqW,I,wBCQjWqL,EAAY,eACd,EACAhC,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAgB,E,gCCnBf,IAAIC,EAAI,EAAQ,QACZC,EAAiB,EAAQ,QAI7BD,EAAE,CAAER,OAAQ,SAAUU,MAAM,GAAQ,CAClCD,eAAgBA,K,gFCNlB,SAASE,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ5R,EAAKkE,GACpE,IACE,IAAI2N,EAAOL,EAAIxR,GAAKkE,GAChB9B,EAAQyP,EAAKzP,MACjB,MAAOnG,GAEP,YADAyV,EAAOzV,GAGL4V,EAAK/E,KACP2E,EAAQrP,GAER0P,QAAQL,QAAQrP,GAAO2P,KAAKJ,EAAOC,GAGxB,SAASI,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOzV,KACT0V,EAAOC,UACT,OAAO,IAAIN,SAAQ,SAAUL,EAASC,GACpC,IAAIF,EAAMS,EAAGI,MAAMH,EAAMC,GACzB,SAASR,EAAMvP,GACbmP,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQxP,GAElE,SAASwP,EAAOU,GACdf,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASU,GAEnEX,OAAMhV,S,oCCzBZ,IAAI4V,EAAc,EAAQ,QACtBC,EAAwB,EAAQ,QAChCC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAyB,EAAQ,QAGjCC,EAAiB/W,OAAO+W,eAExBvB,EAAiBxV,OAAOwV,eACxBwB,EAAkBhX,OAAOiE,UACzBgT,EAAQ,YAIZ,GAAIP,GAAeK,GAAkBvB,KAAoByB,KAASD,GAAkB,IAClFL,EAAsBK,EAAiBC,EAAO,CAC5CC,cAAc,EACd/Q,IAAK,WACH,OAAO4Q,EAAeF,EAASjW,QAEjCuW,IAAK,SAAmBC,GACtB,IAAIC,EAAIP,EAAuBlW,OAC1BgW,EAASQ,IAAoB,OAAVA,IAAmBR,EAASS,IACpD7B,EAAe6B,EAAGD,MAGtB,MAAOhX,M,kCCtBT,IAAIkX,EAA4B,CAC9BC,gBAAiB,iBACjBC,UAAW,YACXC,UAAW,YACXC,KAAM,QAGO,U,uBCbf,IAAI3P,EAAiB,EAAQ,QAI7BA,EAAe6D,KAAM,QAAQ,I,gHCazB+L,EAAa,SAAS/Q,EAAQsH,EAAYxL,EAAYkV,EAAKtU,EAAauU,GAE1E,OAAe1U,KAAKvC,KAAMgG,EAAQsH,EAAYxL,EAAY,OAAgBoV,MAM1ElX,KAAKmX,KAAOH,EAMZhX,KAAKoX,OAAS,IAAIC,MACE,OAAhB3U,IACF1C,KAAKoX,OAAO1U,YAAcA,GAO5B1C,KAAKsX,mBAAqB,KAM1BtX,KAAKuX,MAAQ,OAAgBL,KAM7BlX,KAAKwX,mBAAqBP,GAI5B,OAAK7T,SAAS2T,EAAY,QAO1BA,EAAW1T,UAAUoU,SAAW,WAC9B,OAAOzX,KAAKoX,QASdL,EAAW1T,UAAUqU,kBAAoB,WACvC1X,KAAKuX,MAAQ,OAAgBI,MAC7B3X,KAAK4X,iBACL5X,KAAK6X,WASPd,EAAW1T,UAAUyU,iBAAmB,gBACd5X,IAApBF,KAAKsN,aACPtN,KAAKsN,WAAa,OAAYyK,UAAU/X,KAAKgG,QAAUhG,KAAKoX,OAAOY,QAErEhY,KAAKuX,MAAQ,OAAgBU,OAC7BjY,KAAK4X,iBACL5X,KAAK6X,WAWPd,EAAW1T,UAAU6U,KAAO,WACtBlY,KAAKuX,OAAS,OAAgBL,MAAQlX,KAAKuX,OAAS,OAAgBI,QACtE3X,KAAKuX,MAAQ,OAAgBY,QAC7BnY,KAAK6X,UACL7X,KAAKsX,mBAAqB,CACxB,OAAYc,WAAWpY,KAAKoX,OAAQ,OAAsBO,MACtD3X,KAAK0X,kBAAmB1X,MAC5B,OAAYoY,WAAWpY,KAAKoX,OAAQ,OAAsBiB,KACtDrY,KAAK8X,iBAAkB9X,OAE7BA,KAAKwX,mBAAmBxX,KAAMA,KAAKmX,QAQvCJ,EAAW1T,UAAUiV,SAAW,SAASC,GACvCvY,KAAKoX,OAASmB,GAShBxB,EAAW1T,UAAUuU,eAAiB,WACpC5X,KAAKsX,mBAAmB5R,QAAQ,OAAY8S,eAC5CxY,KAAKsX,mBAAqB,MAEb,Q,oFC9GXmB,EAAoB,SAASC,EAAYC,EACzCC,EAAcC,EAAkB/W,EAAYgX,GAM9C9Y,KAAK+Y,YAAcJ,EAMnB3Y,KAAKgZ,iBAAmBN,EAAWvS,YACnC,IAAI8S,EAAkBN,EAAWxS,YAE7B+S,EAAsBD,EACxB,OAAYE,gBAAgBP,EAAcK,GAAmBL,EAE3DQ,EAAe,OAAYC,UAAUH,GACrCI,EAAmB,OAAYC,0BAC/Bb,EAAYC,EAAYS,EAAcP,GAEtCW,EAAyB,OAAKC,4CAMlCzZ,KAAK0Z,eAAiB,IAAI,OACtBhB,EAAYC,EAAYO,EAAqBlZ,KAAKgZ,iBAClDM,EAAmBE,GAMvBxZ,KAAK2Z,kBAAoBd,EAMzB7Y,KAAK4Z,cAAgBhB,EAErB,IAAIiB,EAAe7Z,KAAK0Z,eAAeI,wBAMvC9Z,KAAK+Z,aACDjB,EAAiBe,EAAcP,EAAkBxX,GAMrD9B,KAAKga,kBACDha,KAAK+Z,aAAe/Z,KAAK+Z,aAAaE,gBAAkB,EAM5Dja,KAAKka,QAAU,KAMfla,KAAKma,mBAAqB,KAG1B,IAAI5C,EAAQ,OAAgBU,OAExBjY,KAAK+Z,eACPxC,EAAQ,OAAgBL,MAG1B,OAAe3U,KAAKvC,KAAM4Y,EAAcC,EAAkB7Y,KAAKga,kBAAmBzC,IAGpF,OAAKnU,SAASqV,EAAmB,QAMjCA,EAAkBpV,UAAU+W,gBAAkB,WACxCpa,KAAKuX,OAAS,OAAgBY,SAChCnY,KAAKqa,kBAEP,OAAehX,UAAU+W,gBAAgB7X,KAAKvC,OAOhDyY,EAAkBpV,UAAUoU,SAAW,WACrC,OAAOzX,KAAKka,SAOdzB,EAAkBpV,UAAUiX,cAAgB,WAC1C,OAAOta,KAAK+Y,aAOdN,EAAkBpV,UAAUkX,WAAa,WACvC,IAAIC,EAAcxa,KAAK+Z,aAAaU,WACpC,GAAID,GAAe,OAAgBvC,OAAQ,CACzC,IAAIyC,EAAQ,OAAYC,SAAS3a,KAAK4Z,eAAiB5Z,KAAK2Z,kBACxD3B,EACA,OAAYD,UAAU/X,KAAK4Z,eAAiB5Z,KAAK2Z,kBAErD3Z,KAAKka,QAAU,OAAYxH,OAAOgI,EAAO1C,EAAQhY,KAAKga,kBAClDha,KAAK+Z,aAAaa,gBAAiB5a,KAAKgZ,iBACxChZ,KAAK2Z,kBAAmB3Z,KAAK4Z,cAAe5Z,KAAK0Z,eAAgB,CAAC,CAChE1T,OAAQhG,KAAK+Z,aAAa5T,YAC1BoS,MAAOvY,KAAK+Z,aAAatC,aACvB,GAEVzX,KAAKuX,MAAQiD,EACbxa,KAAK6X,WAOPY,EAAkBpV,UAAU6U,KAAO,WACjC,GAAIlY,KAAKuX,OAAS,OAAgBL,KAAM,CACtClX,KAAKuX,MAAQ,OAAgBY,QAC7BnY,KAAK6X,UAEL,IAAI2C,EAAcxa,KAAK+Z,aAAaU,WAChCD,GAAe,OAAgBvC,QAC/BuC,GAAe,OAAgB7C,MACjC3X,KAAKua,cAELva,KAAKma,mBAAqB,OAAYpN,OAAO/M,KAAK+Z,aAC9C,OAAsBc,QAAQ,SAASC,GACrC,IAAIN,EAAcxa,KAAK+Z,aAAaU,WAChCD,GAAe,OAAgBvC,QAC/BuC,GAAe,OAAgB7C,QACjC3X,KAAKqa,kBACLra,KAAKua,gBAENva,MACPA,KAAK+Z,aAAa7B,UASxBO,EAAkBpV,UAAUgX,gBAAkB,WAC5C,OAAY7B,cAA4CxY,KAAuB,oBAC/EA,KAAKma,mBAAqB,MAEb,Q,YC7KXY,EAAoB,SAAShb,GAC/B,OAAmBwC,KAAKvC,KAAM,CAC5BwC,aAAczC,EAAQyC,aACtBwD,OAAQjG,EAAQiG,OAChBrD,KAAM5C,EAAQ4C,KACdZ,WAAYhC,EAAQgC,WACpBwV,MAAOxX,EAAQwX,QAOjBvX,KAAKgb,kBAAuC9a,IAAxBH,EAAQkb,YAC1Blb,EAAQkb,YAAc,KAOxBjb,KAAKkb,kBAAoB,KAOzBlb,KAAKmb,qBAAuB,GAG9B,OAAK/X,SAAS2X,EAAmB,QAOjCA,EAAkB1X,UAAU+X,eAAiB,WAC3C,OAAOpb,KAAKgb,cASdD,EAAkB1X,UAAUgY,sBAAwB,SAAS/N,GAC3D,GAAItN,KAAKgb,aAAc,CACrB,IAAIjW,EAAM,OAAWuW,kBAAkBtb,KAAKgb,aAAc1N,EAAY,GACtEA,EAAatN,KAAKgb,aAAajW,GAEjC,OAAOuI,GAWTyN,EAAkB1X,UAAUoU,SAAW,SAASzR,EAAQsH,EAAYxL,EAAYC,GAC9E,IAAIwZ,EAAmBvb,KAAKsa,gBAC5B,GAAK,OAAKkB,4BACLD,GACAxZ,IACD,OAAU0D,WAAW8V,EAAkBxZ,GAKpC,CACL,GAAI/B,KAAKkb,kBAAmB,CAC1B,GAAIlb,KAAKmb,sBAAwBnb,KAAKyb,eAClC,OAAUhW,WACNzF,KAAKkb,kBAAkBZ,gBAAiBvY,IAC5C/B,KAAKkb,kBAAkBN,iBAAmBtN,GAC1C,OAAYoO,OAAO1b,KAAKkb,kBAAkB/U,YAAaH,GACzD,OAAOhG,KAAKkb,kBAEdlb,KAAKkb,kBAAkBS,UACvB3b,KAAKkb,kBAAoB,KAW3B,OARAlb,KAAKkb,kBAAoB,IAAI,EACzBK,EAAkBxZ,EAAYiE,EAAQsH,EAAYxL,EAClD,SAASkE,EAAQsH,EAAYxL,GAC3B,OAAO9B,KAAK4b,iBAAiB5V,EAAQsH,EACjCxL,EAAYyZ,IAChB5X,KAAK3D,OACXA,KAAKmb,qBAAuBnb,KAAKyb,cAE1Bzb,KAAKkb,kBAtBZ,OAHIK,IACFxZ,EAAawZ,GAERvb,KAAK4b,iBAAiB5V,EAAQsH,EAAYxL,EAAYC,IAoCjEgZ,EAAkB1X,UAAUuY,iBAAmB,SAAS5V,EAAQsH,EAAYxL,EAAYC,KAQxFgZ,EAAkB1X,UAAUwY,kBAAoB,SAASnO,GACvD,IAAI6K,EAAiC7K,EAAY,OACjD,OAAQ6K,EAAMkC,YACZ,KAAK,OAAgBtC,QACnBnY,KAAK4P,cACD,IAAImL,EAAkBlL,MAAMkL,EAAkBe,WAAWC,eACrDxD,IACR,MACF,KAAK,OAAgBN,OACnBjY,KAAK4P,cACD,IAAImL,EAAkBlL,MAAMkL,EAAkBe,WAAWE,aACrDzD,IACR,MACF,KAAK,OAAgBZ,MACnB3X,KAAK4P,cACD,IAAImL,EAAkBlL,MAAMkL,EAAkBe,WAAWG,eACrD1D,IACR,MACF,WAYJwC,EAAkBmB,yBAA2B,SAAS3D,EAAOvB,GAC3DuB,EAAMd,WAAWT,IAAMA,GAezB+D,EAAkBlL,MAAQ,SAAS1H,EAAMoQ,GAEvC,OAAkBhW,KAAKvC,KAAMmI,GAO7BnI,KAAKuY,MAAQA,GAGf,OAAKnV,SAAS2X,EAAkBlL,MAAO,QAOvCkL,EAAkBe,WAAa,CAO7BC,eAAgB,iBAOhBC,aAAc,eAOdC,eAAgB,kBAGH,Q,oCCzMXE,EAAuB,SAASjU,GAElC,IAAInI,EAAUmI,GAAe,GAE7B,EAAkB3F,KAAKvC,KAAM,CAC3BwC,aAAczC,EAAQyC,aACtBG,KAAM5C,EAAQ4C,KACdZ,WAAYhC,EAAQgC,WACpBkZ,YAAalb,EAAQkb,cAOvBjb,KAAKoc,kBACuBlc,IAAxBH,EAAQ2C,YAA4B3C,EAAQ2C,YAAc,KAM9D1C,KAAKqc,KAAOtc,EAAQgB,IAMpBf,KAAKwX,wBAAmDtX,IAA9BH,EAAQkX,kBAChClX,EAAQkX,kBAAoB,EAAkBiF,yBAMhDlc,KAAKsc,QAAUvc,EAAQwU,QAAU,GAMjCvU,KAAKuc,MAAO,EACZvc,KAAKwc,aAMLxc,KAAKyc,YAAgE1c,EAAkB,WAMvFC,KAAK0c,YAA2Bxc,IAAlBH,EAAQ4c,OAAsB5c,EAAQ4c,MAMpD3c,KAAKoX,OAAS,KAMdpX,KAAK4c,WAAa,CAAC,EAAG,GAMtB5c,KAAK6c,kBAAoB,EAMzB7c,KAAK8c,YAA2B5c,IAAlBH,EAAQgd,MAAsBhd,EAAQgd,MAAQ,KAI9D,OAAK3Z,SAAS+Y,EAAsB,GAQpCA,EAAqBa,2BAA6B,CAAC,IAAK,KAiBxDb,EAAqB9Y,UAAU4Z,qBAAuB,SAAS5N,EAAY/B,EAAYvL,EAAYwS,GACjG,QAAkBrU,IAAdF,KAAKqc,KAAT,CAGA,IAAIa,EAAgB,OAAU3X,IAAIxD,GAC9Bob,EAAsBnd,KAAKsa,gBAE3B6C,GAAuBA,IAAwBD,IACjD5P,EAAa,OAAYiM,0BAA0B4D,EAAqBD,EAAe7N,EAAY/B,GACnG+B,EAAa,OAAU+N,UAAU/N,EAAY6N,EAAeC,IAG9D,IAAInX,EAAS,OAAYqX,kBACrBhO,EAAY/B,EAAY,EACxB6O,EAAqBa,4BAErBM,EAAa,CACf,QAAW,MACX,QAAW,OAAKC,oBAChB,QAAW,iBACX,OAAU,YACV,aAAe,EACf,aAAgBvd,KAAKsc,QAAQ,WAE/B,OAASjb,OAAOic,EAAYtd,KAAKsc,QAAS/H,GAE1C,IAAIiJ,EAAIxS,KAAKyS,OAAOpO,EAAW,GAAKrJ,EAAO,IAAMsH,GAC7CoQ,EAAI1S,KAAKyS,OAAOzX,EAAO,GAAKqJ,EAAW,IAAM/B,GAIjD,OAHAgQ,EAAWtd,KAAKuc,KAAO,IAAM,KAAOiB,EACpCF,EAAWtd,KAAKuc,KAAO,IAAM,KAAOmB,EAE7B1d,KAAK2d,eACR3X,EAAQmW,EAAqBa,2BAC7B,EAAGG,GAAuBD,EAAeI,KAU/CnB,EAAqB9Y,UAAUua,UAAY,WACzC,OAAO5d,KAAKsc,SAOdH,EAAqB9Y,UAAUuY,iBAAmB,SAAS5V,EAAQsH,EAAYxL,EAAYC,GAEzF,QAAkB7B,IAAdF,KAAKqc,KACP,OAAO,KAGT/O,EAAatN,KAAKqb,sBAAsB/N,GAEtB,GAAdxL,GAAqB9B,KAAK0c,aAA+Bxc,IAArBF,KAAKyc,cAC3C3a,EAAa,GAGf,IAAI+b,EAAkBvQ,EAAaxL,EAE/B+P,EAAS,OAAYwH,UAAUrT,GAC/B8X,EAAY9S,KAAK+S,KAAK,OAAYpD,SAAS3U,GAAU6X,GACrDG,EAAahT,KAAK+S,KAAK,OAAYhG,UAAU/R,GAAU6X,GACvDI,EAAa,OAAYZ,kBAAkBxL,EAAQgM,EAAiB,EACpE,CAACC,EAAWE,IACZE,EAAelT,KAAK+S,KAAK/d,KAAK8c,OAAS,OAAYnC,SAAS3U,GAAU6X,GACtEM,EAAgBnT,KAAK+S,KAAK/d,KAAK8c,OAAS,OAAY/E,UAAU/R,GAAU6X,GACxEO,EAAgB,OAAYf,kBAAkBxL,EAAQgM,EAAiB,EACvE,CAACK,EAAcC,IAEf5F,EAAQvY,KAAKoX,OACjB,GAAImB,GACAvY,KAAK6c,mBAAqB7c,KAAKyb,eAC/BlD,EAAMqC,iBAAmBtN,GACzBiL,EAAM0B,iBAAmBnY,GACzB,OAAYwE,eAAeiS,EAAMpS,YAAa8X,GAChD,OAAO1F,EAGT,IAAIhE,EAAS,CACX,QAAW,MACX,QAAW,OAAKgJ,oBAChB,QAAW,SACX,OAAU,YACV,aAAe,GAEjB,OAASlc,OAAOkT,EAAQvU,KAAKsc,SAE7Btc,KAAK4c,WAAW,GAAK5R,KAAKqT,MAAM,OAAY1D,SAASyD,GAAiBP,GACtE7d,KAAK4c,WAAW,GAAK5R,KAAKqT,MAAM,OAAYtG,UAAUqG,GAAiBP,GAEvE,IAAI9c,EAAMf,KAAK2d,eAAeS,EAAepe,KAAK4c,WAAY9a,EAC1DC,EAAYwS,GAUhB,OARAvU,KAAKoX,OAAS,IAAI,EAAWgH,EAAe9Q,EAAYxL,EACpDf,EAAKf,KAAKoc,aAAcpc,KAAKwX,oBAEjCxX,KAAK6c,kBAAoB7c,KAAKyb,cAE9B,OAAY1O,OAAO/M,KAAKoX,OAAQ,OAAsByD,OAClD7a,KAAK6b,kBAAmB7b,MAErBA,KAAKoX,QAUd+E,EAAqB9Y,UAAUib,qBAAuB,WACpD,OAAOte,KAAKwX,oBAad2E,EAAqB9Y,UAAUsa,eAAiB,SAAS3X,EAAQuY,EAAMzc,EAAYC,EAAYwS,GAU7F,GARA,OAAaiK,YAAqBte,IAAdF,KAAKqc,KAAoB,GAE7C9H,EAAOvU,KAAKuc,KAAO,MAAQ,OAASxa,EAAW0c,UAEzC,WAAYze,KAAKsc,UACrB/H,EAAO,UAAY,IAGH,GAAdzS,EACF,OAAQ9B,KAAKyc,aACX,KAAK,OAA0B7F,UAC7B,IAAI8H,EAAO,GAAK5c,EAAa,GAAO,EAChC,mBAAoByS,EACtBA,EAAO,mBAAqB,QAAUmK,EAEtCnK,EAAO,kBAAoB,OAASmK,EAEtC,MACF,KAAK,OAA0B7H,UAC7BtC,EAAO,kBAAoB,GAAKzS,EAChC,MACF,KAAK,OAA0B6U,gBAC/B,KAAK,OAA0BG,KAC7BvC,EAAO,OAAS,GAAKzS,EACrB,MACF,QACE,OAAa0c,QAAO,EAAO,GAC3B,MAINjK,EAAO,SAAWgK,EAAK,GACvBhK,EAAO,UAAYgK,EAAK,GAExB,IACII,EADAC,EAAkB7c,EAAW8c,qBASjC,OANEF,EADE3e,KAAKuc,MAAwC,MAAhCqC,EAAgBE,OAAO,EAAG,GAClC,CAAC9Y,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAEzCA,EAETuO,EAAO,QAAUoK,EAAKnb,KAAK,KAEpB,OAAShC,aAAoCxB,KAAS,KAAGuU,IASlE4H,EAAqB9Y,UAAU0b,OAAS,WACtC,OAAO/e,KAAKqc,MASdF,EAAqB9Y,UAAU2b,qBAAuB,SAClD/H,GACFjX,KAAKoX,OAAS,KACdpX,KAAKwX,mBAAqBP,EAC1BjX,KAAK6X,WASPsE,EAAqB9Y,UAAU4b,OAAS,SAASle,GAC3CA,GAAOf,KAAKqc,OACdrc,KAAKqc,KAAOtb,EACZf,KAAKoX,OAAS,KACdpX,KAAK6X,YAUTsE,EAAqB9Y,UAAU6b,aAAe,SAAS3K,GACrD,OAASlT,OAAOrB,KAAKsc,QAAS/H,GAC9BvU,KAAKwc,aACLxc,KAAKoX,OAAS,KACdpX,KAAK6X,WAOPsE,EAAqB9Y,UAAUmZ,WAAa,WAC1C,IAAIrc,EAAUH,KAAKsc,QAAQ,YAAc,OAAKiB,oBAC9Cvd,KAAKuc,KAAO,OAAY4C,gBAAgBhf,EAAS,QAAU,GAE9C,U,kCClXf,4EAkBIif,EAAmB,SAASvN,EAAQwN,EAAYC,GAClD,OAAyB/c,KAAKvC,MAC9B,IAAI+R,EAASsN,GAA0B,EACvCrf,KAAK+K,mBAAmB8G,EAAQE,EAAQuN,IAG1C,OAAKlc,SAASgc,EAAkB,QAShCA,EAAiB/b,UAAUkc,MAAQ,WACjC,IAAI5U,EAAS,IAAIyU,EAAiB,MAElC,OADAzU,EAAOuF,mBAAmBlQ,KAAKwf,OAAQxf,KAAKyf,gBAAgBnQ,SACrD3E,GAOTyU,EAAiB/b,UAAUqc,eAAiB,SAASlC,EAAGE,EAAGiC,EAAcC,GACvE,IAAIH,EAAkBzf,KAAKyf,gBACvB9Q,EAAK6O,EAAIiC,EAAgB,GACzB7Q,EAAK8O,EAAI+B,EAAgB,GACzB3U,EAAkB6D,EAAKA,EAAKC,EAAKA,EACrC,GAAI9D,EAAkB8U,EAAoB,CACxC,IAAIzb,EACJ,GAAwB,IAApB2G,EACF,IAAK3G,EAAI,EAAGA,EAAInE,KAAK6f,SAAU1b,EAC7Bwb,EAAaxb,GAAKsb,EAAgBtb,OAE/B,CACL,IAAI2b,EAAQ9f,KAAK+f,YAAc/U,KAAKC,KAAKH,GAGzC,IAFA6U,EAAa,GAAKF,EAAgB,GAAKK,EAAQnR,EAC/CgR,EAAa,GAAKF,EAAgB,GAAKK,EAAQlR,EAC1CzK,EAAI,EAAGA,EAAInE,KAAK6f,SAAU1b,EAC7Bwb,EAAaxb,GAAKsb,EAAgBtb,GAItC,OADAwb,EAAaxd,OAASnC,KAAK6f,OACpB/U,EAEP,OAAO8U,GAQXR,EAAiB/b,UAAU2c,WAAa,SAASxC,EAAGE,GAClD,IAAI+B,EAAkBzf,KAAKyf,gBACvB9Q,EAAK6O,EAAIiC,EAAgB,GACzB7Q,EAAK8O,EAAI+B,EAAgB,GAC7B,OAAO9Q,EAAKA,EAAKC,EAAKA,GAAM5O,KAAKigB,qBASnCb,EAAiB/b,UAAUgW,UAAY,WACrC,OAAOrZ,KAAKyf,gBAAgBnQ,MAAM,EAAGtP,KAAK6f,SAO5CT,EAAiB/b,UAAU6c,cAAgB,SAASla,GAClD,IAAIyZ,EAAkBzf,KAAKyf,gBACvB1N,EAAS0N,EAAgBzf,KAAK6f,QAAUJ,EAAgB,GAC5D,OAAO,OAAYU,eACfV,EAAgB,GAAK1N,EAAQ0N,EAAgB,GAAK1N,EAClD0N,EAAgB,GAAK1N,EAAQ0N,EAAgB,GAAK1N,EAClD/L,IASNoZ,EAAiB/b,UAAU0c,UAAY,WACrC,OAAO/U,KAAKC,KAAKjL,KAAKigB,sBAQxBb,EAAiB/b,UAAU4c,kBAAoB,WAC7C,IAAItR,EAAK3O,KAAKyf,gBAAgBzf,KAAK6f,QAAU7f,KAAKyf,gBAAgB,GAC9D7Q,EAAK5O,KAAKyf,gBAAgBzf,KAAK6f,OAAS,GAAK7f,KAAKyf,gBAAgB,GACtE,OAAO9Q,EAAKA,EAAKC,EAAKA,GAQxBwQ,EAAiB/b,UAAUmK,QAAU,WACnC,OAAO,OAAuBhD,QAQhC4U,EAAiB/b,UAAU+c,iBAAmB,SAASpa,GACrD,IAAIqa,EAAergB,KAAKmG,YACxB,GAAI,OAAYma,WAAWta,EAAQqa,GAAe,CAChD,IAAIxO,EAAS7R,KAAKqZ,YAElB,OAAIrT,EAAO,IAAM6L,EAAO,IAAM7L,EAAO,IAAM6L,EAAO,KAG9C7L,EAAO,IAAM6L,EAAO,IAAM7L,EAAO,IAAM6L,EAAO,IAI3C,OAAY0O,cAAcva,EAAQhG,KAAKwgB,qBAAsBxgB,OAEtE,OAAO,GAUTof,EAAiB/b,UAAUod,UAAY,SAAS5O,GAC9C,IAII1N,EAJA0b,EAAS7f,KAAK6f,OACd9N,EAAS/R,KAAKyf,gBAAgBI,GAAU7f,KAAKyf,gBAAgB,GAC7DA,EAAkB5N,EAAOvC,QAG7B,IAFAmQ,EAAgBI,GAAUJ,EAAgB,GAAK1N,EAE1C5N,EAAI,EAAGA,EAAI0b,IAAU1b,EACxBsb,EAAgBI,EAAS1b,GAAK0N,EAAO1N,GAEvCnE,KAAKkQ,mBAAmBlQ,KAAKwf,OAAQC,IAYvCL,EAAiB/b,UAAU0H,mBAAqB,SAAS8G,EAAQE,EAAQuN,GACvE,GAAKzN,EAEE,CACL7R,KAAK0gB,UAAUpB,EAAYzN,EAAQ,GAC9B7R,KAAKyf,kBACRzf,KAAKyf,gBAAkB,IAGzB,IAIItb,EAAGsC,EAJHgZ,EAAkBzf,KAAKyf,gBACvBkB,EAAS,OAAuBtR,WAChCoQ,EAAiB,EAAG5N,EAAQ7R,KAAK6f,QAGrC,IAFAJ,EAAgBkB,KAAYlB,EAAgB,GAAK1N,EAE5C5N,EAAI,EAAGsC,EAAKzG,KAAK6f,OAAQ1b,EAAIsC,IAAMtC,EACtCsb,EAAgBkB,KAAYlB,EAAgBtb,GAE9Csb,EAAgBtd,OAASwe,EACzB3gB,KAAK6X,eAhBL7X,KAAKkQ,mBAAmB,OAAyB0Q,GAAI,OAwBzDxB,EAAiB/b,UAAUqN,eAAiB,aAM5C0O,EAAiB/b,UAAUkI,eAAiB,SAASd,EAAa6U,KAOlEF,EAAiB/b,UAAU6M,mBAAqB,SAASsP,EAAQC,GAC/Dzf,KAAK6gB,2BAA2BrB,EAAQC,GACxCzf,KAAK6X,WASPuH,EAAiB/b,UAAUyd,UAAY,SAAS/O,GAC9C/R,KAAKyf,gBAAgBzf,KAAK6f,QAAU7f,KAAKyf,gBAAgB,GAAK1N,EAC9D/R,KAAK6X,WA0BPuH,EAAiB/b,UAAU+Z,UACZ,U,qBCtQf,IAAIzI,EAAI,EAAQ,QACZoM,EAAQ,EAAQ,QAChB9K,EAAW,EAAQ,QACnB+K,EAAuB,EAAQ,QAC/BC,EAA2B,EAAQ,QAEnCC,EAAsBH,GAAM,WAAcC,EAAqB,MAInErM,EAAE,CAAER,OAAQ,SAAUU,MAAM,EAAMsM,OAAQD,EAAqBE,MAAOH,GAA4B,CAChG9K,eAAgB,SAAwB5W,GACtC,OAAOyhB,EAAqB/K,EAAS1W,Q,gHCRrC8hB,EAA6B,CAC/BC,SAAU,WACVC,OAAQ,UAGK,I,oCCSXC,EAAuB,SAASjJ,EAAOvB,EAAKuH,EAAM7b,EAAa+e,EAC/DC,GAEF,OAAwBnf,KAAKvC,MAM7BA,KAAK2hB,mBAAqB,KAM1B3hB,KAAKoX,OAAUmB,GAAQ,IAAIlB,MAEP,OAAhB3U,IACF1C,KAAKoX,OAAO1U,YAAcA,GAO5B1C,KAAKka,QAAUwH,EACqBE,SAASC,cAAc,UACzD,KAMF7hB,KAAK8hB,OAASJ,EAMd1hB,KAAKsX,mBAAqB,KAM1BtX,KAAK+hB,YAAcN,EAMnBzhB,KAAKgiB,MAAQzD,EAMbve,KAAKmX,KAAOH,EAMZhX,KAAKiiB,WAAY,EACbjiB,KAAK+hB,aAAe,OAAgB9J,QACtCjY,KAAKkiB,sBAKT,OAAK9e,SAASoe,EAAsB,QAYpCA,EAAqBjc,IAAM,SAASgT,EAAOvB,EAAKuH,EAAM7b,EAAa+e,EAC/DC,GACF,IAAIS,EAAiB,OAAWA,eAC5BC,EAAYD,EAAe5c,IAAIyR,EAAKtU,EAAagf,GAMrD,OALKU,IACHA,EAAY,IAAIZ,EACZjJ,EAAOvB,EAAKuH,EAAM7b,EAAa+e,EAAYC,GAC/CS,EAAe5L,IAAIS,EAAKtU,EAAagf,EAAOU,IAEvCA,GAOTZ,EAAqBne,UAAU6e,mBAAqB,WAClD,IAAI9gB,EAAU,OAASihB,sBAAsB,EAAG,GAChD,IACEjhB,EAAQkhB,UAAUtiB,KAAKoX,OAAQ,EAAG,GAClChW,EAAQmhB,aAAa,EAAG,EAAG,EAAG,GAC9B,MAAOzH,GACP9a,KAAKiiB,WAAY,IAQrBT,EAAqBne,UAAUmf,qBAAuB,WACpDxiB,KAAK4P,cAAc,OAAsBiL,SAO3C2G,EAAqBne,UAAUqU,kBAAoB,WACjD1X,KAAK+hB,YAAc,OAAgBpK,MACnC3X,KAAK4X,iBACL5X,KAAKwiB,wBAOPhB,EAAqBne,UAAUyU,iBAAmB,WAChD9X,KAAK+hB,YAAc,OAAgB9J,OAC/BjY,KAAKgiB,QACPhiB,KAAKoX,OAAOsD,MAAQ1a,KAAKgiB,MAAM,GAC/BhiB,KAAKoX,OAAOY,OAAShY,KAAKgiB,MAAM,IAElChiB,KAAKgiB,MAAQ,CAAChiB,KAAKoX,OAAOsD,MAAO1a,KAAKoX,OAAOY,QAC7ChY,KAAK4X,iBACL5X,KAAKkiB,qBACLliB,KAAKyiB,gBACLziB,KAAKwiB,wBAQPhB,EAAqBne,UAAUoU,SAAW,SAAS3V,GACjD,OAAO9B,KAAKka,QAAUla,KAAKka,QAAUla,KAAKoX,QAO5CoK,EAAqBne,UAAUqf,cAAgB,WAC7C,OAAO1iB,KAAK+hB,aAQdP,EAAqBne,UAAUsf,qBAAuB,SAAS7gB,GAC7D,IAAK9B,KAAK2hB,mBACR,GAAI3hB,KAAKiiB,UAAW,CAClB,IAAIvH,EAAQ1a,KAAKgiB,MAAM,GACnBhK,EAAShY,KAAKgiB,MAAM,GACpB5gB,EAAU,OAASihB,sBAAsB3H,EAAO1C,GACpD5W,EAAQwhB,SAAS,EAAG,EAAGlI,EAAO1C,GAC9BhY,KAAK2hB,mBAAqBvgB,EAAQyhB,YAElC7iB,KAAK2hB,mBAAqB3hB,KAAKoX,OAGnC,OAAOpX,KAAK2hB,oBAOdH,EAAqBne,UAAUyf,QAAU,WACvC,OAAO9iB,KAAKgiB,OAOdR,EAAqBne,UAAU0f,OAAS,WACtC,OAAO/iB,KAAKmX,MAOdqK,EAAqBne,UAAU6U,KAAO,WACpC,GAAIlY,KAAK+hB,aAAe,OAAgB7K,KAAM,CAC5ClX,KAAK+hB,YAAc,OAAgB5J,QACnCnY,KAAKsX,mBAAqB,CACxB,OAAYc,WAAWpY,KAAKoX,OAAQ,OAAsBO,MACtD3X,KAAK0X,kBAAmB1X,MAC5B,OAAYoY,WAAWpY,KAAKoX,OAAQ,OAAsBiB,KACtDrY,KAAK8X,iBAAkB9X,OAE7B,IACEA,KAAKoX,OAAOJ,IAAMhX,KAAKmX,KACvB,MAAO2D,GACP9a,KAAK0X,uBASX8J,EAAqBne,UAAUof,cAAgB,WAC7C,IAAIziB,KAAKiiB,WAA6B,OAAhBjiB,KAAK8hB,OAA3B,CAIA9hB,KAAKka,QAAQQ,MAAQ1a,KAAKoX,OAAOsD,MACjC1a,KAAKka,QAAQlC,OAAShY,KAAKoX,OAAOY,OAElC,IAAIgL,EAAMhjB,KAAKka,QAAQ+I,WAAW,MAClCD,EAAIV,UAAUtiB,KAAKoX,OAAQ,EAAG,GAQ9B,IANA,IAAI8L,EAAUF,EAAIT,aAAa,EAAG,EAAGviB,KAAKoX,OAAOsD,MAAO1a,KAAKoX,OAAOY,QAChErE,EAAOuP,EAAQvP,KACfwP,EAAInjB,KAAK8hB,OAAO,GAAK,IACrBsB,EAAIpjB,KAAK8hB,OAAO,GAAK,IACrBuB,EAAIrjB,KAAK8hB,OAAO,GAAK,IAEhB3d,EAAI,EAAGsC,EAAKkN,EAAKxR,OAAQgC,EAAIsC,EAAItC,GAAK,EAC7CwP,EAAKxP,IAAMgf,EACXxP,EAAKxP,EAAI,IAAMif,EACfzP,EAAKxP,EAAI,IAAMkf,EAEjBL,EAAIM,aAAaJ,EAAS,EAAG,KAS/B1B,EAAqBne,UAAUuU,eAAiB,WAC9C5X,KAAKsX,mBAAmB5R,QAAQ,OAAY8S,eAC5CxY,KAAKsX,mBAAqB,MAEb,QC9QXiM,EAAwB,CAC1BC,YAAa,cACbC,aAAc,eACdC,SAAU,WACVC,UAAW,aAGE,I,YCSXC,EAAkB,SAAS1b,GAE7B,IAAInI,EAAUmI,GAAe,GAM7BlI,KAAK6jB,aAA6B3jB,IAAnBH,EAAQ+jB,OAAuB/jB,EAAQ+jB,OAAS,CAAC,GAAK,IAMrE9jB,KAAK+jB,kBAAoB,KAMzB/jB,KAAKgkB,mBAAyC9jB,IAAzBH,EAAQkkB,aAC3BlkB,EAAQkkB,aAAe,EAAsBP,SAM/C1jB,KAAKkkB,mBAAyChkB,IAAzBH,EAAQokB,aAC3BpkB,EAAQokB,aAAe,EAA2B7C,SAMpDthB,KAAKokB,mBAAyClkB,IAAzBH,EAAQskB,aAC3BtkB,EAAQskB,aAAe,EAA2B/C,SAMpDthB,KAAKoc,kBACuBlc,IAAxBH,EAAQ2C,YAA4B3C,EAAQ2C,YAAc,KAK9D,IAAI6V,OAAwBrY,IAAhBH,EAAQukB,IAAoBvkB,EAAQukB,IAAM,KAKlDC,OAA8BrkB,IAApBH,EAAQwkB,QAAwBxkB,EAAQwkB,QAAU,KAK5DvN,EAAMjX,EAAQiX,IAElB,OAAawH,cAAiBte,IAAR8W,GAAqBuB,GACvC,GACJ,OAAaiG,QAAQjG,GAAUA,GAASgM,EACpC,QAESrkB,IAAR8W,GAAoC,IAAfA,EAAI7U,SAAiBoW,IAC7CvB,EAAMuB,EAAMvB,KAAO,OAAKwN,OAAOjM,GAAOkM,YAExC,OAAajG,YAAete,IAAR8W,GAAqBA,EAAI7U,OAAS,EAClD,GAKJ,IAAIsf,OAA6BvhB,IAAhBH,EAAQiX,IACvB,OAAgBE,KAAO,OAAgBe,OAMzCjY,KAAK8hB,YAA2B5hB,IAAlBH,EAAQ2hB,MAAsB,OAAWgD,QAAQ3kB,EAAQ2hB,OACrE,KAMF1hB,KAAK2kB,WAAa,EAAqBpf,IACnCgT,EAA6B,EAAOgM,EAASvkB,KAAKoc,aAAcqF,EAAYzhB,KAAK8hB,QAMrF9hB,KAAK4kB,aAA6B1kB,IAAnBH,EAAQ4gB,OAAuB5gB,EAAQ4gB,OAAS,CAAC,EAAG,GAMnE3gB,KAAK6kB,mBAAyC3kB,IAAzBH,EAAQ+kB,aAC3B/kB,EAAQ+kB,aAAe,EAAsBpB,SAM/C1jB,KAAK+kB,QAAU,KAMf/kB,KAAKgiB,WAAyB9hB,IAAjBH,EAAQwe,KAAqBxe,EAAQwe,KAAO,KAKzD,IAAIyG,OAA8B9kB,IAApBH,EAAQilB,QAAwBjlB,EAAQilB,QAAU,EAK5DC,OAA4C/kB,IAA3BH,EAAQklB,gBAC3BllB,EAAQklB,eAKNC,OAAgChlB,IAArBH,EAAQmlB,SAAyBnlB,EAAQmlB,SAAW,EAK/DC,OAA0BjlB,IAAlBH,EAAQolB,MAAsBplB,EAAQolB,MAAQ,EAKtDC,OAAsCllB,IAAxBH,EAAQqlB,aACxBrlB,EAAQqlB,YAEV,OAAiB7iB,KAAKvC,KAAM,CAC1BglB,QAASA,EACTE,SAAUA,EACVC,MAAOA,EACPC,YAAaA,EACbH,eAAgBA,KAKpB,OAAK7hB,SAASwgB,EAAiB,QAQ/BA,EAAgBvgB,UAAUkc,MAAQ,WAChC,OAAO,IAAIqE,EAAgB,CACzBE,OAAQ9jB,KAAK6jB,QAAQvU,QACrB2U,aAAcjkB,KAAKgkB,cACnBG,aAAcnkB,KAAKkkB,cACnBG,aAAcrkB,KAAKokB,cACnB1hB,YAAa1C,KAAKoc,aAClBsF,MAAQ1hB,KAAK8hB,QAAU9hB,KAAK8hB,OAAOxS,MAAStP,KAAK8hB,OAAOxS,QAAUtP,KAAK8hB,aAAU5hB,EACjF8W,IAAKhX,KAAK+iB,SACVpC,OAAQ3gB,KAAK4kB,QAAQtV,QACrBwV,aAAc9kB,KAAK6kB,cACnBtG,KAAqB,OAAfve,KAAKgiB,MAAiBhiB,KAAKgiB,MAAM1S,aAAUpP,EACjD8kB,QAAShlB,KAAKqlB,aACdF,MAAOnlB,KAAKslB,WACZF,YAAaplB,KAAKulB,iBAClBL,SAAUllB,KAAKwlB,cACfP,eAAgBjlB,KAAKylB,uBASzB7B,EAAgBvgB,UAAUqiB,UAAY,WACpC,GAAI1lB,KAAK+jB,kBACP,OAAO/jB,KAAK+jB,kBAEd,IAAID,EAAS9jB,KAAK6jB,QACdtF,EAAOve,KAAK8iB,UAChB,GAAI9iB,KAAKkkB,eAAiB,EAA2B5C,UACjDthB,KAAKokB,eAAiB,EAA2B9C,SAAU,CAC7D,IAAK/C,EACH,OAAO,KAETuF,EAAS9jB,KAAK6jB,QAAQvU,QAClBtP,KAAKkkB,eAAiB,EAA2B5C,WACnDwC,EAAO,IAAMvF,EAAK,IAEhBve,KAAKokB,eAAiB,EAA2B9C,WACnDwC,EAAO,IAAMvF,EAAK,IAItB,GAAIve,KAAKgkB,eAAiB,EAAsBN,SAAU,CACxD,IAAKnF,EACH,OAAO,KAELuF,IAAW9jB,KAAK6jB,UAClBC,EAAS9jB,KAAK6jB,QAAQvU,SAEpBtP,KAAKgkB,eAAiB,EAAsBL,WAC5C3jB,KAAKgkB,eAAiB,EAAsBP,eAC9CK,EAAO,IAAMA,EAAO,GAAKvF,EAAK,IAE5Bve,KAAKgkB,eAAiB,EAAsBR,aAC5CxjB,KAAKgkB,eAAiB,EAAsBP,eAC9CK,EAAO,IAAMA,EAAO,GAAKvF,EAAK,IAIlC,OADAve,KAAK+jB,kBAAoBD,EAClB9jB,KAAK+jB,mBASdH,EAAgBvgB,UAAUsiB,SAAW,WACnC,OAAO3lB,KAAK8hB,QAWd8B,EAAgBvgB,UAAUoU,SAAW,SAAS3V,GAC5C,OAAO9B,KAAK2kB,WAAWlN,SAAS3V,IAOlC8hB,EAAgBvgB,UAAUuiB,aAAe,WACvC,OAAO5lB,KAAK2kB,WAAW7B,WAOzBc,EAAgBvgB,UAAUwiB,yBAA2B,WACnD,OAAO7lB,KAAK4lB,gBAOdhC,EAAgBvgB,UAAUqf,cAAgB,WACxC,OAAO1iB,KAAK2kB,WAAWjC,iBAOzBkB,EAAgBvgB,UAAUsf,qBAAuB,SAAS7gB,GACxD,OAAO9B,KAAK2kB,WAAWhC,qBAAqB7gB,IAQ9C8hB,EAAgBvgB,UAAUyiB,UAAY,WACpC,GAAI9lB,KAAK+kB,QACP,OAAO/kB,KAAK+kB,QAEd,IAAIpE,EAAS3gB,KAAK4kB,QAElB,GAAI5kB,KAAK6kB,eAAiB,EAAsBnB,SAAU,CACxD,IAAInF,EAAOve,KAAK8iB,UACZiD,EAAgB/lB,KAAK2kB,WAAW7B,UACpC,IAAKvE,IAASwH,EACZ,OAAO,KAETpF,EAASA,EAAOrR,QACZtP,KAAK6kB,eAAiB,EAAsBlB,WAC5C3jB,KAAK6kB,eAAiB,EAAsBpB,eAC9C9C,EAAO,GAAKoF,EAAc,GAAKxH,EAAK,GAAKoC,EAAO,IAE9C3gB,KAAK6kB,eAAiB,EAAsBrB,aAC5CxjB,KAAK6kB,eAAiB,EAAsBpB,eAC9C9C,EAAO,GAAKoF,EAAc,GAAKxH,EAAK,GAAKoC,EAAO,IAIpD,OADA3gB,KAAK+kB,QAAUpE,EACR3gB,KAAK+kB,SASdnB,EAAgBvgB,UAAU0f,OAAS,WACjC,OAAO/iB,KAAK2kB,WAAW5B,UAQzBa,EAAgBvgB,UAAUyf,QAAU,WAClC,OAAQ9iB,KAAKgiB,MAAoChiB,KAAKgiB,MAAjChiB,KAAK2kB,WAAW7B,WAOvCc,EAAgBvgB,UAAU2iB,kBAAoB,SAASC,EAAUC,GAC/D,OAAO,OAAYnZ,OAAO/M,KAAK2kB,WAAY,OAAsB9J,OAC7DoL,EAAUC,IAYhBtC,EAAgBvgB,UAAU6U,KAAO,WAC/BlY,KAAK2kB,WAAWzM,QAOlB0L,EAAgBvgB,UAAU8iB,oBAAsB,SAASF,EAAUC,GACjE,OAAYE,SAASpmB,KAAK2kB,WAAY,OAAsB9J,OACxDoL,EAAUC,IAED,U,uBC3Xf,IAAIhf,EAAS,EAAQ,QAErBzH,EAAOC,QAAUwH,G,uBCFjB,IAAImf,EAAkB,EAAQ,QAC1BC,EAAoB,EAAQ,QAC5BC,EAAiB,EAAQ,QAEzBC,EAASC,MACTC,EAAM1b,KAAK0b,IAEfjnB,EAAOC,QAAU,SAAU+W,EAAGhH,EAAOqC,GAKnC,IAJA,IAAI3P,EAASmkB,EAAkB7P,GAC3BkQ,EAAIN,EAAgB5W,EAAOtN,GAC3BykB,EAAMP,OAAwBnmB,IAAR4R,EAAoB3P,EAAS2P,EAAK3P,GACxD0kB,EAASL,EAAOE,EAAIE,EAAMD,EAAG,IACxBG,EAAI,EAAGH,EAAIC,EAAKD,IAAKG,IAAKP,EAAeM,EAAQC,EAAGrQ,EAAEkQ,IAE/D,OADAE,EAAO1kB,OAAS2kB,EACTD,I,uBCdT,IAAItkB,EAAO,EAAQ,QACfwkB,EAAa,EAAQ,QACrBC,EAAkB,EAAQ,QAC1BC,EAAgB,EAAQ,QAE5BxnB,EAAOC,QAAU,WACf,IAAIsH,EAAS+f,EAAW,UACpBG,EAAkBlgB,GAAUA,EAAO3D,UACnC8jB,EAAUD,GAAmBA,EAAgBC,QAC7CC,EAAeJ,EAAgB,eAE/BE,IAAoBA,EAAgBE,IAItCH,EAAcC,EAAiBE,GAAc,SAAUC,GACrD,OAAO9kB,EAAK4kB,EAASnnB,QACpB,CAAEsnB,MAAO,M,uBCjBhB,IAAI3S,EAAI,EAAQ,QACZ5N,EAAgB,EAAQ,QACxBga,EAAQ,EAAQ,QAChBwG,EAA8B,EAAQ,QACtCtR,EAAW,EAAQ,QAInBuR,GAAUzgB,GAAiBga,GAAM,WAAcwG,EAA4BvoB,EAAE,MAIjF2V,EAAE,CAAER,OAAQ,SAAUU,MAAM,EAAMsM,OAAQqG,GAAU,CAClDC,sBAAuB,SAA+BloB,GACpD,IAAImoB,EAAyBH,EAA4BvoB,EACzD,OAAO0oB,EAAyBA,EAAuBzR,EAAS1W,IAAO,O,qBCf3E,IAAIooB,EAAa,EAAQ,QACrB3R,EAAW,EAAQ,QACnBpB,EAAiB,EAAQ,QAG7BnV,EAAOC,QAAU,SAAUkoB,EAAOC,EAAOC,GACvC,IAAIC,EAAWC,EAUf,OAPEpT,GAEA+S,EAAWI,EAAYF,EAAMI,cAC7BF,IAAcD,GACd9R,EAASgS,EAAqBD,EAAU1kB,YACxC2kB,IAAuBF,EAAQzkB,WAC/BuR,EAAegT,EAAOI,GACjBJ,I,kCChBT,gKAgCIM,EAA0B,SAAShgB,GAErC,OAA6B3F,KAAKvC,KAAM,CACtC4I,YAAasf,EAAwBtf,cAGvC,IAAI7I,EAAUmI,GAA4B,GAM1ClI,KAAKuM,WAAaxM,EAAQyM,UACxBzM,EAAQyM,UAAY,OAAsB2b,YAM5CnoB,KAAKooB,cAAgBroB,EAAQsoB,aAC3BtoB,EAAQsoB,aAAe,OAAsBC,MAM/CtoB,KAAKuoB,iBAAmBxoB,EAAQyoB,gBAC9BzoB,EAAQyoB,gBAAkB,OAAsBF,MAMlDtoB,KAAKyoB,iBAAmB1oB,EAAQ2oB,gBAC9B3oB,EAAQ2oB,gBAAkB,OAAsB5b,aAMlD9M,KAAK2oB,SAAS5oB,EAAQ6oB,OAAQ7oB,EAAQ6oB,MAMtC5oB,KAAK6oB,QAAU9oB,EAAQ+oB,OAAS/oB,EAAQ+oB,OACtC,OAAexe,KAMjBtK,KAAK+oB,cAAgBhpB,EAAQipB,aAAejpB,EAAQipB,aAAe,EAEnE,IAmBIC,EAnBAC,EAAiB,IAAI,OAAkB,CACzC/f,OAAQ,IAAI,OAAmB,CAC7BgD,iBAAiB,EACjB9C,SAAUtJ,EAAQsJ,SAClBrG,MAAOjD,EAAQiD,QAEjBnC,MAAOd,EAAQc,MAAQd,EAAQc,MAC7BqnB,EAAwB9b,0BAC1B+c,sBAAsB,EACtBC,wBAAwB,IAW1B,GAJAppB,KAAKqpB,gBAAkBH,EAInBnpB,EAAQ0E,OACV,GAA8B,oBAAnB1E,EAAQ0E,OACjBwkB,EAAclpB,EAAQ0E,WACjB,CACL,IAAIA,EAAS1E,EAAQ0E,OACrBwkB,EAAc,SAASxoB,GACrB,OAAO,OAAWoG,SAASpC,EAAQhE,SAIvCwoB,EAAc,OAAe3e,KAO/BtK,KAAKspB,aAAeL,EAQpBjpB,KAAKupB,yBAA2B,GAEhC,IAAIlgB,EAAWrJ,KAAKqpB,gBAAgBhhB,YAAYmhB,wBAChD,OAAYzc,OAAO1D,EAAU,OAAyBogB,IAClDzpB,KAAK0pB,YAAa1pB,MACtB,OAAY+M,OAAO1D,EAAU,OAAyBsgB,OAClD3pB,KAAK4pB,eAAgB5pB,OAI3B,OAAKoD,SAAS8kB,EAAyB,QAQvCA,EAAwB7kB,UAAUwmB,4BAA8B,SAASxc,EAAS5M,GAChF,IAAI8C,EAAM,OAAKihB,OAAOnX,GACtBrN,KAAKupB,yBAAyBhmB,GAAO9C,GASvCynB,EAAwB7kB,UAAUymB,YAAc,WAC9C,OAAO9pB,KAAKqpB,gBAAgBhhB,YAAYmhB,yBAS1CtB,EAAwB7kB,UAAU0mB,gBAAkB,WAClD,OAAO/pB,KAAK+oB,eAadb,EAAwB7kB,UAAUS,SAAW,SAASuJ,GACpD,IAAI9J,EAAM,OAAKihB,OAAOnX,GACtB,OAAuCrN,KAAKupB,yBAAyBhmB,IAYvE2kB,EAAwBtf,YAAc,SAASohB,GAC7C,IAAKhqB,KAAKuM,WAAWyd,GACnB,OAAO,EAET,IAAIC,EAAMjqB,KAAKooB,cAAc4B,GACzBE,EAASlqB,KAAKuoB,iBAAiByB,GAC/BG,EAASnqB,KAAKyoB,iBAAiBuB,GAC/BzT,GAAO0T,IAAQC,IAAWC,EAC1B9nB,EAAM2nB,EAAgB3nB,IACtBgH,EAAWrJ,KAAKqpB,gBAAgBhhB,YAAYmhB,wBAC5CY,EAAa,GACbC,EAAW,GACf,GAAI9T,EAAK,CAsBP,IAAIpS,EACJ,IAnBA,OAAS4M,MAAM/Q,KAAKupB,0BACpBlnB,EAAIioB,sBAAsBN,EAAgB9b,MACtC,SAMWb,EAAS5M,GAChB,GAAIT,KAAK6oB,QAAQxb,EAAS5M,GAGxB,OAFA4pB,EAASvjB,KAAKuG,GACdrN,KAAK6pB,4BAA4Bxc,EAAS5M,IAClCT,KAAK2oB,QAEdhlB,KAAK3D,MAAO,CACfipB,YAAajpB,KAAKspB,aAClBN,aAAchpB,KAAK+oB,gBAGpB5kB,EAAIkF,EAASkhB,YAAc,EAAGpmB,GAAK,IAAKA,EAAG,CAC9C,IAAIkJ,EAAUhE,EAASmhB,KAAKrmB,GACxBU,EAAQwlB,EAASI,QAAQpd,GACzBxI,GAAS,EAEXwlB,EAAS7Z,OAAO3L,EAAO,IAEvBwE,EAAS6gB,OAAO7c,GAChB+c,EAAWtjB,KAAKuG,IAGI,IAApBgd,EAASloB,QACXkH,EAAS2H,OAAOqZ,OAEb,CA0BL,IAAIK,EACJ,IAzBAroB,EAAIioB,sBAAsBN,EAAgB9b,MACtC,SAMWb,EAAS5M,GAChB,GAAIT,KAAK6oB,QAAQxb,EAAS5M,GAUxB,OATKwpB,IAAOE,GACT,OAAWtjB,SAASwC,EAASshB,WAAYtd,IAGhC6c,GAAUC,IACpB,OAAWtjB,SAASwC,EAASshB,WAAYtd,KACzC+c,EAAWtjB,KAAKuG,GAChBrN,KAAK4qB,+BAA+Bvd,KALpCgd,EAASvjB,KAAKuG,GACdrN,KAAK6pB,4BAA4Bxc,EAAS5M,KAMpCT,KAAK2oB,QAEdhlB,KAAK3D,MAAO,CACfipB,YAAajpB,KAAKspB,aAClBN,aAAchpB,KAAK+oB,gBAGpB2B,EAAIN,EAAWjoB,OAAS,EAAGuoB,GAAK,IAAKA,EACxCrhB,EAAS6gB,OAAOE,EAAWM,IAE7BrhB,EAAS2H,OAAOqZ,GAOlB,OALIA,EAASloB,OAAS,GAAKioB,EAAWjoB,OAAS,IAC7CnC,KAAK4P,cACD,IAAIsY,EAAwBrY,MAAMqY,EAAwBpM,WAAW+O,OACjER,EAAUD,EAAYJ,IAEzB,OAAsBc,YAAYd,IAW3C9B,EAAwB7kB,UAAU0nB,gBAAkB,SAAS/B,GAC3DhpB,KAAK+oB,cAAgBC,GAWvBd,EAAwB7kB,UAAUoK,OAAS,SAASpL,GAClD,IAAI2oB,EAAahrB,KAAKuR,SAClB0Z,EACAjrB,KAAKqpB,gBAAgBhhB,YAAYmhB,wBACjCwB,GACFC,EAAiBvlB,QAAQslB,EAAWE,cAAeF,GAErD,OAA6B3nB,UAAUoK,OAAOlL,KAAKvC,KAAMqC,GACzDrC,KAAKqpB,gBAAgB5b,OAAOpL,GACxBA,GACF4oB,EAAiBvlB,QAAQrD,EAAI8oB,YAAa9oB,IAQ9C6lB,EAAwB9b,wBAA0B,WAChD,IAAIe,EAAS,OAAiBC,uBAM9B,OALA,OAAW4D,OAAO7D,EAAO,OAAuBnD,SAC5CmD,EAAO,OAAuB9B,cAClC,OAAW2F,OAAO7D,EAAO,OAAuBie,qBAC5Cje,EAAO,OAAuB9B,cAE3B,SAASgC,EAASC,GACvB,OAAKD,EAAQE,cAGNJ,EAAOE,EAAQE,cAAcC,WAF3B,OAWb0a,EAAwB7kB,UAAUqmB,YAAc,SAAS2B,GACvD,IAAIhpB,EAAMrC,KAAKuR,SACXlP,GACFA,EAAI8oB,YAAuCE,EAAW,UAS1DnD,EAAwB7kB,UAAUumB,eAAiB,SAASyB,GAC1D,IAAIhpB,EAAMrC,KAAKuR,SACXlP,GACFA,EAAI6oB,cAAyCG,EAAW,UAS5DnD,EAAwB7kB,UAAUunB,+BAAiC,SAASvd,GAC1E,IAAI9J,EAAM,OAAKihB,OAAOnX,UACfrN,KAAKupB,yBAAyBhmB,IAkBvC2kB,EAAwBrY,MAAQ,SAAS1H,EAAMkiB,EAAUD,EAAYJ,GACnE,OAAkBznB,KAAKvC,KAAMmI,GAO7BnI,KAAKqqB,SAAWA,EAOhBrqB,KAAKoqB,WAAaA,EAOlBpqB,KAAKgqB,gBAAkBA,GAEzB,OAAK5mB,SAAS8kB,EAAwBrY,MAAO,QAO7CqY,EAAwBpM,WAAa,CAMnC+O,OAAQ,UAEK,U,wFC/ZXS,EAA0B,WAC5B,OAAoB/oB,KAAKvC,OAG3B,OAAKoD,SAASkoB,EAAyB,QAQvCA,EAAwBjoB,UAAUkoB,SAAW,SAASpiB,GACpD,MAAsB,kBAAXA,EACFA,EAEA,IAQXmiB,EAAwBjoB,UAAUmK,QAAU,WAC1C,OAAO,OAAuBge,MAOhCF,EAAwBjoB,UAAUooB,YAAc,SAAStiB,EAAQjB,GAC/D,OAAOlI,KAAK0rB,oBACR1rB,KAAKurB,SAASpiB,GAASnJ,KAAK2rB,aAAazjB,KAW/CojB,EAAwBjoB,UAAUqoB,oBAAsB,SAASE,EAAM1jB,KAMvEojB,EAAwBjoB,UAAUwoB,aAAe,SAAS1iB,EAAQjB,GAChE,OAAOlI,KAAK8rB,qBACR9rB,KAAKurB,SAASpiB,GAASnJ,KAAK2rB,aAAazjB,KAW/CojB,EAAwBjoB,UAAUyoB,qBAAuB,SAASF,EAAM1jB,KAMxEojB,EAAwBjoB,UAAU0oB,aAAe,SAAS5iB,EAAQjB,GAChE,OAAOlI,KAAKgsB,qBACRhsB,KAAKurB,SAASpiB,GAASnJ,KAAK2rB,aAAazjB,KAW/CojB,EAAwBjoB,UAAU2oB,qBAAuB,SAASJ,EAAM1jB,KAMxEojB,EAAwBjoB,UAAU4oB,eAAiB,SAAS9iB,GAC1D,OAAOnJ,KAAKksB,uBAAuBlsB,KAAKurB,SAASpiB,KASnDmiB,EAAwBjoB,UAAU6oB,uBAAyB,SAASN,GAClE,OAAO5rB,KAAKmsB,uBAOdb,EAAwBjoB,UAAU+oB,aAAe,SAAS/e,EAASnF,GACjE,OAAOlI,KAAKqsB,iBAAiBhf,EAASrN,KAAK2rB,aAAazjB,KAW1DojB,EAAwBjoB,UAAUgpB,iBAAmB,SAAShf,EAASnF,KAMvEojB,EAAwBjoB,UAAUipB,cAAgB,SAC9CjjB,EAAUnB,GACZ,OAAOlI,KAAKusB,kBAAkBljB,EAAUrJ,KAAK2rB,aAAazjB,KAW5DojB,EAAwBjoB,UAAUkpB,kBAAoB,SAASljB,EAAUnB,KAMzEojB,EAAwBjoB,UAAUmpB,cAAgB,SAC9ClhB,EAAUpD,GACZ,OAAOlI,KAAKysB,kBAAkBnhB,EAAUtL,KAAK2rB,aAAazjB,KAW5DojB,EAAwBjoB,UAAUopB,kBAAoB,SAASnhB,EAAUpD,KAC1D,Q,wHCnJXwkB,EAAkB,SAASxkB,GAE7B,IAAInI,EAAUmI,GAA4B,GAE1C,EAAwB3F,KAAKvC,MAO7BA,KAAK2sB,sBAA+CzsB,IAA5BH,EAAQ6sB,iBAC9B7sB,EAAQ6sB,iBAIZ,OAAKxpB,SAASspB,EAAiB,GAO/BA,EAAgBG,MAAQ,QAOxBH,EAAgBI,EAAI,IAOpBJ,EAAgBK,EAAI,IAOpBL,EAAgBM,GAAK,KAQrBN,EAAgBO,qBAAuB,SAAS3Z,GAC9C,IAAI7I,EAAc6I,EAAK5C,iBACvB,OAA2B,IAAvBjG,EAAYtI,OACP,GAEFsI,EAAYjH,KAAK,MAS1BkpB,EAAgBQ,0BAA4B,SAAS5Z,GAGnD,IAFA,IAAIxO,EAAQ,GACRqoB,EAAa7Z,EAAK8Z,YACbjpB,EAAI,EAAGsC,EAAK0mB,EAAWhrB,OAAQgC,EAAIsC,IAAMtC,EAChDW,EAAMgC,KAAK,IAAM4lB,EAAgBO,qBAAqBE,EAAWhpB,IAAM,KAEzE,OAAOW,EAAMtB,KAAK,MASpBkpB,EAAgBW,kCAAoC,SAAS/Z,GAG3D,IAFA,IAAIxO,EAAQ,GACRwoB,EAAQha,EAAKia,gBACRppB,EAAI,EAAGsC,EAAK6mB,EAAMnrB,OAAQgC,EAAIsC,IAAMtC,EAC3CW,EAAMgC,KAAK4lB,EAAgBc,QAAQF,EAAMnpB,KAE3C,OAAOW,EAAMtB,KAAK,MASpBkpB,EAAgBe,0BAA4B,SAASna,GAGnD,IAFA,IAAI7I,EAAc6I,EAAK5C,iBACnB5L,EAAQ,GACHX,EAAI,EAAGsC,EAAKgE,EAAYtI,OAAQgC,EAAIsC,IAAMtC,EACjDW,EAAMgC,KAAK2D,EAAYtG,GAAGX,KAAK,MAEjC,OAAOsB,EAAMtB,KAAK,MASpBkpB,EAAgBgB,+BAAiC,SAASpa,GAGxD,IAFA,IAAIxO,EAAQ,GACRqoB,EAAa7Z,EAAKqa,iBACbxpB,EAAI,EAAGsC,EAAK0mB,EAAWhrB,OAAQgC,EAAIsC,IAAMtC,EAChDW,EAAMgC,KAAK,IAAM4lB,EAAgBe,0BAC7BN,EAAWhpB,IAAM,KAEvB,OAAOW,EAAMtB,KAAK,MASpBkpB,EAAgBkB,uBAAyB,SAASta,GAGhD,IAFA,IAAIxO,EAAQ,GACR+oB,EAAQva,EAAKwa,iBACR3pB,EAAI,EAAGsC,EAAKonB,EAAM1rB,OAAQgC,EAAIsC,IAAMtC,EAC3CW,EAAMgC,KAAK,IAAM4lB,EAAgBe,0BAC7BI,EAAM1pB,IAAM,KAElB,OAAOW,EAAMtB,KAAK,MASpBkpB,EAAgBqB,4BAA8B,SAASza,GAGrD,IAFA,IAAIxO,EAAQ,GACRqoB,EAAa7Z,EAAK0a,cACb7pB,EAAI,EAAGsC,EAAK0mB,EAAWhrB,OAAQgC,EAAIsC,IAAMtC,EAChDW,EAAMgC,KAAK,IAAM4lB,EAAgBkB,uBAC7BT,EAAWhpB,IAAM,KAEvB,OAAOW,EAAMtB,KAAK,MAQpBkpB,EAAgBuB,sBAAwB,SAAS3a,GAC/C,IAAIkM,EAASlM,EAAKnD,YACd+d,EAAU,GAOd,OANI1O,IAAW,OAAyB2O,KAAO3O,IAAW,OAAyB4O,OACjFF,GAAWxB,EAAgBI,GAEzBtN,IAAW,OAAyB6O,KAAO7O,IAAW,OAAyB4O,OACjFF,GAAWxB,EAAgBK,GAEtBmB,GAUTxB,EAAgBc,QAAU,SAASla,GACjC,IAAInL,EAAOmL,EAAK9F,UACZ8gB,EAAkB5B,EAAgB6B,iBAAiBpmB,GACnDqmB,EAAMF,EAAgBhb,GAE1B,GADAnL,EAAOA,EAAKsmB,cACRnb,aAAgB,OAA0B,CAC5C,IAAI4a,EAAUxB,EAAgBuB,sBAAsB3a,GAChD4a,EAAQ/rB,OAAS,IACnBgG,GAAQ,IAAM+lB,GAGlB,OAAmB,IAAfM,EAAIrsB,OACCgG,EAAO,IAAMukB,EAAgBG,MAE/B1kB,EAAO,IAAMqmB,EAAM,KAS5B9B,EAAgB6B,iBAAmB,CACjC,MAAS7B,EAAgBO,qBACzB,WAAcP,EAAgBe,0BAC9B,QAAWf,EAAgBkB,uBAC3B,WAAclB,EAAgBQ,0BAC9B,gBAAmBR,EAAgBgB,+BACnC,aAAgBhB,EAAgBqB,4BAChC,mBAAsBrB,EAAgBW,mCAWxCX,EAAgBrpB,UAAUqrB,OAAS,SAASC,GAC1C,IAAIC,EAAQ,IAAIlC,EAAgBmC,MAAMF,GAClCG,EAAS,IAAIpC,EAAgBqC,OAAOH,GACxC,OAAOE,EAAOE,SAahBtC,EAAgBrpB,UAAUooB,YAM1BiB,EAAgBrpB,UAAUqoB,oBAAsB,SAASE,EAAM1jB,GAC7D,IAAIoL,EAAOtT,KAAKgsB,qBAAqBJ,EAAM1jB,GAC3C,GAAIoL,EAAM,CACR,IAAIjG,EAAU,IAAI,OAElB,OADAA,EAAQsC,YAAY2D,GACbjG,EAET,OAAO,MAaTqf,EAAgBrpB,UAAUwoB,aAM1Ba,EAAgBrpB,UAAUyoB,qBAAuB,SAASF,EAAM1jB,GAC9D,IAAI+mB,EAAa,GACb3jB,EAAWtL,KAAKgsB,qBAAqBJ,EAAM1jB,GAG7C+mB,EAFEjvB,KAAK2sB,kBACLrhB,EAASkC,WAAa,OAAuB4d,oBAClC,EACR8D,qBAEQ,CAAC5jB,GAGhB,IADA,IAAI+B,EAAShE,EAAW,GACflF,EAAI,EAAGsC,EAAKwoB,EAAW9sB,OAAQgC,EAAIsC,IAAMtC,EAChDkJ,EAAU,IAAI,OACdA,EAAQsC,YAAYsf,EAAW9qB,IAC/BkF,EAASvC,KAAKuG,GAEhB,OAAOhE,GAaTqjB,EAAgBrpB,UAAU0oB,aAM1BW,EAAgBrpB,UAAU2oB,qBAAuB,SAASJ,EAAM1jB,GAC9D,IAAIoD,EAAWtL,KAAK0uB,OAAO9C,GAC3B,OAAItgB,EAEgC,OAAoB6jB,qBAAqB7jB,GAAU,EAAOpD,GAGrF,MAcXwkB,EAAgBrpB,UAAU+oB,aAM1BM,EAAgBrpB,UAAUgpB,iBAAmB,SAAShf,EAASnF,GAC7D,IAAIoD,EAAW+B,EAAQE,cACvB,OAAIjC,EACKtL,KAAKysB,kBAAkBnhB,EAAUpD,GAEnC,IAaTwkB,EAAgBrpB,UAAUipB,cAM1BI,EAAgBrpB,UAAUkpB,kBAAoB,SAASljB,EAAUnB,GAC/D,GAAuB,GAAnBmB,EAASlH,OACX,OAAOnC,KAAKqsB,iBAAiBhjB,EAAS,GAAInB,GAG5C,IADA,IAAI+mB,EAAa,GACR9qB,EAAI,EAAGsC,EAAK4C,EAASlH,OAAQgC,EAAIsC,IAAMtC,EAC9C8qB,EAAWnoB,KAAKuC,EAASlF,GAAGoJ,eAE9B,IAAI6hB,EAAa,IAAI,OAA6BH,GAClD,OAAOjvB,KAAKysB,kBAAkB2C,EAAYlnB,IAa5CwkB,EAAgBrpB,UAAUmpB,cAM1BE,EAAgBrpB,UAAUopB,kBAAoB,SAASnhB,EAAUpD,GAC/D,OAAOwkB,EAAgBc,QACrB,OAAoB2B,qBAAqB7jB,GAAU,EAAMpD,KAS7DwkB,EAAgB2C,WAAa,CAC3B7D,KAAM,EACN8D,WAAY,EACZC,YAAa,EACbC,OAAQ,EACRC,MAAO,EACPC,IAAK,GAUPhD,EAAgBmC,MAAQ,SAASF,GAK/B3uB,KAAK2uB,IAAMA,EAMX3uB,KAAK2vB,QAAU,GASjBjD,EAAgBmC,MAAMxrB,UAAUusB,SAAW,SAASC,GAClD,OAAOA,GAAK,KAAOA,GAAK,KAAOA,GAAK,KAAOA,GAAK,KAWlDnD,EAAgBmC,MAAMxrB,UAAUysB,WAAa,SAASD,EAAGE,GACvD,IAAIC,OAA0B9vB,IAAhB6vB,GAA4BA,EAC1C,OAAOF,GAAK,KAAOA,GAAK,KAAY,KAALA,IAAaG,GAS9CtD,EAAgBmC,MAAMxrB,UAAU4sB,cAAgB,SAASJ,GACvD,MAAY,KAALA,GAAiB,MAALA,GAAkB,MAALA,GAAkB,MAALA,GAQ/CnD,EAAgBmC,MAAMxrB,UAAU6sB,UAAY,WAC1C,OAAOlwB,KAAK2uB,IAAIwB,SAASnwB,KAAK2vB,SAQhCjD,EAAgBmC,MAAMxrB,UAAU+sB,UAAY,WAC1C,IAAIP,EAAI7vB,KAAKkwB,YACTG,EAAQ,CAACC,SAAUtwB,KAAK2vB,OAAQhqB,MAAOkqB,GAE3C,GAAS,KAALA,EACFQ,EAAMloB,KAAOukB,EAAgB2C,WAAWC,gBACnC,GAAS,KAALO,EACTQ,EAAMloB,KAAOukB,EAAgB2C,WAAWI,WACnC,GAAS,KAALI,EACTQ,EAAMloB,KAAOukB,EAAgB2C,WAAWE,iBACnC,GAAIvvB,KAAK8vB,WAAWD,IAAW,KAALA,EAC/BQ,EAAMloB,KAAOukB,EAAgB2C,WAAWG,OACxCa,EAAM1qB,MAAQ3F,KAAKuwB,mBACd,GAAIvwB,KAAK4vB,SAASC,GACvBQ,EAAMloB,KAAOukB,EAAgB2C,WAAW7D,KACxC6E,EAAM1qB,MAAQ3F,KAAKwwB,gBACd,IAAIxwB,KAAKiwB,cAAcJ,GAC5B,OAAO7vB,KAAKowB,YACP,GAAU,KAANP,EAGT,MAAM,IAAItoB,MAAM,yBAA2BsoB,GAF3CQ,EAAMloB,KAAOukB,EAAgB2C,WAAWK,IAK1C,OAAOW,GAQT3D,EAAgBmC,MAAMxrB,UAAUktB,YAAc,WAC5C,IAAIV,EAAGhrB,EAAQ7E,KAAK2vB,OAChBK,GAAU,EACVS,GAAqB,EACzB,GACW,KAALZ,EACFG,GAAU,EACI,KAALH,GAAiB,KAALA,IACrBY,GAAqB,GAEvBZ,EAAI7vB,KAAKkwB,kBAETlwB,KAAK8vB,WAAWD,EAAGG,KAGhBS,IAA4B,KAALZ,GAAiB,KAALA,IAGpCY,IAA4B,KAALZ,GAAiB,KAALA,IAEvC,OAAOa,WAAW1wB,KAAK2uB,IAAIgC,UAAU9rB,EAAO7E,KAAK2vB,YAQnDjD,EAAgBmC,MAAMxrB,UAAUmtB,UAAY,WAC1C,IAAIX,EAAGhrB,EAAQ7E,KAAK2vB,OACpB,GACEE,EAAI7vB,KAAKkwB,kBACFlwB,KAAK4vB,SAASC,IACvB,OAAO7vB,KAAK2uB,IAAIgC,UAAU9rB,EAAO7E,KAAK2vB,UAAUlB,eAUlD/B,EAAgBqC,OAAS,SAASH,GAMhC5uB,KAAK4wB,OAAShC,EAMd5uB,KAAK6wB,OAML7wB,KAAK8wB,QAAU,OAAyBlQ,IAQ1C8L,EAAgBqC,OAAO1rB,UAAU0tB,SAAW,WAC1C/wB,KAAK6wB,OAAS7wB,KAAK4wB,OAAOR,aAQ5B1D,EAAgBqC,OAAO1rB,UAAU2tB,YAAc,SAAS7oB,GACtD,IAAI8oB,EAAUjxB,KAAK6wB,OAAO1oB,MAAQA,EAClC,OAAO8oB,GASTvE,EAAgBqC,OAAO1rB,UAAU6tB,MAAQ,SAAS/oB,GAChD,IAAI8oB,EAAUjxB,KAAKgxB,YAAY7oB,GAI/B,OAHI8oB,GACFjxB,KAAK+wB,WAEAE,GAQTvE,EAAgBqC,OAAO1rB,UAAU2rB,MAAQ,WACvChvB,KAAK+wB,WACL,IAAIzlB,EAAWtL,KAAKmxB,iBACpB,OAAO7lB,GASTohB,EAAgBqC,OAAO1rB,UAAU+tB,qBAAuB,WACtD,IAAI5R,EAAS,OAAyBoB,GAClCyQ,EAAWrxB,KAAK6wB,OACpB,GAAI7wB,KAAKgxB,YAAYtE,EAAgB2C,WAAW7D,MAAO,CACrD,IAAI0C,EAAUmD,EAAS1rB,MACnBuoB,IAAYxB,EAAgBI,EAC9BtN,EAAS,OAAyB2O,IACzBD,IAAYxB,EAAgBK,EACrCvN,EAAS,OAAyB6O,IACzBH,IAAYxB,EAAgBM,KACrCxN,EAAS,OAAyB4O,MAEhC5O,IAAW,OAAyBoB,IACtC5gB,KAAK+wB,WAGT,OAAOvR,GAQTkN,EAAgBqC,OAAO1rB,UAAU8tB,eAAiB,WAChD,IAAId,EAAQrwB,KAAK6wB,OACjB,GAAI7wB,KAAKkxB,MAAMxE,EAAgB2C,WAAW7D,MAAO,CAC/C,IAAI8F,EAAWjB,EAAM1qB,MAErB,GADA3F,KAAK8wB,QAAU9wB,KAAKoxB,uBAChBE,GAAY,OAAuBlG,oBAAoBqD,cAAe,CACxE,IAAIQ,EAAajvB,KAAKuxB,+BACtB,OAAO,IAAI,OAA6BtC,GAExC,IAAIH,EAASpC,EAAgBqC,OAAOyC,gBAAgBF,GAChDG,EAAO/E,EAAgBqC,OAAO2C,qBAAqBJ,GACvD,IAAKxC,IAAW2C,EACd,MAAM,IAAIlqB,MAAM,0BAA4B+pB,GAE9C,IAAI7mB,EAAcqkB,EAAOvsB,KAAKvC,MAC9B,OAAO,IAAIyxB,EAAKhnB,EAAazK,KAAK8wB,SAGtC,MAAM,IAAIvpB,MAAMvH,KAAK2xB,wBAQvBjF,EAAgBqC,OAAO1rB,UAAUkuB,6BAA+B,WAC9D,GAAIvxB,KAAKkxB,MAAMxE,EAAgB2C,WAAWC,YAAa,CACrD,IAAIL,EAAa,GACjB,GACEA,EAAWnoB,KAAK9G,KAAKmxB,wBACdnxB,KAAKkxB,MAAMxE,EAAgB2C,WAAWI,QAC/C,GAAIzvB,KAAKkxB,MAAMxE,EAAgB2C,WAAWE,aACxC,OAAON,OAEJ,GAAIjvB,KAAK4xB,mBACd,MAAO,GAET,MAAM,IAAIrqB,MAAMvH,KAAK2xB,wBAQvBjF,EAAgBqC,OAAO1rB,UAAUwuB,gBAAkB,WACjD,GAAI7xB,KAAKkxB,MAAMxE,EAAgB2C,WAAWC,YAAa,CACrD,IAAI7kB,EAAczK,KAAK8xB,cACvB,GAAI9xB,KAAKkxB,MAAMxE,EAAgB2C,WAAWE,aACxC,OAAO9kB,OAEJ,GAAIzK,KAAK4xB,mBACd,OAAO,KAET,MAAM,IAAIrqB,MAAMvH,KAAK2xB,wBAQvBjF,EAAgBqC,OAAO1rB,UAAU0uB,qBAAuB,WACtD,GAAI/xB,KAAKkxB,MAAMxE,EAAgB2C,WAAWC,YAAa,CACrD,IAAI7kB,EAAczK,KAAKgyB,kBACvB,GAAIhyB,KAAKkxB,MAAMxE,EAAgB2C,WAAWE,aACxC,OAAO9kB,OAEJ,GAAIzK,KAAK4xB,mBACd,MAAO,GAET,MAAM,IAAIrqB,MAAMvH,KAAK2xB,wBAQvBjF,EAAgBqC,OAAO1rB,UAAU4uB,kBAAoB,WACnD,GAAIjyB,KAAKkxB,MAAMxE,EAAgB2C,WAAWC,YAAa,CACrD,IAAI7kB,EAAczK,KAAKkyB,2BACvB,GAAIlyB,KAAKkxB,MAAMxE,EAAgB2C,WAAWE,aACxC,OAAO9kB,OAEJ,GAAIzK,KAAK4xB,mBACd,MAAO,GAET,MAAM,IAAIrqB,MAAMvH,KAAK2xB,wBAQvBjF,EAAgBqC,OAAO1rB,UAAU8uB,qBAAuB,WAEpD,IAAI1nB,EADN,GAAIzK,KAAKkxB,MAAMxE,EAAgB2C,WAAWC,aAOxC,GAJE7kB,EADEzK,KAAK6wB,OAAO1oB,MAAQukB,EAAgB2C,WAAWC,WACnCtvB,KAAKoyB,sBAELpyB,KAAKgyB,kBAEjBhyB,KAAKkxB,MAAMxE,EAAgB2C,WAAWE,aACxC,OAAO9kB,OAEJ,GAAIzK,KAAK4xB,mBACd,MAAO,GAET,MAAM,IAAIrqB,MAAMvH,KAAK2xB,wBASvBjF,EAAgBqC,OAAO1rB,UAAUgvB,0BAA4B,WAC3D,GAAIryB,KAAKkxB,MAAMxE,EAAgB2C,WAAWC,YAAa,CACrD,IAAI7kB,EAAczK,KAAKkyB,2BACvB,GAAIlyB,KAAKkxB,MAAMxE,EAAgB2C,WAAWE,aACxC,OAAO9kB,OAEJ,GAAIzK,KAAK4xB,mBACd,MAAO,GAET,MAAM,IAAIrqB,MAAMvH,KAAK2xB,wBAQvBjF,EAAgBqC,OAAO1rB,UAAUivB,uBAAyB,WACxD,GAAItyB,KAAKkxB,MAAMxE,EAAgB2C,WAAWC,YAAa,CACrD,IAAI7kB,EAAczK,KAAKuyB,wBACvB,GAAIvyB,KAAKkxB,MAAMxE,EAAgB2C,WAAWE,aACxC,OAAO9kB,OAEJ,GAAIzK,KAAK4xB,mBACd,MAAO,GAET,MAAM,IAAIrqB,MAAMvH,KAAK2xB,wBAQvBjF,EAAgBqC,OAAO1rB,UAAUyuB,YAAc,WAG7C,IAFA,IAAIrnB,EAAc,GACdlK,EAAaP,KAAK8wB,QAAQ3uB,OACrBgC,EAAI,EAAGA,EAAI5D,IAAc4D,EAAG,CACnC,IAAIksB,EAAQrwB,KAAK6wB,OACjB,IAAI7wB,KAAKkxB,MAAMxE,EAAgB2C,WAAWG,QAGxC,MAFA/kB,EAAY3D,KAAKupB,EAAM1qB,OAK3B,GAAI8E,EAAYtI,QAAU5B,EACxB,OAAOkK,EAET,MAAM,IAAIlD,MAAMvH,KAAK2xB,wBAQvBjF,EAAgBqC,OAAO1rB,UAAU2uB,gBAAkB,WACjD,IAAIvnB,EAAc,CAACzK,KAAK8xB,eACxB,MAAO9xB,KAAKkxB,MAAMxE,EAAgB2C,WAAWI,OAC3ChlB,EAAY3D,KAAK9G,KAAK8xB,eAExB,OAAOrnB,GAQTiiB,EAAgBqC,OAAO1rB,UAAU+uB,oBAAsB,WACrD,IAAI3nB,EAAc,CAACzK,KAAK6xB,mBACxB,MAAO7xB,KAAKkxB,MAAMxE,EAAgB2C,WAAWI,OAC3ChlB,EAAY3D,KAAK9G,KAAK6xB,mBAExB,OAAOpnB,GAQTiiB,EAAgBqC,OAAO1rB,UAAU6uB,yBAA2B,WAC1D,IAAIznB,EAAc,CAACzK,KAAK+xB,wBACxB,MAAO/xB,KAAKkxB,MAAMxE,EAAgB2C,WAAWI,OAC3ChlB,EAAY3D,KAAK9G,KAAK+xB,wBAExB,OAAOtnB,GAQTiiB,EAAgBqC,OAAO1rB,UAAUkvB,sBAAwB,WACvD,IAAI9nB,EAAc,CAACzK,KAAKiyB,qBACxB,MAAOjyB,KAAKkxB,MAAMxE,EAAgB2C,WAAWI,OAC3ChlB,EAAY3D,KAAK9G,KAAKiyB,qBAExB,OAAOxnB,GAQTiiB,EAAgBqC,OAAO1rB,UAAUuuB,iBAAmB,WAClD,IAAIY,EAAUxyB,KAAKgxB,YAAYtE,EAAgB2C,WAAW7D,OACtDxrB,KAAK6wB,OAAOlrB,OAAS+mB,EAAgBG,MAIzC,OAHI2F,GACFxyB,KAAK+wB,WAEAyB,GAST9F,EAAgBqC,OAAO1rB,UAAUsuB,oBAAsB,WACrD,MAAO,eAAiB3xB,KAAK6wB,OAAOlrB,MAAQ,iBACxC3F,KAAK6wB,OAAOP,SAAW,QAAUtwB,KAAK4wB,OAAOjC,IAAM,KAQzDjC,EAAgBqC,OAAO2C,qBAAuB,CAC5C,MAAS,OACT,WAAc,OACd,QAAW,OACX,WAAc,OACd,gBAAmB,OACnB,aAAgB,QAQlBhF,EAAgBqC,OAAOyC,gBAAkB,CACvC,MAAS9E,EAAgBqC,OAAO1rB,UAAUwuB,gBAC1C,WAAcnF,EAAgBqC,OAAO1rB,UAAU0uB,qBAC/C,QAAWrF,EAAgBqC,OAAO1rB,UAAU4uB,kBAC5C,WAAcvF,EAAgBqC,OAAO1rB,UAAU8uB,qBAC/C,gBAAmBzF,EAAgBqC,OAAO1rB,UAAUgvB,0BACpD,aAAgB3F,EAAgBqC,OAAO1rB,UAAUivB,wBAEpC,U,oCC16Bf,4BAWIG,EAAkB,SAASvqB,GAE7B,IAAInI,EAAUmI,GAAe,GAM7BlI,KAAK0yB,MAAQ3yB,EAAQ4yB,KAMrB3yB,KAAK4yB,UAAY7yB,EAAQmlB,SAMzBllB,KAAK6yB,gBAAkB9yB,EAAQklB,eAM/BjlB,KAAK8yB,OAAS/yB,EAAQolB,MAMtBnlB,KAAK+yB,MAAQhzB,EAAQ6rB,KAMrB5rB,KAAKgzB,WAAajzB,EAAQkzB,UAM1BjzB,KAAKkzB,cAAgBnzB,EAAQozB,aAM7BnzB,KAAKozB,WAAyBlzB,IAAjBH,EAAQszB,KAAqBtzB,EAAQszB,KAChD,IAAI,OAAgB,CAAC3R,MAAO+Q,EAAgBa,sBAM9CtzB,KAAKuzB,eAAiCrzB,IAArBH,EAAQyzB,SAAyBzzB,EAAQyzB,SAAWxoB,KAAKyoB,GAAK,EAM/EzzB,KAAK0zB,gBAAmCxzB,IAAtBH,EAAQ4zB,UAA0B5zB,EAAQ4zB,UAAY,OAAyBvoB,MAGjG,IAAIwoB,OAAgC1zB,IAArBH,EAAQ6zB,SAAyB7zB,EAAQ8zB,aAAe9zB,EAAQ6zB,SAM/E5zB,KAAK8zB,eAAyB5zB,IAAb0zB,GAAyBA,EAM1C5zB,KAAK+zB,aAA6B7zB,IAAnBH,EAAQi0B,OAAuBj0B,EAAQi0B,OAAS,KAM/Dh0B,KAAKi0B,cAA+B/zB,IAApBH,EAAQm0B,QAAwBn0B,EAAQm0B,QAAU,EAMlEl0B,KAAKm0B,cAA+Bj0B,IAApBH,EAAQq0B,QAAwBr0B,EAAQq0B,QAAU,EAMlEp0B,KAAKq0B,gBAAkBt0B,EAAQu0B,eAAiBv0B,EAAQu0B,eAAiB,KAMzEt0B,KAAKu0B,kBAAoBx0B,EAAQy0B,iBAAmBz0B,EAAQy0B,iBAAmB,KAM/Ex0B,KAAKy0B,cAA+Bv0B,IAApBH,EAAQ20B,QAAwB,KAAO30B,EAAQ20B,SAWjEjC,EAAgBa,oBAAsB,OAQtCb,EAAgBpvB,UAAUkc,MAAQ,WAChC,OAAO,IAAIkT,EAAgB,CACzBE,KAAM3yB,KAAK20B,UACXhB,UAAW3zB,KAAK40B,eAChBpB,SAAUxzB,KAAK60B,cACfjB,SAAU5zB,KAAK80B,cACf5P,SAAUllB,KAAKwlB,cACfP,eAAgBjlB,KAAKylB,oBACrBN,MAAOnlB,KAAKslB,WACZsG,KAAM5rB,KAAK+0B,UACX9B,UAAWjzB,KAAKg1B,eAChB7B,aAAcnzB,KAAKi1B,kBACnB5B,KAAMrzB,KAAKk1B,UAAYl1B,KAAKk1B,UAAU3V,aAAUrf,EAChD8zB,OAAQh0B,KAAKm1B,YAAcn1B,KAAKm1B,YAAY5V,aAAUrf,EACtDg0B,QAASl0B,KAAKo1B,aACdhB,QAASp0B,KAAKq1B,gBAUlB5C,EAAgBpvB,UAAUyxB,YAAc,WACtC,OAAO90B,KAAK8zB,WASdrB,EAAgBpvB,UAAUsxB,QAAU,WAClC,OAAO30B,KAAK0yB,OASdD,EAAgBpvB,UAAUwxB,YAAc,WACtC,OAAO70B,KAAKuzB,WASdd,EAAgBpvB,UAAUuxB,aAAe,WACvC,OAAO50B,KAAK0zB,YASdjB,EAAgBpvB,UAAU+xB,WAAa,WACrC,OAAOp1B,KAAKi0B,UASdxB,EAAgBpvB,UAAUgyB,WAAa,WACrC,OAAOr1B,KAAKm0B,UASd1B,EAAgBpvB,UAAU6xB,QAAU,WAClC,OAAOl1B,KAAKozB,OASdX,EAAgBpvB,UAAUoiB,kBAAoB,WAC5C,OAAOzlB,KAAK6yB,iBASdJ,EAAgBpvB,UAAUmiB,YAAc,WACtC,OAAOxlB,KAAK4yB,WASdH,EAAgBpvB,UAAUiiB,SAAW,WACnC,OAAOtlB,KAAK8yB,QASdL,EAAgBpvB,UAAU8xB,UAAY,WACpC,OAAOn1B,KAAK+zB,SASdtB,EAAgBpvB,UAAU0xB,QAAU,WAClC,OAAO/0B,KAAK+yB,OASdN,EAAgBpvB,UAAU2xB,aAAe,WACvC,OAAOh1B,KAAKgzB,YASdP,EAAgBpvB,UAAU4xB,gBAAkB,WAC1C,OAAOj1B,KAAKkzB,eASdT,EAAgBpvB,UAAUiyB,kBAAoB,WAC5C,OAAOt1B,KAAKq0B,iBASd5B,EAAgBpvB,UAAUkyB,oBAAsB,WAC9C,OAAOv1B,KAAKu0B,mBASd9B,EAAgBpvB,UAAUmyB,WAAa,WACrC,OAAOx1B,KAAKy0B,UAUdhC,EAAgBpvB,UAAUoyB,YAAc,SAAS7B,GAC/C5zB,KAAK8zB,UAAYF,GAUnBnB,EAAgBpvB,UAAUqyB,QAAU,SAAS/C,GAC3C3yB,KAAK0yB,MAAQC,GAUfF,EAAgBpvB,UAAUsyB,YAAc,SAASnC,GAC/CxzB,KAAKuzB,UAAYC,GAUnBf,EAAgBpvB,UAAUuyB,WAAa,SAAS1B,GAC9Cl0B,KAAKi0B,SAAWC,GAUlBzB,EAAgBpvB,UAAUwyB,WAAa,SAASzB,GAC9Cp0B,KAAKm0B,SAAWC,GAUlB3B,EAAgBpvB,UAAUyyB,aAAe,SAASnC,GAChD3zB,KAAK0zB,WAAaC,GAUpBlB,EAAgBpvB,UAAU0yB,QAAU,SAAS1C,GAC3CrzB,KAAKozB,MAAQC,GAUfZ,EAAgBpvB,UAAU2yB,YAAc,SAAS9Q,GAC/CllB,KAAK4yB,UAAY1N,GAUnBuN,EAAgBpvB,UAAU4yB,SAAW,SAAS9Q,GAC5CnlB,KAAK8yB,OAAS3N,GAUhBsN,EAAgBpvB,UAAU6yB,UAAY,SAASlC,GAC7Ch0B,KAAK+zB,QAAUC,GAUjBvB,EAAgBpvB,UAAU8yB,QAAU,SAASvK,GAC3C5rB,KAAK+yB,MAAQnH,GAUf6G,EAAgBpvB,UAAU+yB,aAAe,SAASnD,GAChDjzB,KAAKgzB,WAAaC,GAUpBR,EAAgBpvB,UAAUgzB,gBAAkB,SAASlD,GACnDnzB,KAAKkzB,cAAgBC,GAUvBV,EAAgBpvB,UAAUizB,kBAAoB,SAASjD,GACrDrzB,KAAKq0B,gBAAkBhB,GAUzBZ,EAAgBpvB,UAAUkzB,oBAAsB,SAASvC,GACvDh0B,KAAKu0B,kBAAoBP,GAU3BvB,EAAgBpvB,UAAUmzB,WAAa,SAAS9B,GAC9C10B,KAAKy0B,SAAWC,GAEH,U,yDCtff,4BAYI+B,EAAkB,SAASvuB,GAE7B,IAEI1F,EAFAzC,EAAUmI,GAAe,GAI3B1F,OAD2BtC,IAAzBH,EAAQyC,aACKzC,EAAQyC,aAER,CAACi0B,EAAgBC,aAGlC,IAAIh0B,OAAsCxC,IAAxBH,EAAQ2C,YACxB3C,EAAQ2C,YAAc,YAEpB3B,OAAsBb,IAAhBH,EAAQgB,IAChBhB,EAAQgB,IAAM,uDAEhB,OAAgBwB,KAAKvC,KAAM,CACzBwC,aAAcA,EACdC,UAAW1C,EAAQ0C,UACnBC,YAAaA,EACbi0B,YAA2Bz2B,IAAnBH,EAAQ42B,QAAuB52B,EAAQ42B,OAC/CC,aAA6B12B,IAApBH,EAAQ62B,QAAwB72B,EAAQ62B,QAAU,GAC3Dh0B,2BAA4B7C,EAAQ6C,2BACpCE,iBAAkB/C,EAAQ+C,iBAC1B/B,IAAKA,EACLiC,MAAOjD,EAAQiD,SAKnB,OAAKI,SAASqzB,EAAiB,QAU/BA,EAAgBC,YAAc,2FAGf,U,4NCrDXG,EAAmC,CAMrCC,YAAa,cAMbC,UAAW,aAGE,I,wECwBXC,EAA0B,SAASj3B,GAqJrC,IAAIsJ,EAWJ,GA9JA,OAAyB9G,KAAKvC,KAAM,CAClC0I,gBAAiBsuB,EAAwBruB,iBACzCsuB,gBAAiBD,EAAwBE,iBACzCtuB,YAAaouB,EAAwBpuB,YACrCC,cAAemuB,EAAwBluB,iBAOzC9I,KAAKuM,WAAaxM,EAAQyM,UACxBzM,EAAQyM,UAAY,OAAsB2qB,cAQ5Cn3B,KAAKo3B,wBAA0B,SAASpN,GACtC,OAAO,OAAsBqN,WAAWrN,IACtC,OAAsB7B,YAAY6B,IAOtChqB,KAAKs3B,iBAAmBv3B,EAAQw3B,gBAC9Bx3B,EAAQw3B,gBAAkBv3B,KAAKo3B,wBAMjCp3B,KAAKw3B,uBAAyBz3B,EAAQ03B,sBACpC13B,EAAQ03B,sBAAwB,OAAsB7qB,OAOxD5M,KAAK03B,eAAiB,KAOtB13B,KAAK23B,gBAAkB,KAMvB33B,KAAK43B,WAAa,CAAC,EAAG,GAQtB53B,KAAK63B,wBAAyB,EAM9B73B,KAAK83B,WAAY,EAOjB93B,KAAK+3B,OAAS,IAAI,OAMlB/3B,KAAKg4B,qBAA6C93B,IAA3BH,EAAQk4B,eAC7Bl4B,EAAQk4B,eAAiB,GAM3Bj4B,KAAKk4B,kBAAmB,EAQxBl4B,KAAKm4B,kBAAmB,EAMxBn4B,KAAKo4B,cAAgB,GAOrBp4B,KAAKkM,SAAW,IAAI,OAAkB,CACpC/C,OAAQ,IAAI,OAAmB,CAC7BgD,iBAAiB,EACjBnJ,QAASjD,EAAQiD,QAEnBnC,MAAOd,EAAQc,MAAQd,EAAQc,MAC7Bm2B,EAAwB5qB,0BAC1B+c,sBAAsB,EACtBC,wBAAwB,IAQ1BppB,KAAKq4B,iBAAmB,CACtB,MAASr4B,KAAKs4B,oBACd,WAAct4B,KAAKu4B,yBACnB,WAAcv4B,KAAKu4B,yBACnB,QAAWv4B,KAAKw4B,sBAChB,WAAcx4B,KAAKy4B,yBACnB,gBAAmBz4B,KAAK04B,8BACxB,aAAgB14B,KAAK24B,2BACrB,OAAU34B,KAAK44B,qBACf,mBAAsB54B,KAAK64B,kCAQ7B74B,KAAKkJ,QAAU,KAGXnJ,EAAQoJ,QACVnJ,KAAKkJ,QAAUnJ,EAAQoJ,OACvBE,EAAW,IAAI,OAAgBrJ,KAAKkJ,QAAQ4gB,eAC5C,OAAY/c,OAAO/M,KAAKkJ,QAAS,OAA4B4vB,WACzD94B,KAAK+4B,iBAAkB/4B,MAC3B,OAAY+M,OAAO/M,KAAKkJ,QAAS,OAA4B8vB,cACzDh5B,KAAKi5B,oBAAqBj5B,OAE9BqJ,EAAWtJ,EAAQsJ,UAEhBA,EACH,MAAM,IAAI9B,MAAM,wDAOlBvH,KAAKoJ,UAAYC,EAEjBrJ,KAAKoJ,UAAU1D,QAAQ1F,KAAK0pB,YAAa1pB,MACzC,OAAY+M,OAAO/M,KAAKoJ,UAAW,OAAyBqgB,IACxDzpB,KAAKk5B,kBAAmBl5B,MAC5B,OAAY+M,OAAO/M,KAAKoJ,UAAW,OAAyBugB,OACxD3pB,KAAKm5B,qBAAsBn5B,MAM/BA,KAAKo5B,kBAAoB,MAI3B,OAAKh2B,SAAS4zB,EAAyB,QAOvCA,EAAwBqC,mCAAqC,EAM7DrC,EAAwBsC,0CAA4C,EAOpEtC,EAAwB3zB,UAAUqmB,YAAc,SAASrc,GACvD,IAAI/B,EAAW+B,EAAQE,cACnBjC,GAAYA,EAASkC,YAAaxN,KAAKq4B,kBACzCr4B,KAAKq4B,iBAAiB/sB,EAASkC,WAAWjL,KAAKvC,KAAMqN,EAAS/B,GAEhE,IAAIjJ,EAAMrC,KAAKuR,SACXlP,GAAOA,EAAIk3B,cAAgBv5B,KAAKyR,aAClCzR,KAAKw5B,sBAAsBx5B,KAAK43B,WAAYv1B,GAE9C,OAAY0K,OAAOM,EAAS,OAAsBwN,OAC9C7a,KAAKy5B,qBAAsBz5B,OAQjCg3B,EAAwB3zB,UAAUq2B,oBAAsB,SAASrO,GAC1DrrB,KAAK83B,YACR93B,KAAK83B,WAAY,EACjB93B,KAAK4P,cAAc,IAAIonB,EAAwBnnB,MAC3C,EAAiCinB,YAAa92B,KAAKoJ,UAAWiiB,MAStE2L,EAAwB3zB,UAAUumB,eAAiB,SAASvc,GAC1DrN,KAAK25B,0BAA0BtsB,GAG3BrN,KAAK03B,gBAAiD,IAA/B13B,KAAKoJ,UAAUmhB,cACxCvqB,KAAKkM,SAAS7D,YAAYuxB,cAAc55B,KAAK03B,gBAC7C13B,KAAK03B,eAAiB,MAExB,OAAYtR,SAAS/Y,EAAS,OAAsBwN,OAChD7a,KAAKy5B,qBAAsBz5B,OAQjCg3B,EAAwB3zB,UAAUs2B,0BAA4B,SAAStsB,GACrE,IAAIwsB,EAAQ75B,KAAK+3B,OACmC+B,EAAgB,GACpED,EAAMn0B,SAIF,SAASq0B,GACH1sB,IAAY0sB,EAAK1sB,SACnBysB,EAAchzB,KAAKizB,MAG3B,IAAK,IAAI51B,EAAI21B,EAAc33B,OAAS,EAAGgC,GAAK,IAAKA,EAC/C01B,EAAM3P,OAAO4P,EAAc31B,KAQ/B6yB,EAAwB3zB,UAAU22B,UAAY,SAASxoB,GACjDxR,KAAK03B,iBAAmBlmB,IAC1BxR,KAAKkM,SAAS7D,YAAYuxB,cAAc55B,KAAK03B,gBAC7C13B,KAAK03B,eAAiB,MAExB,OAAyBr0B,UAAU22B,UAAUz3B,KAAKvC,KAAMwR,IAO1DwlB,EAAwB3zB,UAAUoK,OAAS,SAASpL,GAClDrC,KAAKkM,SAASuB,OAAOpL,GACrB,OAAyBgB,UAAUoK,OAAOlL,KAAKvC,KAAMqC,IAQvD20B,EAAwB3zB,UAAU01B,iBAAmB,SAASrrB,GACxDA,EAAML,SACRrN,KAAKoJ,UAAUtC,KAAK4G,EAAML,UAS9B2pB,EAAwB3zB,UAAU41B,oBAAsB,SAASvrB,GAC3DA,EAAML,SACRrN,KAAKoJ,UAAU8gB,OAAOxc,EAAML,UAShC2pB,EAAwB3zB,UAAU61B,kBAAoB,SAAS7N,GAC7DrrB,KAAK0pB,YAAuC2B,EAAW,UAQzD2L,EAAwB3zB,UAAUo2B,qBAAuB,SAASpO,GAChE,IAAKrrB,KAAKm4B,iBAAkB,CAC1B,IAAI9qB,EAAqCge,EAAU,OACnDrrB,KAAK4pB,eAAevc,GACpBrN,KAAK0pB,YAAYrc,KASrB2pB,EAAwB3zB,UAAU81B,qBAAuB,SAAS9N,GAChE,IAAIhe,EAAqCge,EAAW,QACpDrrB,KAAK4pB,eAAevc,IAStB2pB,EAAwB3zB,UAAUi1B,oBAAsB,SAASjrB,EAAS/B,GACxE,IAAIb,EAAca,EAASoF,iBACvBupB,EAAsD,CACxD5sB,QAASA,EACT/B,SAAUA,EACV4uB,QAAS,CAACzvB,EAAaA,IAEzBzK,KAAK+3B,OAAOoC,OAAO7uB,EAASnF,YAAa8zB,IAS3CjD,EAAwB3zB,UAAUo1B,yBAA2B,SAASprB,EAAS/B,GAC7E,IACIb,EAAatG,EAAGsC,EAAIwzB,EADpBG,EAAS9uB,EAASoF,iBAEtB,IAAKvM,EAAI,EAAGsC,EAAK2zB,EAAOj4B,OAAQgC,EAAIsC,IAAMtC,EACxCsG,EAAc2vB,EAAOj2B,GACrB81B,EAAsD,CACpD5sB,QAASA,EACT/B,SAAUA,EACV+uB,MAAO,CAACl2B,GACRU,MAAOV,EACP+1B,QAAS,CAACzvB,EAAaA,IAEzBzK,KAAK+3B,OAAOoC,OAAO7uB,EAASnF,YAAa8zB,IAU7CjD,EAAwB3zB,UAAUk1B,yBAA2B,SAASlrB,EAAS/B,GAC7E,IACInH,EAAGsC,EAAIyzB,EAASD,EADhBxvB,EAAca,EAASoF,iBAE3B,IAAKvM,EAAI,EAAGsC,EAAKgE,EAAYtI,OAAS,EAAGgC,EAAIsC,IAAMtC,EACjD+1B,EAAUzvB,EAAY6E,MAAMnL,EAAGA,EAAI,GACnC81B,EAAsD,CACpD5sB,QAASA,EACT/B,SAAUA,EACVzG,MAAOV,EACP+1B,QAASA,GAEXl6B,KAAK+3B,OAAOoC,OAAO,OAAY9nB,eAAe6nB,GAAUD,IAU5DjD,EAAwB3zB,UAAUq1B,8BAAgC,SAASrrB,EAAS/B,GAClF,IACIb,EAAatG,EAAGsC,EAAIikB,EAAG4P,EAAIJ,EAASD,EADpCM,EAAQjvB,EAASoF,iBAErB,IAAKga,EAAI,EAAG4P,EAAKC,EAAMp4B,OAAQuoB,EAAI4P,IAAM5P,EAEvC,IADAjgB,EAAc8vB,EAAM7P,GACfvmB,EAAI,EAAGsC,EAAKgE,EAAYtI,OAAS,EAAGgC,EAAIsC,IAAMtC,EACjD+1B,EAAUzvB,EAAY6E,MAAMnL,EAAGA,EAAI,GACnC81B,EAAsD,CACpD5sB,QAASA,EACT/B,SAAUA,EACV+uB,MAAO,CAAC3P,GACR7lB,MAAOV,EACP+1B,QAASA,GAEXl6B,KAAK+3B,OAAOoC,OAAO,OAAY9nB,eAAe6nB,GAAUD,IAW9DjD,EAAwB3zB,UAAUm1B,sBAAwB,SAASnrB,EAAS/B,GAC1E,IACIb,EAAatG,EAAGsC,EAAIikB,EAAG4P,EAAIJ,EAASD,EADpCpM,EAAQviB,EAASoF,iBAErB,IAAKga,EAAI,EAAG4P,EAAKzM,EAAM1rB,OAAQuoB,EAAI4P,IAAM5P,EAEvC,IADAjgB,EAAcojB,EAAMnD,GACfvmB,EAAI,EAAGsC,EAAKgE,EAAYtI,OAAS,EAAGgC,EAAIsC,IAAMtC,EACjD+1B,EAAUzvB,EAAY6E,MAAMnL,EAAGA,EAAI,GACnC81B,EAAsD,CACpD5sB,QAASA,EACT/B,SAAUA,EACV+uB,MAAO,CAAC3P,GACR7lB,MAAOV,EACP+1B,QAASA,GAEXl6B,KAAK+3B,OAAOoC,OAAO,OAAY9nB,eAAe6nB,GAAUD,IAW9DjD,EAAwB3zB,UAAUs1B,2BAA6B,SAAStrB,EAAS/B,GAC/E,IACIb,EAAatG,EAAGsC,EAAIikB,EAAG4P,EAAI3T,EAAG6T,EAAI3M,EAAOqM,EAASD,EADlDQ,EAAWnvB,EAASoF,iBAExB,IAAKiW,EAAI,EAAG6T,EAAKC,EAASt4B,OAAQwkB,EAAI6T,IAAM7T,EAE1C,IADAkH,EAAQ4M,EAAS9T,GACZ+D,EAAI,EAAG4P,EAAKzM,EAAM1rB,OAAQuoB,EAAI4P,IAAM5P,EAEvC,IADAjgB,EAAcojB,EAAMnD,GACfvmB,EAAI,EAAGsC,EAAKgE,EAAYtI,OAAS,EAAGgC,EAAIsC,IAAMtC,EACjD+1B,EAAUzvB,EAAY6E,MAAMnL,EAAGA,EAAI,GACnC81B,EAAsD,CACpD5sB,QAASA,EACT/B,SAAUA,EACV+uB,MAAO,CAAC3P,EAAG/D,GACX9hB,MAAOV,EACP+1B,QAASA,GAEXl6B,KAAK+3B,OAAOoC,OAAO,OAAY9nB,eAAe6nB,GAAUD,IAkBhEjD,EAAwB3zB,UAAUu1B,qBAAuB,SAASvrB,EAAS/B,GACzE,IAAIb,EAAca,EAAS+N,YACvBqhB,EAA4D,CAC9DrtB,QAASA,EACT/B,SAAUA,EACVzG,MAAOmyB,EAAwBqC,mCAC/Ba,QAAS,CAACzvB,EAAaA,IAErBkwB,EAAmE,CACrEttB,QAASA,EACT/B,SAAUA,EACVzG,MAAOmyB,EAAwBsC,0CAC/BY,QAAS,CAACzvB,EAAaA,IAErBmwB,EAAkB,CAACF,EAAmBC,GAC1CD,EAAkBE,gBAAkBD,EAAyBC,gBAAkBA,EAC/E56B,KAAK+3B,OAAOoC,OAAO,OAAYU,6BAA6BpwB,GAAciwB,GAC1E16B,KAAK+3B,OAAOoC,OAAO7uB,EAASnF,YAAaw0B,IAS3C3D,EAAwB3zB,UAAUw1B,iCAAmC,SAASxrB,EAAS/B,GACrF,IAAInH,EAAG8qB,EAAa3jB,EAAS4jB,qBAC7B,IAAK/qB,EAAI,EAAGA,EAAI8qB,EAAW9sB,SAAUgC,EACnCnE,KAAKq4B,iBAAiBpJ,EAAW9qB,GAAGqJ,WAAWjL,KAC3CvC,KAAMqN,EAAS4hB,EAAW9qB,KAUlC6yB,EAAwB3zB,UAAUy3B,6BAA+B,SAASrwB,GACxE,IAAIswB,EAAgB/6B,KAAK03B,eACzB,GAAKqD,EAIE,CACL,IAAIzvB,EAAyCyvB,EAAcxtB,cAC3DjC,EAASC,eAAed,QALxBswB,EAAgB,IAAI,OAAa,IAAI,OAAgBtwB,IACrDzK,KAAK03B,eAAiBqD,EACtB/6B,KAAKkM,SAAS7D,YAAYyI,WAAWiqB,GAKvC,OAAOA,GAUT/D,EAAwBgE,gBAAkB,SAASC,EAAG5X,GACpD,OAAO4X,EAAEp2B,MAAQwe,EAAExe,OAUrBmyB,EAAwBruB,iBAAmB,SAAS0iB,GAClD,IAAKrrB,KAAKuM,WAAW8e,GACnB,OAAO,EAETrrB,KAAKw5B,sBAAsBnO,EAAInd,MAAOmd,EAAIhpB,KAC1C,IAAI64B,EAAkB7P,EAAIhpB,IAAI84B,uBAAuB9P,EAAInd,OACzDlO,KAAKo4B,cAAcj2B,OAAS,EAC5BnC,KAAK83B,WAAY,EACjB,IAAIiD,EAAgB/6B,KAAK03B,eACzB,GAAIqD,EAAe,CACjB,IAAIK,EAAiB,GACjB9vB,EAAyCyvB,EAAcxtB,cACvD8tB,EAAS/vB,EAASoF,iBAClB4qB,EAAe,OAAYjpB,eAAe,CAACgpB,IAC3CE,EAAqBv7B,KAAK+3B,OAAOyD,YAAYF,GAC7CG,EAAoB,GACxBF,EAAmBG,KAAK1E,EAAwBgE,iBAChD,IAAK,IAAI72B,EAAI,EAAGsC,EAAK80B,EAAmBp5B,OAAQgC,EAAIsC,IAAMtC,EAAG,CAC3D,IAAIw3B,EAAmBJ,EAAmBp3B,GACtC+1B,EAAUyB,EAAiBzB,QAC3B0B,EAAM,OAAKpX,OAAOmX,EAAiBtuB,SACnCgtB,EAAQsB,EAAiBtB,MAO7B,GANIA,IACFuB,GAAO,IAAMvB,EAAM72B,KAAK,MAErBi4B,EAAkBG,KACrBH,EAAkBG,GAAO,IAAInV,MAAM,IAEjCkV,EAAiBrwB,SAASkC,YAAc,OAAuBhD,QACnEmxB,EAAiB92B,QAAUmyB,EAAwBsC,0CAA2C,CAE5F,IAAIuC,EAAgB7E,EAAwB8E,sBAAsBZ,EAAiBS,GAC/E,OAAgBjgB,OAAOmgB,EAAeR,KAAYI,EAAkBG,GAAK,KAC3E57B,KAAKo4B,cAActxB,KAAK,CAAC60B,EAAkB,IAC3CF,EAAkBG,GAAK,GAAKD,QAEzB,GAAI,OAAgBjgB,OAAOwe,EAAQ,GAAImB,KACzCI,EAAkBG,GAAK,GAC1B57B,KAAKo4B,cAActxB,KAAK,CAAC60B,EAAkB,IAC3CF,EAAkBG,GAAK,GAAKD,OACvB,GAAI,OAAgBjgB,OAAOwe,EAAQ,GAAImB,KACzCI,EAAkBG,GAAK,GAAI,CAG9B,IAAKD,EAAiBrwB,SAASkC,YAC3B,OAAuBnC,aACvBswB,EAAiBrwB,SAASkC,YAC1B,OAAuBoD,oBACvB6qB,EAAkBG,GAAK,IACa,IAApCH,EAAkBG,GAAK,GAAG/2B,MAC5B,SAGF7E,KAAKo4B,cAActxB,KAAK,CAAC60B,EAAkB,IAC3CF,EAAkBG,GAAK,GAAKD,OACnB37B,KAAKw3B,uBAAuBnM,IAAQ,OAAK7G,OAAO0V,KAAYl6B,KAAK23B,kBACtE8D,EAAkBG,GAAK,KAAOH,EAAkBG,GAAK,IACzDR,EAAet0B,KAAK,CAAC60B,EAAkBN,IAGvCD,EAAej5B,QACjBnC,KAAK05B,oBAAoBrO,GAE3B,IAAK,IAAIX,EAAI0Q,EAAej5B,OAAS,EAAGuoB,GAAK,IAAKA,EAChD1qB,KAAK+7B,cAAcnmB,MAAM5V,KAAMo7B,EAAe1Q,IAGlD,QAAS1qB,KAAK03B,gBAShBV,EAAwBE,iBAAmB,SAAS7L,GAClDrrB,KAAK63B,wBAAyB,EAC9B73B,KAAK05B,oBAAoBrO,GAGzB,IADA,IAAIgQ,EAAShQ,EAAIhc,WACRlL,EAAI,EAAGsC,EAAKzG,KAAKo4B,cAAcj2B,OAAQgC,EAAIsC,IAAMtC,EAAG,CAC3D,IAIIsG,EAJAuxB,EAAch8B,KAAKo4B,cAAcj0B,GACjC81B,EAAc+B,EAAY,GAC1B3B,EAAQJ,EAAYI,MACpB/uB,EAAW2uB,EAAY3uB,SAEvB4uB,EAAUD,EAAYC,QACtBr1B,EAAQm3B,EAAY,GAExB,MAAOX,EAAOl5B,OAASmJ,EAAS2wB,YAC9BZ,EAAOv0B,KAAKozB,EAAQr1B,GAAOw2B,EAAOl5B,SAGpC,OAAQmJ,EAASkC,WACf,KAAK,OAAuBpC,MAC1BX,EAAc4wB,EACdnB,EAAQ,GAAKA,EAAQ,GAAKmB,EAC1B,MACF,KAAK,OAAuB1qB,YAC1BlG,EAAca,EAASoF,iBACvBjG,EAAYwvB,EAAYp1B,OAASw2B,EACjCnB,EAAQ,GAAKA,EAAQ,GAAKmB,EAC1B,MACF,KAAK,OAAuBhwB,YAC1BZ,EAAca,EAASoF,iBACvBjG,EAAYwvB,EAAYp1B,MAAQA,GAASw2B,EACzCnB,EAAQr1B,GAASw2B,EACjB,MACF,KAAK,OAAuBzqB,kBAC1BnG,EAAca,EAASoF,iBACvBjG,EAAY4vB,EAAM,IAAIJ,EAAYp1B,MAAQA,GAASw2B,EACnDnB,EAAQr1B,GAASw2B,EACjB,MACF,KAAK,OAAuBrxB,QAC1BS,EAAca,EAASoF,iBACvBjG,EAAY4vB,EAAM,IAAIJ,EAAYp1B,MAAQA,GAASw2B,EACnDnB,EAAQr1B,GAASw2B,EACjB,MACF,KAAK,OAAuBxqB,cAC1BpG,EAAca,EAASoF,iBACvBjG,EAAY4vB,EAAM,IAAIA,EAAM,IAAIJ,EAAYp1B,MAAQA,GAASw2B,EAC7DnB,EAAQr1B,GAASw2B,EACjB,MACF,KAAK,OAAuB7wB,OAC1B0vB,EAAQ,GAAKA,EAAQ,GAAKmB,EACtBpB,EAAYp1B,QAAUmyB,EAAwBqC,oCAChDr5B,KAAKm4B,kBAAmB,EACxB7sB,EAASmV,UAAU4a,GACnBr7B,KAAKm4B,kBAAmB,IAExBn4B,KAAKm4B,kBAAmB,EACxB7sB,EAASwV,UAAU,OAAgBvN,SAASjI,EAAS+N,YAAagiB,IAClEr7B,KAAKm4B,kBAAmB,GAE1B,MACF,SAIE1tB,GACFzK,KAAKk8B,wBAAwB5wB,EAAUb,GAG3CzK,KAAK86B,6BAA6BO,IAUpCrE,EAAwBluB,eAAiB,SAASuiB,GAGhD,IAFA,IAAI4O,EACA3uB,EACKnH,EAAInE,KAAKo4B,cAAcj2B,OAAS,EAAGgC,GAAK,IAAKA,EAGpD,GAFA81B,EAAcj6B,KAAKo4B,cAAcj0B,GAAG,GACpCmH,EAAW2uB,EAAY3uB,SACnBA,EAASkC,YAAc,OAAuBhD,OAAQ,CAExD,IAAIC,EAAca,EAAS+N,YACvBqhB,EAAoBT,EAAYW,gBAAgB,GAChDD,EAA2BV,EAAYW,gBAAgB,GAC3DF,EAAkBR,QAAQ,GAAKQ,EAAkBR,QAAQ,GAAKzvB,EAC9DkwB,EAAyBT,QAAQ,GAAKS,EAAyBT,QAAQ,GAAKzvB,EAC5EzK,KAAK+3B,OAAOoE,OAAO,OAAYtB,6BAA6BpwB,GAAciwB,GAC1E16B,KAAK+3B,OAAOoE,OAAO7wB,EAASnF,YAAaw0B,QAEzC36B,KAAK+3B,OAAOoE,OAAO,OAAY9pB,eAAe4nB,EAAYC,SACtDD,GAQR,OALIj6B,KAAK83B,YACP93B,KAAK4P,cAAc,IAAIonB,EAAwBnnB,MAC3C,EAAiCknB,UAAW/2B,KAAKoJ,UAAWiiB,IAChErrB,KAAK83B,WAAY,IAEZ,GAYTd,EAAwBpuB,YAAc,SAASohB,GAC7C,QAAMA,aAA2B,UAGjChqB,KAAKo5B,kBAAoBpP,EAGpBA,EAAgB3nB,IAAI+5B,UAAUC,kBAC/BrS,EAAgB7hB,MAAQ,OAAyB4F,aAChD/N,KAAKs8B,wBACRt8B,KAAKgO,mBAAmBgc,GAEtBhqB,KAAK03B,gBAAkB13B,KAAKs3B,iBAAiBtN,KAK7CuS,IAJEvS,EAAgB7hB,MAAQ,OAAyBq0B,cAChDx8B,KAAK63B,yBACE73B,KAAKy8B,eAMfzS,EAAgB7hB,MAAQ,OAAyBq0B,cACnDx8B,KAAK63B,wBAAyB,GAGzB,OAAyBjvB,YAAYrG,KAAKvC,KAAMgqB,KAClDuS,GApBL,IAAIA,GA4BNvF,EAAwB3zB,UAAU2K,mBAAqB,SAASqd,GAC9DrrB,KAAK43B,WAAavM,EAAInd,MACtBlO,KAAKw5B,sBAAsBnO,EAAInd,MAAOmd,EAAIhpB,MAS5C20B,EAAwB3zB,UAAUm2B,sBAAwB,SAAStrB,EAAO7L,GACxE,IAAI64B,EAAkB74B,EAAI84B,uBAAuBjtB,GAC7CwuB,EAAiB,SAASzB,EAAG5X,GAC/B,OAAO2T,EAAwB2F,mCAAmCzB,EAAiBD,GAC/EjE,EAAwB2F,mCAAmCzB,EAAiB7X,IAG9EuZ,EAAM,OAAYC,OAClB,OAAYhC,6BAA6BK,GACzC74B,EAAI+5B,UAAUxhB,gBAAkB5a,KAAKg4B,iBAErC6B,EAAQ75B,KAAK+3B,OACb+E,EAAQjD,EAAM2B,YAAYoB,GAC9B,GAAIE,EAAM36B,OAAS,EAAG,CACpB26B,EAAMpB,KAAKgB,GACX,IAAI3C,EAAO+C,EAAM,GACbC,EAAiBhD,EAAKG,QACtBmB,EAASrE,EAAwB8E,sBAAsBZ,EAAiBnB,GACxEiD,EAAc36B,EAAI+M,uBAAuBisB,GACzC4B,EAAO,OAAgB1pB,SAASrF,EAAO8uB,GAC3C,GAAIC,GAAQj9B,KAAKg4B,gBAAiB,CAChC,IAAIkF,EAAiB,GAErB,GAAInD,EAAKzuB,SAASkC,YAAc,OAAuBhD,QACvDuvB,EAAKl1B,QAAUmyB,EAAwBsC,0CAErCt5B,KAAKk4B,kBAAmB,EACxBl4B,KAAK86B,6BAA6BO,OAC7B,CACL,IAWInB,EAXAiD,EAAS96B,EAAI+M,uBAAuB2tB,EAAe,IACnDK,EAAS/6B,EAAI+M,uBAAuB2tB,EAAe,IACnDM,EAAe,OAAgBvyB,gBAAgBkyB,EAAaG,GAC5DG,EAAe,OAAgBxyB,gBAAgBkyB,EAAaI,GAChEH,EAAOjyB,KAAKC,KAAKD,KAAKuyB,IAAIF,EAAcC,IACxCt9B,KAAKk4B,iBAAmB+E,GAAQj9B,KAAKg4B,gBACjCh4B,KAAKk4B,mBACPmD,EAASgC,EAAeC,EACtBP,EAAe,GAAKA,EAAe,IAEvC/8B,KAAK86B,6BAA6BO,GAElC,IAAK,IAAIl3B,EAAI,EAAGsC,EAAKq2B,EAAM36B,OAAQgC,EAAIsC,IAAMtC,EAAG,CAE9C,GADA+1B,EAAU4C,EAAM34B,GAAG+1B,UACd,OAAgBxe,OAAOqhB,EAAe,GAAI7C,EAAQ,KACnD,OAAgBxe,OAAOqhB,EAAe,GAAI7C,EAAQ,KACjD,OAAgBxe,OAAOqhB,EAAe,GAAI7C,EAAQ,KACnD,OAAgBxe,OAAOqhB,EAAe,GAAI7C,EAAQ,KAGpD,MAFAgD,EAAe,OAAK1Y,OAAO0V,KAAY,GAS7C,OAFAgD,EAAe,OAAK1Y,OAAOuY,KAAmB,OAC9C/8B,KAAK23B,gBAAkBuF,IAIvBl9B,KAAK03B,iBACP13B,KAAKkM,SAAS7D,YAAYuxB,cAAc55B,KAAK03B,gBAC7C13B,KAAK03B,eAAiB,OAc1BV,EAAwB2F,mCAAqC,SAASa,EAAkBvD,GACtF,IAAI3uB,EAAW2uB,EAAY3uB,SAE3B,GAAIA,EAASkC,YAAc,OAAuBhD,OAAQ,CACxD,IAAIizB,EAA+C,EAEnD,GAAIxD,EAAYp1B,QAAUmyB,EAAwBsC,0CAA2C,CAC3F,IAAIoE,EACE,OAAgB5yB,gBAAgB2yB,EAAepkB,YAAamkB,GAC9DG,EACE3yB,KAAKC,KAAKyyB,GAA2BD,EAAe1d,YAC1D,OAAO4d,EAA0BA,GAGrC,OAAO,OAAgBC,yBAAyBJ,EAAkBvD,EAAYC,UAYhFlD,EAAwB8E,sBAAwB,SAAS0B,EAAkBvD,GACzE,IAAI3uB,EAAW2uB,EAAY3uB,SAE3B,OAAIA,EAASkC,YAAc,OAAuBhD,QAClDyvB,EAAYp1B,QAAUmyB,EAAwBsC,0CACrChuB,EAASuyB,gBAAgBL,GAE3B,OAAgBM,iBAAiBN,EAAkBvD,EAAYC,UASxElD,EAAwB3zB,UAAU04B,cAAgB,SAAS9B,EAAaoB,GACtE,IAKI5wB,EALAyvB,EAAUD,EAAYC,QACtB7sB,EAAU4sB,EAAY5sB,QACtB/B,EAAW2uB,EAAY3uB,SACvB+uB,EAAQJ,EAAYI,MACpBx1B,EAA+Bo1B,EAAiB,MAGpD,MAAOoB,EAAOl5B,OAASmJ,EAAS2wB,YAC9BZ,EAAOv0B,KAAK,GAGd,OAAQwE,EAASkC,WACf,KAAK,OAAuBoD,kBAC1BnG,EAAca,EAASoF,iBACvBjG,EAAY4vB,EAAM,IAAI7pB,OAAO3L,EAAQ,EAAG,EAAGw2B,GAC3C,MACF,KAAK,OAAuBrxB,QAC1BS,EAAca,EAASoF,iBACvBjG,EAAY4vB,EAAM,IAAI7pB,OAAO3L,EAAQ,EAAG,EAAGw2B,GAC3C,MACF,KAAK,OAAuBxqB,cAC1BpG,EAAca,EAASoF,iBACvBjG,EAAY4vB,EAAM,IAAIA,EAAM,IAAI7pB,OAAO3L,EAAQ,EAAG,EAAGw2B,GACrD,MACF,KAAK,OAAuBhwB,YAC1BZ,EAAca,EAASoF,iBACvBjG,EAAY+F,OAAO3L,EAAQ,EAAG,EAAGw2B,GACjC,MACF,QACE,OAGJr7B,KAAKk8B,wBAAwB5wB,EAAUb,GACvC,IAAIszB,EAAQ/9B,KAAK+3B,OACjBgG,EAAM7T,OAAO+P,GACbj6B,KAAKg+B,sBAAsB1yB,EAAUzG,EAAOw1B,EAAO,GACnD,IAAI4D,EAAyD,CAC3D/D,QAAS,CAACA,EAAQ,GAAImB,GACtBhuB,QAASA,EACT/B,SAAUA,EACV+uB,MAAOA,EACPx1B,MAAOA,GAETk5B,EAAM5D,OAAO,OAAY9nB,eAAe4rB,EAAe/D,SACnD+D,GACJj+B,KAAKo4B,cAActxB,KAAK,CAACm3B,EAAgB,IAEzC,IAAIC,EAA0D,CAC5DhE,QAAS,CAACmB,EAAQnB,EAAQ,IAC1B7sB,QAASA,EACT/B,SAAUA,EACV+uB,MAAOA,EACPx1B,MAAOA,EAAQ,GAEjBk5B,EAAM5D,OAAO,OAAY9nB,eAAe6rB,EAAgBhE,SACpDgE,GACJl+B,KAAKo4B,cAActxB,KAAK,CAACo3B,EAAiB,IAC1Cl+B,KAAK63B,wBAAyB,GAQhCb,EAAwB3zB,UAAUo5B,YAAc,WAC9C,GAAIz8B,KAAKo5B,mBAAqBp5B,KAAKo5B,kBAAkBjxB,MAAQ,OAAyByF,YAAa,CACjG,IAAIyd,EAAMrrB,KAAKo5B,kBAMf,OALAp5B,KAAK05B,oBAAoBrO,GACzBrrB,KAAKm+B,gBACLn+B,KAAK4P,cAAc,IAAIonB,EAAwBnnB,MAC3C,EAAiCknB,UAAW/2B,KAAKoJ,UAAWiiB,IAChErrB,KAAK83B,WAAY,GACV,EAET,OAAO,GAQTd,EAAwB3zB,UAAU86B,cAAgB,WAChD,IAGIzpB,EAAWjK,EAAauxB,EAAa1wB,EAAUnH,EAAGU,EAAOu5B,EACzDC,EAAUC,EAAOrE,EAAa2B,EAJ9B2C,EAAev+B,KAAKo4B,cACpBoG,EAAoB,GACpBC,GAAU,EAGd,IAAKt6B,EAAIo6B,EAAap8B,OAAS,EAAGgC,GAAK,IAAKA,EAC1C63B,EAAcuC,EAAap6B,GAC3B81B,EAAc+B,EAAY,GAC1BJ,EAAM,OAAKpX,OAAOyV,EAAY5sB,SAC1B4sB,EAAYI,QAEduB,GAAO,IAAM3B,EAAYI,MAAM72B,KAAK,MAEhCo4B,KAAO4C,IACXA,EAAkB5C,GAAO,IAEJ,IAAnBI,EAAY,IACdwC,EAAkB5C,GAAK0C,MAAQrE,EAC/BuE,EAAkB5C,GAAK/2B,MAAQo1B,EAAYp1B,OAChB,GAAlBm3B,EAAY,KACrBwC,EAAkB5C,GAAKwC,KAAOnE,EAC9BuE,EAAkB5C,GAAK/2B,MAAQo1B,EAAYp1B,MAAQ,GAIvD,IAAK+2B,KAAO4C,EAAmB,CAiB7B,OAhBAF,EAAQE,EAAkB5C,GAAK0C,MAC/BF,EAAOI,EAAkB5C,GAAKwC,KAC9Bv5B,EAAQ25B,EAAkB5C,GAAK/2B,MAC/Bw5B,EAAWx5B,EAAQ,EAEjBo1B,OADW/5B,IAATk+B,EACYA,EAEAE,EAEZD,EAAW,IACbA,EAAW,GAEb/yB,EAAW2uB,EAAY3uB,SACvBb,EAAca,EAASoF,iBACvBgE,EAAYjK,EACZg0B,GAAU,EACFnzB,EAASkC,WACf,KAAK,OAAuBoD,kBACtBnG,EAAYwvB,EAAYI,MAAM,IAAIl4B,OAAS,IAC7CsI,EAAYwvB,EAAYI,MAAM,IAAI7pB,OAAO3L,EAAO,GAChD45B,GAAU,GAEZ,MACF,KAAK,OAAuBpzB,YACtBZ,EAAYtI,OAAS,IACvBsI,EAAY+F,OAAO3L,EAAO,GAC1B45B,GAAU,GAEZ,MACF,KAAK,OAAuB5tB,cAC1B6D,EAAYA,EAAUulB,EAAYI,MAAM,IAE1C,KAAK,OAAuBrwB,QAC1B0K,EAAYA,EAAUulB,EAAYI,MAAM,IACpC3lB,EAAUvS,OAAS,IACjB0C,GAAS6P,EAAUvS,OAAS,IAC9B0C,EAAQ,GAEV6P,EAAUlE,OAAO3L,EAAO,GACxB45B,GAAU,EACI,IAAV55B,IAEF6P,EAAUpE,MACVoE,EAAU5N,KAAK4N,EAAU,IACzB2pB,EAAW3pB,EAAUvS,OAAS,IAGlC,MACF,SAIF,GAAIs8B,EAAS,CACXz+B,KAAKk8B,wBAAwB5wB,EAAUb,GACvC,IAAIi0B,EAAW,GASf,QARax+B,IAATk+B,IACFp+B,KAAK+3B,OAAO7N,OAAOkU,GACnBM,EAAS53B,KAAKs3B,EAAKlE,QAAQ,UAEfh6B,IAAVo+B,IACFt+B,KAAK+3B,OAAO7N,OAAOoU,GACnBI,EAAS53B,KAAKw3B,EAAMpE,QAAQ,UAEjBh6B,IAATk+B,QAAgCl+B,IAAVo+B,EAAqB,CAC7C,IAAIL,EAAyD,CAC3D5D,MAAOJ,EAAYI,MACnBhtB,QAAS4sB,EAAY5sB,QACrB/B,SAAU2uB,EAAY3uB,SACtBzG,MAAOw5B,EACPnE,QAASwE,GAEX1+B,KAAK+3B,OAAOoC,OAAO,OAAY9nB,eAAe4rB,EAAe/D,SACzD+D,GAENj+B,KAAKg+B,sBAAsB1yB,EAAUzG,EAAOo1B,EAAYI,OAAQ,GAC5Dr6B,KAAK03B,iBACP13B,KAAKkM,SAAS7D,YAAYuxB,cAAc55B,KAAK03B,gBAC7C13B,KAAK03B,eAAiB,MAExB6G,EAAap8B,OAAS,GAI1B,OAAOs8B,GASTzH,EAAwB3zB,UAAU64B,wBAA0B,SAAS5wB,EAAUb,GAC7EzK,KAAKm4B,kBAAmB,EACxB7sB,EAASC,eAAed,GACxBzK,KAAKm4B,kBAAmB,GAW1BnB,EAAwB3zB,UAAU26B,sBAAwB,SACtD1yB,EAAUzG,EAAOw1B,EAAOva,GAC1B9f,KAAK+3B,OAAO4G,gBAAgBrzB,EAASnF,aAAa,SAASw1B,GACrDA,EAAiBrwB,WAAaA,SACnBpL,IAAVm6B,QAAkDn6B,IAA3By7B,EAAiBtB,OACzC,OAAW3e,OAAOigB,EAAiBtB,MAAOA,KAC1CsB,EAAiB92B,MAAQA,IAC3B82B,EAAiB92B,OAASib,OAShCkX,EAAwB5qB,wBAA0B,WAChD,IAAIvL,EAAQ,OAAiBuM,uBAC7B,OAAO,SAASC,EAASC,GACvB,OAAOzM,EAAM,OAAuBuK,SAkBxC4rB,EAAwBnnB,MAAQ,SAAS1H,EAAMkB,EAAUu1B,GAEvD,OAAkBr8B,KAAKvC,KAAMmI,GAO7BnI,KAAKqJ,SAAWA,EAOhBrJ,KAAKgqB,gBAAkB4U,GAEzB,OAAKx7B,SAAS4zB,EAAwBnnB,MAAO,QAC9B,U,uBChtCf,IAAIkX,EAAa,EAAQ,QACrB8X,EAAwB,EAAQ,QAChC13B,EAAiB,EAAQ,QAI7B03B,EAAsB,eAItB13B,EAAe4f,EAAW,UAAW,W,qBCTrC,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,S,kCCLR,oDAeI+X,EAAqB,SAAS/+B,GAKhCC,KAAK++B,WAAah/B,EAAQi/B,UAG1B,OAAuBz8B,KAAKvC,KAAM,CAChCgG,OAAQjG,EAAQiG,OAChBi5B,OAAQl/B,EAAQk/B,OAChBC,QAASn/B,EAAQm/B,QACjBjkB,YAAalb,EAAQkb,YACrBkkB,SAAUp/B,EAAQo/B,SAClBC,UAAWr/B,EAAQq/B,UACnBC,MAAOt/B,EAAQs/B,SAInB,OAAKj8B,SAAS07B,EAAoB,QAOlCA,EAAmBz7B,UAAUpB,YAAc,SAASq9B,GAClD,OAAOt/B,KAAK++B,WAAWO,IASzBR,EAAmBz7B,UAAUk8B,aAAe,WAC1C,OAAOv/B,KAAK++B,YAgBdD,EAAmBv4B,gCAAkC,SAAS5F,EAAW6+B,EACrEC,GAGF,IAAIxkB,EAAc,GAEd+jB,EAAY,GAEZE,EAAU,GAEVE,EAAY,GAEZC,EAAQ,GAERr6B,OAAoC9E,IAArBu/B,EAAiCA,EAAmB,GAEnEC,EAAuB,eACvBC,EAAoB,aACpBC,EAAqB,aACrBC,EAA2B,mBAC3BC,EAAwB,gBACxBC,EAAoB,YACpBC,EAAqB,aAErBl6B,EAAOnF,EAAU++B,GACjB39B,EAAa,OAAUwD,IAAIO,EAAKrE,QAAQ,qCAAsC,WAC9E,OAAU8D,IAAIO,GACdm6B,EAAgBl+B,EAAWm+B,mBAE3BC,EAAiE,MAAhDp+B,EAAW8c,qBAAqBC,OAAO,EAAG,GAuC/D,OArCAne,EAAUg/B,GAAmBjE,MAAK,SAAST,EAAG5X,GAC5C,OAAOA,EAAEwc,GAA4B5E,EAAE4E,MAGzCl/B,EAAUg/B,GAAmBj6B,SAAQ,SAASd,EAAKC,EAAOC,GAExD,IAAIs7B,EAYJ,GAREA,IADEp7B,EAAa7C,OAAS,IACN,OAAWwC,KAAKK,GAC9B,SAASq7B,EAAQC,EAAUC,GACzB,OAAO37B,EAAIg7B,IAAuBS,EAAOV,MAM7CS,EAAiB,CACnBpB,EAAUl4B,KAAKlC,EAAIg7B,IACnB,IAAItyB,EAA6C,MAAhC1I,EAAIi7B,GAAsCI,EACvDO,EAAY57B,EAAIm7B,GAChBU,EAAa77B,EAAIo7B,GACjBG,EACFjB,EAAQp4B,KAAK,CAAClC,EAAIk7B,GAAuB,GACvCl7B,EAAIk7B,GAAuB,KAE7BZ,EAAQp4B,KAAKlC,EAAIk7B,IAEnB7kB,EAAYnU,KAAKwG,GACjB8xB,EAAUt4B,KAAK05B,GAAaC,EAC1BD,EAAY,CAACA,EAAWC,IAE1BpB,EAAMv4B,KAAK,CAAClC,EAAI,gBAAiBA,EAAI,sBAIlC,IAAIk6B,EAAmB,CAC5B94B,OAAQw5B,EACRN,QAASA,EACTjkB,YAAaA,EACb+jB,UAAWA,EACXI,UAAWA,EACXC,MAAOA,KAGI,U,qBCjJf,IAAIrpB,EAAW,EAAQ,QACnB0qB,EAA8B,EAAQ,QAI1CjhC,EAAOC,QAAU,SAAU+W,EAAG1W,GACxBiW,EAASjW,IAAY,UAAWA,GAClC2gC,EAA4BjqB,EAAG,QAAS1W,EAAQ4gC,S,qBCPpD,IAAIC,EAAiB,EAAQ,QAAuC5hC,EAEpES,EAAOC,QAAU,SAAUmhC,EAAQC,EAAQv9B,GACzCA,KAAOs9B,GAAUD,EAAeC,EAAQt9B,EAAK,CAC3C+S,cAAc,EACd/Q,IAAK,WAAc,OAAOu7B,EAAOv9B,IACjCgT,IAAK,SAAUhX,GAAMuhC,EAAOv9B,GAAOhE,O,qBCNvC,IAAIoV,EAAI,EAAQ,QACZoS,EAAa,EAAQ,QACrBga,EAAS,EAAQ,QACjBtc,EAAW,EAAQ,QACnBuc,EAAS,EAAQ,QACjBC,EAAyB,EAAQ,QAEjCC,EAAyBF,EAAO,6BAChCG,EAAyBH,EAAO,6BAIpCrsB,EAAE,CAAER,OAAQ,SAAUU,MAAM,EAAMsM,QAAS8f,GAA0B,CACnE,IAAO,SAAU19B,GACf,IAAI69B,EAAS3c,EAASlhB,GACtB,GAAIw9B,EAAOG,EAAwBE,GAAS,OAAOF,EAAuBE,GAC1E,IAAIC,EAASta,EAAW,SAAXA,CAAqBqa,GAGlC,OAFAF,EAAuBE,GAAUC,EACjCF,EAAuBE,GAAUD,EAC1BC,M,qBCnBX,IAAIxC,EAAwB,EAAQ,QAIpCA,EAAsB,kB,qBCJtB,IAAI9d,EAAQ,EAAQ,QAChBugB,EAA2B,EAAQ,QAEvC7hC,EAAOC,SAAWqhB,GAAM,WACtB,IAAIvhB,EAAQ+H,MAAM,KAClB,QAAM,UAAW/H,KAEjBJ,OAAOwhC,eAAephC,EAAO,QAAS8hC,EAAyB,EAAG,IAC3C,IAAhB9hC,EAAMmI,W,kCCRf,gKA2BI45B,EAAsB,SAASr5B,GAEjC,IAAInI,EAAUmI,GAAe,GAEzBqM,EAASxU,EAAQwU,QAAU,GAE3BitB,IAAc,gBAAiBjtB,IAASA,EAAO,eAEnD,OAAsBhS,KAAKvC,KAAM,CAC/BwC,aAAczC,EAAQyC,aACtBC,UAAW1C,EAAQ0C,UACnBC,YAAa3C,EAAQ2C,YACrBC,KAAM5C,EAAQ4C,KACdg0B,QAAS6K,EACTz/B,WAAYhC,EAAQgC,WACpBa,2BAA4B7C,EAAQ6C,2BACpCC,UAAW9C,EAAQ8C,UACnB1B,SAAUpB,EAAQoB,SAClB2B,iBAAkB/C,EAAQ+C,iBAC1B/B,IAAKhB,EAAQgB,IACbD,KAAMf,EAAQe,KACdkC,WAAyB9C,IAAlBH,EAAQiD,OAAsBjD,EAAQiD,MAC7CC,WAAYlD,EAAQkD,aAOtBjD,KAAKyhC,aAA6BvhC,IAAnBH,EAAQ2hC,OAAuB3hC,EAAQ2hC,OAAS,EAM/D1hC,KAAKsc,QAAU/H,EAMfvU,KAAKuc,MAAO,EAMZvc,KAAKyc,YAAgE1c,EAAkB,WAMvFC,KAAK0c,YAA2Bxc,IAAlBH,EAAQ4c,OAAsB5c,EAAQ4c,MAMpD3c,KAAK2hC,WAAa,OAAYC,cAE9B5hC,KAAKwc,aACLxc,KAAKkD,OAAOlD,KAAK6hC,qBAInB,OAAKz+B,SAASm+B,EAAqB,QAiBnCA,EAAoBl+B,UAAU4Z,qBAAuB,SAAS5N,EAAY/B,EAAYvL,EAAYwS,GAChG,IAAI2I,EAAgB,OAAU3X,IAAIxD,GAC9Bob,EAAsBnd,KAAKsa,gBAE3BnZ,EAAWnB,KAAK8hC,cACf3gC,IACHA,EAAWnB,KAAK+hC,yBAAyB7kB,IAG3C,IAAIrb,EAAYV,EAAS6gC,kCAAkC3yB,EAAY/B,GAEvE,KAAInM,EAASia,iBAAiBjZ,QAAUN,EAAU,IAAlD,CAIA,IAAIogC,EAAiB9gC,EAASyZ,cAAc/Y,EAAU,IAClDqgC,EAAa/gC,EAASghC,mBAAmBtgC,EAAW7B,KAAK2hC,YACzDxC,EAAW,OAAUiD,OAAOjhC,EAASkhC,YAAYxgC,EAAU,IAAK7B,KAAKsiC,SAGrEZ,EAAS1hC,KAAKyhC,QACH,IAAXC,IACFvC,EAAW,OAAUtC,OAAOsC,EAAUuC,EAAQ1hC,KAAKsiC,SACnDJ,EAAa,OAAYrF,OAAOqF,EAAYD,EAAiBP,EAAQQ,IAGnE/kB,GAAuBA,IAAwBD,IACjD+kB,EAAiB,OAAY1oB,0BAA0B4D,EAAqBD,EAAe7N,EAAY4yB,GACvGC,EAAa,OAAU97B,gBAAgB87B,EAAYhlB,EAAeC,GAClE9N,EAAa,OAAU+N,UAAU/N,EAAY6N,EAAeC,IAG9D,IAAIG,EAAa,CACf,QAAW,MACX,QAAW,OAAKC,oBAChB,QAAW,iBACX,OAAU,YACV,aAAe,EACf,aAAgBvd,KAAKsc,QAAQ,WAE/B,OAASjb,OAAOic,EAAYtd,KAAKsc,QAAS/H,GAE1C,IAAIiJ,EAAIxS,KAAKyS,OAAOpO,EAAW,GAAK6yB,EAAW,IAAMD,GACjDvkB,EAAI1S,KAAKyS,OAAOykB,EAAW,GAAK7yB,EAAW,IAAM4yB,GAKrD,OAHA3kB,EAAWtd,KAAKuc,KAAO,IAAM,KAAOiB,EACpCF,EAAWtd,KAAKuc,KAAO,IAAM,KAAOmB,EAE7B1d,KAAK2d,eAAe9b,EAAWs9B,EAAU+C,EAC5C,EAAG/kB,GAAuBD,EAAeI,KAO/CikB,EAAoBl+B,UAAUk/B,kBAAoB,WAChD,OAAOviC,KAAKyhC,SAUdF,EAAoBl+B,UAAUua,UAAY,WACxC,OAAO5d,KAAKsc,SAcdilB,EAAoBl+B,UAAUsa,eAAiB,SAAS9b,EAAWs9B,EAAU+C,EACzEpgC,EAAYC,EAAYwS,GAE1B,IAAIzT,EAAOd,KAAKc,KAChB,GAAKA,EAAL,CAaA,GATAyT,EAAO,SAAW4qB,EAAS,GAC3B5qB,EAAO,UAAY4qB,EAAS,GAE5B5qB,EAAOvU,KAAKuc,KAAO,MAAQ,OAASxa,EAAW0c,UAEzC,WAAYze,KAAKsc,UACrB/H,EAAO,UAAY,IAGH,GAAdzS,EACF,OAAQ9B,KAAKyc,aACX,KAAK,OAA0B7F,UAC7B,IAAI8H,EAAO,GAAK5c,EAAa,GAAO,EAChC,mBAAoByS,EACtBA,EAAO,mBAAqB,QAAUmK,EAEtCnK,EAAO,kBAAoB,OAASmK,EAEtC,MACF,KAAK,OAA0B7H,UAC7BtC,EAAO,kBAAoB,GAAKzS,EAChC,MACF,KAAK,OAA0B6U,gBAC/B,KAAK,OAA0BG,KAC7BvC,EAAO,OAAS,GAAKzS,EACrB,MACF,QACE,OAAa0c,QAAO,EAAO,IAC3B,MAIN,IAGMgkB,EAUFzhC,EAbA6d,EAAkB7c,EAAW8c,qBAC7BF,EAAOujB,EACX,GAAIliC,KAAKuc,MAAwC,MAAhCqC,EAAgBE,OAAO,EAAG,GAEzC0jB,EAAMN,EAAW,GACjBvjB,EAAK,GAAKujB,EAAW,GACrBvjB,EAAK,GAAK6jB,EACVA,EAAMN,EAAW,GACjBvjB,EAAK,GAAKujB,EAAW,GACrBvjB,EAAK,GAAK6jB,EAKZ,GAHAjuB,EAAO,QAAUoK,EAAKnb,KAAK,KAGR,GAAf1C,EAAKqB,OACPpB,EAAMD,EAAK,OACN,CACL,IAAI+D,EAAQ,OAAU49B,OAAO,OAAeC,KAAK7gC,GAAYf,EAAKqB,QAClEpB,EAAMD,EAAK+D,GAEb,OAAO,OAASrD,aAAaT,EAAKwT,KAOpCgtB,EAAoBl+B,UAAUs/B,kBAAoB,SAAS7gC,GACzD,OAAS9B,KAAK0c,aAA+Bxc,IAArBF,KAAKyc,YACP,EADoC,GAS5D8kB,EAAoBl+B,UAAUw+B,iBAAmB,WAC/C,IAAI19B,EAAI,EACJC,EAAM,GACV,IAAK,IAAIb,KAAOvD,KAAKsc,QACnBlY,EAAID,KAAOZ,EAAM,IAAMvD,KAAKsc,QAAQ/Y,GAEtC,OAAOa,EAAIZ,KAAK,MAOlB+9B,EAAoBl+B,UAAUK,qBAAuB,SAAS7B,EAAWC,EAAYC,GAEnF,IAAIZ,EAAWnB,KAAK8hC,cAKpB,GAJK3gC,IACHA,EAAWnB,KAAK+hC,yBAAyBhgC,MAGvCZ,EAASia,iBAAiBjZ,QAAUN,EAAU,IAAlD,CAIkB,GAAdC,GAAqB9B,KAAK0c,aAA+Bxc,IAArBF,KAAKyc,cAC3C3a,EAAa,GAGf,IAAImgC,EAAiB9gC,EAASyZ,cAAc/Y,EAAU,IAClDqgC,EAAa/gC,EAASghC,mBAAmBtgC,EAAW7B,KAAK2hC,YACzDxC,EAAW,OAAUiD,OACrBjhC,EAASkhC,YAAYxgC,EAAU,IAAK7B,KAAKsiC,SAEzCZ,EAAS1hC,KAAKyhC,QACH,IAAXC,IACFvC,EAAW,OAAUtC,OAAOsC,EAAUuC,EAAQ1hC,KAAKsiC,SACnDJ,EAAa,OAAYrF,OAAOqF,EAC5BD,EAAiBP,EAAQQ,IAGb,GAAdpgC,IACFq9B,EAAW,OAAUha,MAAMga,EAAUr9B,EAAY9B,KAAKsiC,UAGxD,IAAIhlB,EAAa,CACf,QAAW,MACX,QAAW,OAAKC,oBAChB,QAAW,SACX,OAAU,YACV,aAAe,GAIjB,OAFA,OAASlc,OAAOic,EAAYtd,KAAKsc,SAE1Btc,KAAK2d,eAAe9b,EAAWs9B,EAAU+C,EAC5CpgC,EAAYC,EAAYub,KAQ9BikB,EAAoBl+B,UAAU6b,aAAe,SAAS3K,GACpD,OAASlT,OAAOrB,KAAKsc,QAAS/H,GAC9BvU,KAAKwc,aACLxc,KAAKkD,OAAOlD,KAAK6hC,qBAOnBN,EAAoBl+B,UAAUmZ,WAAa,WACzC,IAAIrc,EAAUH,KAAKsc,QAAQ,YAAc,OAAKiB,oBAC9Cvd,KAAKuc,KAAO,OAAY4C,gBAAgBhf,EAAS,QAAU,GAE9C,U,kCCzVf,W,qBCAA,IAAIwU,EAAI,EAAQ,QACZosB,EAAS,EAAQ,QACjB6B,EAAW,EAAQ,QACnBC,EAAc,EAAQ,QACtB7B,EAAS,EAAQ,QACjBC,EAAyB,EAAQ,QAEjCE,EAAyBH,EAAO,6BAIpCrsB,EAAE,CAAER,OAAQ,SAAUU,MAAM,EAAMsM,QAAS8f,GAA0B,CACnEh6B,OAAQ,SAAgB67B,GACtB,IAAKF,EAASE,GAAM,MAAMC,UAAUF,EAAYC,GAAO,oBACvD,GAAI/B,EAAOI,EAAwB2B,GAAM,OAAO3B,EAAuB2B,O,kCCd3E,IAAIE,EAAW,CAWf,aAAwB,SAASC,EAAK1uB,GACpC,IAAI2uB,EAAY,GAEhB9jC,OAAO+jC,KAAK5uB,GAAQ7O,SAAQ,SAASihB,GACjB,OAAdpS,EAAOoS,SAA6BzmB,IAAdqU,EAAOoS,IAC/Buc,EAAUp8B,KAAK6f,EAAI,IAAMyc,mBAAmB7uB,EAAOoS,QAGvD,IAAI0c,EAAKH,EAAU1/B,KAAK,KAKxB,OAHAy/B,EAAMA,EAAIxhC,QAAQ,QAAS,IAE3BwhC,GAA4B,IAAtBA,EAAIxY,QAAQ,KAAcwY,EAAM,IAAMA,EAAM,IAC3CA,EAAMI,IAEA,U,wPC1BA,SAASC,EAAQC,GAG9B,OAAOD,EAAU,mBAAqBt8B,QAAU,iBAAmBA,OAAOw8B,SAAW,SAAUD,GAC7F,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAO,mBAAqBv8B,QAAUu8B,EAAItb,cAAgBjhB,QAAUu8B,IAAQv8B,OAAO3D,UAAY,gBAAkBkgC,GACvHD,EAAQC,GCNE,SAASE;;AAEtBA,EAAsB,WACpB,OAAO/jC,GAET,IAAIA,EAAU,GACZgkC,EAAKtkC,OAAOiE,UACZ09B,EAAS2C,EAAGC,eACZ/C,EAAiBxhC,OAAOwhC,gBAAkB,SAAU2C,EAAKhgC,EAAKqgC,GAC5DL,EAAIhgC,GAAOqgC,EAAKj+B,OAElBk+B,EAAU,mBAAqB78B,OAASA,OAAS,GACjD88B,EAAiBD,EAAQL,UAAY,aACrCO,EAAsBF,EAAQG,eAAiB,kBAC/CC,EAAoBJ,EAAQK,aAAe,gBAC7C,SAASC,EAAOZ,EAAKhgC,EAAKoC,GACxB,OAAOvG,OAAOwhC,eAAe2C,EAAKhgC,EAAK,CACrCoC,MAAOA,EACPy+B,YAAY,EACZ9tB,cAAc,EACd+tB,UAAU,IACRd,EAAIhgC,GAEV,IACE4gC,EAAO,GAAI,IACX,MAAOtuB,GACPsuB,EAAS,SAAgBZ,EAAKhgC,EAAKoC,GACjC,OAAO49B,EAAIhgC,GAAOoC,GAGtB,SAAS2+B,EAAKC,EAASC,EAAS/uB,EAAMgvB,GACpC,IAAIC,EAAiBF,GAAWA,EAAQnhC,qBAAqBshC,EAAYH,EAAUG,EACjFC,EAAYxlC,OAAOylC,OAAOH,EAAerhC,WACzCjC,EAAU,IAAI0jC,EAAQL,GAAe,IACvC,OAAO7D,EAAegE,EAAW,UAAW,CAC1Cj/B,MAAOo/B,EAAiBR,EAAS9uB,EAAMrU,KACrCwjC,EAEN,SAASI,EAASxvB,EAAI+tB,EAAK97B,GACzB,IACE,MAAO,CACLU,KAAM,SACNV,IAAK+N,EAAGjT,KAAKghC,EAAK97B,IAEpB,MAAOoO,GACP,MAAO,CACL1N,KAAM,QACNV,IAAKoO,IAIXnW,EAAQ4kC,KAAOA,EACf,IAAIW,EAAmB,GACvB,SAASN,KACT,SAASO,KACT,SAASC,KACT,IAAIC,EAAoB,GACxBjB,EAAOiB,EAAmBtB,GAAgB,WACxC,OAAO9jC,QAET,IAAIqlC,EAAWjmC,OAAO+W,eACpBmvB,EAA0BD,GAAYA,EAASA,EAASE,EAAO,MACjED,GAA2BA,IAA4B5B,GAAM3C,EAAOx+B,KAAK+iC,EAAyBxB,KAAoBsB,EAAoBE,GAC1I,IAAIE,EAAKL,EAA2B9hC,UAAYshC,EAAUthC,UAAYjE,OAAOylC,OAAOO,GACpF,SAASK,EAAsBpiC,GAC7B,CAAC,OAAQ,QAAS,UAAUqC,SAAQ,SAAUggC,GAC5CvB,EAAO9gC,EAAWqiC,GAAQ,SAAUj+B,GAClC,OAAOzH,KAAK2lC,QAAQD,EAAQj+B,SAIlC,SAASm+B,EAAchB,EAAWiB,GAChC,SAASC,EAAOJ,EAAQj+B,EAAKuN,EAASC,GACpC,IAAI8wB,EAASf,EAASJ,EAAUc,GAASd,EAAWn9B,GACpD,GAAI,UAAYs+B,EAAO59B,KAAM,CAC3B,IAAI0e,EAASkf,EAAOt+B,IAClB9B,EAAQkhB,EAAOlhB,MACjB,OAAOA,GAAS,UAAY29B,EAAQ39B,IAAUo7B,EAAOx+B,KAAKoD,EAAO,WAAakgC,EAAY7wB,QAAQrP,EAAMqgC,SAAS1wB,MAAK,SAAU3P,GAC9HmgC,EAAO,OAAQngC,EAAOqP,EAASC,MAC9B,SAAUY,GACXiwB,EAAO,QAASjwB,EAAKb,EAASC,MAC3B4wB,EAAY7wB,QAAQrP,GAAO2P,MAAK,SAAU2wB,GAC7Cpf,EAAOlhB,MAAQsgC,EAAWjxB,EAAQ6R,MACjC,SAAUrnB,GACX,OAAOsmC,EAAO,QAAStmC,EAAOwV,EAASC,MAG3CA,EAAO8wB,EAAOt+B,KAEhB,IAAIy+B,EACJtF,EAAe5gC,KAAM,UAAW,CAC9B2F,MAAO,SAAe+/B,EAAQj+B,GAC5B,SAAS0+B,IACP,OAAO,IAAIN,GAAY,SAAU7wB,EAASC,GACxC6wB,EAAOJ,EAAQj+B,EAAKuN,EAASC,MAGjC,OAAOixB,EAAkBA,EAAkBA,EAAgB5wB,KAAK6wB,EAA4BA,GAA8BA,OAIhI,SAASpB,EAAiBR,EAAS9uB,EAAMrU,GACvC,IAAImW,EAAQ,iBACZ,OAAO,SAAUmuB,EAAQj+B,GACvB,GAAI,cAAgB8P,EAAO,MAAM,IAAIhQ,MAAM,gCAC3C,GAAI,cAAgBgQ,EAAO,CACzB,GAAI,UAAYmuB,EAAQ,MAAMj+B,EAC9B,OAAO2+B,IAET,IAAKhlC,EAAQskC,OAASA,EAAQtkC,EAAQqG,IAAMA,IAAO,CACjD,IAAI4+B,EAAWjlC,EAAQilC,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUjlC,GACnD,GAAIklC,EAAgB,CAClB,GAAIA,IAAmBrB,EAAkB,SACzC,OAAOqB,GAGX,GAAI,SAAWllC,EAAQskC,OAAQtkC,EAAQolC,KAAOplC,EAAQqlC,MAAQrlC,EAAQqG,SAAS,GAAI,UAAYrG,EAAQskC,OAAQ,CAC7G,GAAI,mBAAqBnuB,EAAO,MAAMA,EAAQ,YAAanW,EAAQqG,IACnErG,EAAQslC,kBAAkBtlC,EAAQqG,SAC7B,WAAarG,EAAQskC,QAAUtkC,EAAQulC,OAAO,SAAUvlC,EAAQqG,KACvE8P,EAAQ,YACR,IAAIwuB,EAASf,EAAST,EAAS9uB,EAAMrU,GACrC,GAAI,WAAa2kC,EAAO59B,KAAM,CAC5B,GAAIoP,EAAQnW,EAAQiP,KAAO,YAAc,iBAAkB01B,EAAOt+B,MAAQw9B,EAAkB,SAC5F,MAAO,CACLt/B,MAAOogC,EAAOt+B,IACd4I,KAAMjP,EAAQiP,MAGlB,UAAY01B,EAAO59B,OAASoP,EAAQ,YAAanW,EAAQskC,OAAS,QAAStkC,EAAQqG,IAAMs+B,EAAOt+B,OAItG,SAAS8+B,EAAoBF,EAAUjlC,GACrC,IAAIskC,EAASW,EAAS7C,SAASpiC,EAAQskC,QACvC,QAAIxlC,IAAcwlC,EAAQ,CACxB,GAAItkC,EAAQilC,SAAW,KAAM,UAAYjlC,EAAQskC,OAAQ,CACvD,GAAIW,EAAS7C,SAAS,YAAcpiC,EAAQskC,OAAS,SAAUtkC,EAAQqG,SAAMvH,EAAWqmC,EAAoBF,EAAUjlC,GAAU,UAAYA,EAAQskC,QAAS,OAAOT,EACpK7jC,EAAQskC,OAAS,QAAStkC,EAAQqG,IAAM,IAAIs7B,UAAU,kDAExD,OAAOkC,EAET,IAAIc,EAASf,EAASU,EAAQW,EAAS7C,SAAUpiC,EAAQqG,KACzD,GAAI,UAAYs+B,EAAO59B,KAAM,OAAO/G,EAAQskC,OAAS,QAAStkC,EAAQqG,IAAMs+B,EAAOt+B,IAAKrG,EAAQilC,SAAW,KAAMpB,EACjH,IAAI7vB,EAAO2wB,EAAOt+B,IAClB,OAAO2N,EAAOA,EAAK/E,MAAQjP,EAAQilC,EAASO,YAAcxxB,EAAKzP,MAAOvE,EAAQylC,KAAOR,EAASS,QAAS,WAAa1lC,EAAQskC,SAAWtkC,EAAQskC,OAAS,OAAQtkC,EAAQqG,SAAMvH,GAAYkB,EAAQilC,SAAW,KAAMpB,GAAoB7vB,GAAQhU,EAAQskC,OAAS,QAAStkC,EAAQqG,IAAM,IAAIs7B,UAAU,oCAAqC3hC,EAAQilC,SAAW,KAAMpB,GAErW,SAAS8B,EAAaC,GACpB,IAAIC,EAAQ,CACVC,OAAQF,EAAK,IAEf,KAAKA,IAASC,EAAME,SAAWH,EAAK,IAAK,KAAKA,IAASC,EAAMG,WAAaJ,EAAK,GAAIC,EAAMI,SAAWL,EAAK,IAAKhnC,KAAKsnC,WAAWxgC,KAAKmgC,GAErI,SAASM,EAAcN,GACrB,IAAIlB,EAASkB,EAAMO,YAAc,GACjCzB,EAAO59B,KAAO,gBAAiB49B,EAAOt+B,IAAKw/B,EAAMO,WAAazB,EAEhE,SAASjB,EAAQL,GACfzkC,KAAKsnC,WAAa,CAAC,CACjBJ,OAAQ,SACNzC,EAAY/+B,QAAQqhC,EAAc/mC,MAAOA,KAAKynC,OAAM,GAE1D,SAASlC,EAAOmC,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAAS5D,GAC9B,GAAI6D,EAAgB,OAAOA,EAAeplC,KAAKmlC,GAC/C,GAAI,mBAAqBA,EAASb,KAAM,OAAOa,EAC/C,IAAKE,MAAMF,EAASvlC,QAAS,CAC3B,IAAIgC,GAAK,EACP0iC,EAAO,SAASA,IACd,OAAS1iC,EAAIujC,EAASvlC,QACpB,GAAI4+B,EAAOx+B,KAAKmlC,EAAUvjC,GAAI,OAAO0iC,EAAKlhC,MAAQ+hC,EAASvjC,GAAI0iC,EAAKx2B,MAAO,EAAIw2B,EAEjF,OAAOA,EAAKlhC,WAAQzF,EAAW2mC,EAAKx2B,MAAO,EAAIw2B,GAEnD,OAAOA,EAAKA,KAAOA,GAGvB,MAAO,CACLA,KAAMT,GAGV,SAASA,IACP,MAAO,CACLzgC,WAAOzF,EACPmQ,MAAM,GAGV,OAAO60B,EAAkB7hC,UAAY8hC,EAA4BvE,EAAe4E,EAAI,cAAe,CACjG7/B,MAAOw/B,EACP7uB,cAAc,IACZsqB,EAAeuE,EAA4B,cAAe,CAC5Dx/B,MAAOu/B,EACP5uB,cAAc,IACZ4uB,EAAkB2C,YAAc1D,EAAOgB,EAA4BlB,EAAmB,qBAAsBvkC,EAAQooC,oBAAsB,SAAUC,GACtJ,IAAItW,EAAO,mBAAqBsW,GAAUA,EAAO9f,YACjD,QAASwJ,IAASA,IAASyT,GAAqB,uBAAyBzT,EAAKoW,aAAepW,EAAKuW,QACjGtoC,EAAQuoC,KAAO,SAAUF,GAC1B,OAAO3oC,OAAOwV,eAAiBxV,OAAOwV,eAAemzB,EAAQ5C,IAA+B4C,EAAOG,UAAY/C,EAA4BhB,EAAO4D,EAAQ9D,EAAmB,sBAAuB8D,EAAO1kC,UAAYjE,OAAOylC,OAAOW,GAAKuC,GACzOroC,EAAQyoC,MAAQ,SAAU1gC,GAC3B,MAAO,CACLu+B,QAASv+B,IAEVg+B,EAAsBG,EAAcviC,WAAY8gC,EAAOyB,EAAcviC,UAAW0gC,GAAqB,WACtG,OAAO/jC,QACLN,EAAQkmC,cAAgBA,EAAelmC,EAAQ0oC,MAAQ,SAAU7D,EAASC,EAAS/uB,EAAMgvB,EAAaoB,QACxG,IAAWA,IAAgBA,EAAcxwB,SACzC,IAAIgzB,EAAO,IAAIzC,EAActB,EAAKC,EAASC,EAAS/uB,EAAMgvB,GAAcoB,GACxE,OAAOnmC,EAAQooC,oBAAoBtD,GAAW6D,EAAOA,EAAKxB,OAAOvxB,MAAK,SAAUuR,GAC9E,OAAOA,EAAOxW,KAAOwW,EAAOlhB,MAAQ0iC,EAAKxB,WAE1CpB,EAAsBD,GAAKrB,EAAOqB,EAAIvB,EAAmB,aAAcE,EAAOqB,EAAI1B,GAAgB,WACnG,OAAO9jC,QACLmkC,EAAOqB,EAAI,YAAY,WACzB,MAAO,wBACL9lC,EAAQyjC,KAAO,SAAUmF,GAC3B,IAAIC,EAASnpC,OAAOkpC,GAClBnF,EAAO,GACT,IAAK,IAAI5/B,KAAOglC,EACdpF,EAAKr8B,KAAKvD,GAEZ,OAAO4/B,EAAKqF,UAAW,SAAS3B,IAC9B,KAAO1D,EAAKhhC,QAAS,CACnB,IAAIoB,EAAM4/B,EAAK7yB,MACf,GAAI/M,KAAOglC,EAAQ,OAAO1B,EAAKlhC,MAAQpC,EAAKsjC,EAAKx2B,MAAO,EAAIw2B,EAE9D,OAAOA,EAAKx2B,MAAO,EAAIw2B,IAExBnnC,EAAQ6lC,OAASA,EAAQT,EAAQzhC,UAAY,CAC9C4kB,YAAa6c,EACb2C,MAAO,SAAegB,GACpB,GAAIzoC,KAAK0oC,KAAO,EAAG1oC,KAAK6mC,KAAO,EAAG7mC,KAAKwmC,KAAOxmC,KAAKymC,WAAQvmC,EAAWF,KAAKqQ,MAAO,EAAIrQ,KAAKqmC,SAAW,KAAMrmC,KAAK0lC,OAAS,OAAQ1lC,KAAKyH,SAAMvH,EAAWF,KAAKsnC,WAAW5hC,QAAQ6hC,IAAiBkB,EAAe,IAAK,IAAIT,KAAQhoC,KAC/N,MAAQgoC,EAAK7X,OAAO,IAAM4Q,EAAOx+B,KAAKvC,KAAMgoC,KAAUJ,OAAOI,EAAK14B,MAAM,MAAQtP,KAAKgoC,QAAQ9nC,IAGjGyoC,KAAM,WACJ3oC,KAAKqQ,MAAO,EACZ,IAAIu4B,EAAa5oC,KAAKsnC,WAAW,GAAGE,WACpC,GAAI,UAAYoB,EAAWzgC,KAAM,MAAMygC,EAAWnhC,IAClD,OAAOzH,KAAK6oC,MAEdnC,kBAAmB,SAA2BoC,GAC5C,GAAI9oC,KAAKqQ,KAAM,MAAMy4B,EACrB,IAAI1nC,EAAUpB,KACd,SAAS+oC,EAAOC,EAAKC,GACnB,OAAOlD,EAAO59B,KAAO,QAAS49B,EAAOt+B,IAAMqhC,EAAW1nC,EAAQylC,KAAOmC,EAAKC,IAAW7nC,EAAQskC,OAAS,OAAQtkC,EAAQqG,SAAMvH,KAAc+oC,EAE5I,IAAK,IAAI9kC,EAAInE,KAAKsnC,WAAWnlC,OAAS,EAAGgC,GAAK,IAAKA,EAAG,CACpD,IAAI8iC,EAAQjnC,KAAKsnC,WAAWnjC,GAC1B4hC,EAASkB,EAAMO,WACjB,GAAI,SAAWP,EAAMC,OAAQ,OAAO6B,EAAO,OAC3C,GAAI9B,EAAMC,QAAUlnC,KAAK0oC,KAAM,CAC7B,IAAIQ,EAAWnI,EAAOx+B,KAAK0kC,EAAO,YAChCkC,EAAapI,EAAOx+B,KAAK0kC,EAAO,cAClC,GAAIiC,GAAYC,EAAY,CAC1B,GAAInpC,KAAK0oC,KAAOzB,EAAME,SAAU,OAAO4B,EAAO9B,EAAME,UAAU,GAC9D,GAAInnC,KAAK0oC,KAAOzB,EAAMG,WAAY,OAAO2B,EAAO9B,EAAMG,iBACjD,GAAI8B,GACT,GAAIlpC,KAAK0oC,KAAOzB,EAAME,SAAU,OAAO4B,EAAO9B,EAAME,UAAU,OACzD,CACL,IAAKgC,EAAY,MAAM,IAAI5hC,MAAM,0CACjC,GAAIvH,KAAK0oC,KAAOzB,EAAMG,WAAY,OAAO2B,EAAO9B,EAAMG,gBAK9DT,OAAQ,SAAgBx+B,EAAMV,GAC5B,IAAK,IAAItD,EAAInE,KAAKsnC,WAAWnlC,OAAS,EAAGgC,GAAK,IAAKA,EAAG,CACpD,IAAI8iC,EAAQjnC,KAAKsnC,WAAWnjC,GAC5B,GAAI8iC,EAAMC,QAAUlnC,KAAK0oC,MAAQ3H,EAAOx+B,KAAK0kC,EAAO,eAAiBjnC,KAAK0oC,KAAOzB,EAAMG,WAAY,CACjG,IAAIgC,EAAenC,EACnB,OAGJmC,IAAiB,UAAYjhC,GAAQ,aAAeA,IAASihC,EAAalC,QAAUz/B,GAAOA,GAAO2hC,EAAahC,aAAegC,EAAe,MAC7I,IAAIrD,EAASqD,EAAeA,EAAa5B,WAAa,GACtD,OAAOzB,EAAO59B,KAAOA,EAAM49B,EAAOt+B,IAAMA,EAAK2hC,GAAgBppC,KAAK0lC,OAAS,OAAQ1lC,KAAK6mC,KAAOuC,EAAahC,WAAYnC,GAAoBjlC,KAAKqpC,SAAStD,IAE5JsD,SAAU,SAAkBtD,EAAQsB,GAClC,GAAI,UAAYtB,EAAO59B,KAAM,MAAM49B,EAAOt+B,IAC1C,MAAO,UAAYs+B,EAAO59B,MAAQ,aAAe49B,EAAO59B,KAAOnI,KAAK6mC,KAAOd,EAAOt+B,IAAM,WAAas+B,EAAO59B,MAAQnI,KAAK6oC,KAAO7oC,KAAKyH,IAAMs+B,EAAOt+B,IAAKzH,KAAK0lC,OAAS,SAAU1lC,KAAK6mC,KAAO,OAAS,WAAad,EAAO59B,MAAQk/B,IAAarnC,KAAK6mC,KAAOQ,GAAWpC,GAEtQqE,OAAQ,SAAgBlC,GACtB,IAAK,IAAIjjC,EAAInE,KAAKsnC,WAAWnlC,OAAS,EAAGgC,GAAK,IAAKA,EAAG,CACpD,IAAI8iC,EAAQjnC,KAAKsnC,WAAWnjC,GAC5B,GAAI8iC,EAAMG,aAAeA,EAAY,OAAOpnC,KAAKqpC,SAASpC,EAAMO,WAAYP,EAAMI,UAAWE,EAAcN,GAAQhC,IAGvH,MAAS,SAAgBiC,GACvB,IAAK,IAAI/iC,EAAInE,KAAKsnC,WAAWnlC,OAAS,EAAGgC,GAAK,IAAKA,EAAG,CACpD,IAAI8iC,EAAQjnC,KAAKsnC,WAAWnjC,GAC5B,GAAI8iC,EAAMC,SAAWA,EAAQ,CAC3B,IAAInB,EAASkB,EAAMO,WACnB,GAAI,UAAYzB,EAAO59B,KAAM,CAC3B,IAAIohC,EAASxD,EAAOt+B,IACpB8/B,EAAcN,GAEhB,OAAOsC,GAGX,MAAM,IAAIhiC,MAAM,0BAElBiiC,cAAe,SAAuB9B,EAAUd,EAAYE,GAC1D,OAAO9mC,KAAKqmC,SAAW,CACrB7C,SAAU+B,EAAOmC,GACjBd,WAAYA,EACZE,QAASA,GACR,SAAW9mC,KAAK0lC,SAAW1lC,KAAKyH,SAAMvH,GAAY+kC,IAEtDvlC,I,qBCxTL,IAAIm/B,EAAwB,EAAQ,QAIpCA,EAAsB,a,kCCHtB,IAAIlqB,EAAI,EAAQ,QACZ80B,EAAO,EAAQ,QAAgCpnC,IAC/CqnC,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvD/0B,EAAE,CAAER,OAAQ,QAASqC,OAAO,EAAM2K,QAASwoB,GAAuB,CAChEtnC,IAAK,SAAaunC,GAChB,OAAOH,EAAKzpC,KAAM4pC,EAAYj0B,UAAUxT,OAAS,EAAIwT,UAAU,QAAKzV,O,qBCXxE,IAAIyU,EAAI,EAAQ,QACZzN,EAAS,EAAQ,QACjB0O,EAAQ,EAAQ,QAChBi0B,EAAgC,EAAQ,QAExCC,EAAe,cACfC,EAAc7iC,EAAO4iC,GAErBtiB,EAA4C,IAAnCjgB,MAAM,IAAK,CAAEo5B,MAAO,IAAKA,MAElCqJ,EAAgC,SAAUC,EAAYC,GACxD,IAAIzzB,EAAI,GACRA,EAAEwzB,GAAcJ,EAA8BI,EAAYC,EAAS1iB,GACnE7S,EAAE,CAAEzN,QAAQ,EAAM+gB,aAAa,EAAMX,MAAO,EAAGnG,OAAQqG,GAAU/Q,IAG/D0zB,EAAqC,SAAUF,EAAYC,GAC7D,GAAIH,GAAeA,EAAYE,GAAa,CAC1C,IAAIxzB,EAAI,GACRA,EAAEwzB,GAAcJ,EAA8BC,EAAe,IAAMG,EAAYC,EAAS1iB,GACxF7S,EAAE,CAAER,OAAQ21B,EAAcj1B,MAAM,EAAMoT,aAAa,EAAMX,MAAO,EAAGnG,OAAQqG,GAAU/Q,KAKzFuzB,EAA8B,SAAS,SAAUI,GAC/C,OAAO,SAAeC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAE5Dq0B,EAA8B,aAAa,SAAUI,GACnD,OAAO,SAAmBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAEhEq0B,EAA8B,cAAc,SAAUI,GACpD,OAAO,SAAoBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAEjEq0B,EAA8B,kBAAkB,SAAUI,GACxD,OAAO,SAAwBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAErEq0B,EAA8B,eAAe,SAAUI,GACrD,OAAO,SAAqBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAElEq0B,EAA8B,aAAa,SAAUI,GACnD,OAAO,SAAmBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAEhEq0B,EAA8B,YAAY,SAAUI,GAClD,OAAO,SAAkBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAE/Dw0B,EAAmC,gBAAgB,SAAUC,GAC3D,OAAO,SAAsBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAEnEw0B,EAAmC,aAAa,SAAUC,GACxD,OAAO,SAAmBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,eAEhEw0B,EAAmC,gBAAgB,SAAUC,GAC3D,OAAO,SAAsBC,GAAW,OAAOz0B,EAAMw0B,EAAMpqC,KAAM2V,gB,kCCrDnE,IAAIhB,EAAI,EAAQ,QACZzN,EAAS,EAAQ,QACjB3E,EAAO,EAAQ,QACf8E,EAAc,EAAQ,QACtBijC,EAAU,EAAQ,QAClBx0B,EAAc,EAAQ,QACtB/O,EAAgB,EAAQ,QACxBga,EAAQ,EAAQ,QAChBggB,EAAS,EAAQ,QACjBwJ,EAAgB,EAAQ,QACxBC,EAAW,EAAQ,QACnB1rC,EAAkB,EAAQ,QAC1B2rC,EAAgB,EAAQ,QACxBC,EAAY,EAAQ,QACpBpJ,EAA2B,EAAQ,QACnCqJ,EAAqB,EAAQ,QAC7BC,EAAa,EAAQ,QACrBC,EAA4B,EAAQ,QACpCC,EAA8B,EAAQ,QACtCvjB,EAA8B,EAAQ,QACtCwjB,EAAiC,EAAQ,QACzCC,EAAuB,EAAQ,QAC/BC,EAAyB,EAAQ,QACjCC,EAA6B,EAAQ,QACrCjkB,EAAgB,EAAQ,QACxB+Z,EAAS,EAAQ,QACjBmK,EAAY,EAAQ,QACpBC,EAAa,EAAQ,QACrBxP,EAAM,EAAQ,QACd5U,EAAkB,EAAQ,QAC1BqkB,EAA+B,EAAQ,QACvCxM,EAAwB,EAAQ,QAChCyM,EAA0B,EAAQ,QAClCnkC,EAAiB,EAAQ,QACzBokC,EAAsB,EAAQ,QAC9BC,EAAW,EAAQ,QAAgC9lC,QAEnD+lC,EAASN,EAAU,UACnBO,EAAS,SACTC,EAAY,YAEZC,EAAmBL,EAAoBh1B,IACvCs1B,EAAmBN,EAAoBO,UAAUJ,GAEjDt1B,EAAkBhX,OAAOusC,GACzB9H,EAAU38B,EAAOF,OACjBkgB,EAAkB2c,GAAWA,EAAQ8H,GACrC5I,EAAY77B,EAAO67B,UACnBgJ,EAAU7kC,EAAO6kC,QACjBC,EAAiCjB,EAA+B/rC,EAChEitC,EAAuBjB,EAAqBhsC,EAC5CktC,EAA4BpB,EAA4B9rC,EACxDmtC,EAA6BjB,EAA2BlsC,EACxD8H,EAAOO,EAAY,GAAGP,MAEtBslC,GAAapL,EAAO,WACpBqL,GAAyBrL,EAAO,cAChCsL,GAAwBtL,EAAO,OAG/BuL,IAAcR,IAAYA,EAAQJ,KAAeI,EAAQJ,GAAWa,UAGpEC,GAAsB32B,GAAeiL,GAAM,WAC7C,OAES,GAFF4pB,EAAmBsB,EAAqB,GAAI,IAAK,CACtD1mC,IAAK,WAAc,OAAO0mC,EAAqBjsC,KAAM,IAAK,CAAE2F,MAAO,IAAKs1B,MACtEA,KACD,SAAUxkB,EAAGi2B,EAAGC,GACnB,IAAIC,EAA4BZ,EAA+B51B,EAAiBs2B,GAC5EE,UAAkCx2B,EAAgBs2B,GACtDT,EAAqBx1B,EAAGi2B,EAAGC,GACvBC,GAA6Bn2B,IAAML,GACrC61B,EAAqB71B,EAAiBs2B,EAAGE,IAEzCX,EAEA3H,GAAO,SAAUuI,EAAKC,GACxB,IAAIzL,EAAS+K,GAAWS,GAAOlC,EAAmBzjB,GAOlD,OANA0kB,EAAiBvK,EAAQ,CACvBl5B,KAAMujC,EACNmB,IAAKA,EACLC,YAAaA,IAEVh3B,IAAaurB,EAAOyL,YAAcA,GAChCzL,GAGL0L,GAAkB,SAAwBt2B,EAAGi2B,EAAGC,GAC9Cl2B,IAAML,GAAiB22B,GAAgBV,GAAwBK,EAAGC,GACtEnC,EAAS/zB,GACT,IAAIlT,EAAMknC,EAAciC,GAExB,OADAlC,EAASmC,GACL5L,EAAOqL,GAAY7oC,IAChBopC,EAAWvI,YAIVrD,EAAOtqB,EAAGg1B,IAAWh1B,EAAEg1B,GAAQloC,KAAMkT,EAAEg1B,GAAQloC,IAAO,GAC1DopC,EAAahC,EAAmBgC,EAAY,CAAEvI,WAAY9C,EAAyB,GAAG,OAJjFP,EAAOtqB,EAAGg1B,IAASQ,EAAqBx1B,EAAGg1B,EAAQnK,EAAyB,EAAG,KACpF7qB,EAAEg1B,GAAQloC,IAAO,GAIVkpC,GAAoBh2B,EAAGlT,EAAKopC,IAC9BV,EAAqBx1B,EAAGlT,EAAKopC,IAGpCK,GAAoB,SAA0Bv2B,EAAGw2B,GACnDzC,EAAS/zB,GACT,IAAIy2B,EAAapuC,EAAgBmuC,GAC7B9J,EAAOyH,EAAWsC,GAAY1hC,OAAOkc,GAAuBwlB,IAIhE,OAHA1B,EAASrI,GAAM,SAAU5/B,GAClBuS,IAAevT,EAAK4qC,GAAuBD,EAAY3pC,IAAMwpC,GAAgBt2B,EAAGlT,EAAK2pC,EAAW3pC,OAEhGkT,GAGL22B,GAAU,SAAgB32B,EAAGw2B,GAC/B,YAAsB/sC,IAAf+sC,EAA2BtC,EAAmBl0B,GAAKu2B,GAAkBrC,EAAmBl0B,GAAIw2B,IAGjGE,GAAwB,SAA8BE,GACxD,IAAIX,EAAIjC,EAAc4C,GAClBjJ,EAAa7hC,EAAK4pC,EAA4BnsC,KAAM0sC,GACxD,QAAI1sC,OAASoW,GAAmB2qB,EAAOqL,GAAYM,KAAO3L,EAAOsL,GAAwBK,QAClFtI,IAAerD,EAAO/gC,KAAM0sC,KAAO3L,EAAOqL,GAAYM,IAAM3L,EAAO/gC,KAAMyrC,IAAWzrC,KAAKyrC,GAAQiB,KACpGtI,IAGFkJ,GAA4B,SAAkC72B,EAAGi2B,GACnE,IAAIntC,EAAKT,EAAgB2X,GACrBlT,EAAMknC,EAAciC,GACxB,GAAIntC,IAAO6W,IAAmB2qB,EAAOqL,GAAY7oC,IAASw9B,EAAOsL,GAAwB9oC,GAAzF,CACA,IAAIgqC,EAAavB,EAA+BzsC,EAAIgE,GAIpD,OAHIgqC,IAAcxM,EAAOqL,GAAY7oC,IAAUw9B,EAAOxhC,EAAIksC,IAAWlsC,EAAGksC,GAAQloC,KAC9EgqC,EAAWnJ,YAAa,GAEnBmJ,IAGLxuC,GAAuB,SAA6B0X,GACtD,IAAI+2B,EAAQtB,EAA0BptC,EAAgB2X,IAClDoQ,EAAS,GAIb,OAHA2kB,EAASgC,GAAO,SAAUjqC,GACnBw9B,EAAOqL,GAAY7oC,IAASw9B,EAAOqK,EAAY7nC,IAAMuD,EAAK+f,EAAQtjB,MAElEsjB,GAGLa,GAAyB,SAAUjR,GACrC,IAAIg3B,EAAsBh3B,IAAML,EAC5Bo3B,EAAQtB,EAA0BuB,EAAsBpB,GAAyBvtC,EAAgB2X,IACjGoQ,EAAS,GAMb,OALA2kB,EAASgC,GAAO,SAAUjqC,IACpBw9B,EAAOqL,GAAY7oC,IAAUkqC,IAAuB1M,EAAO3qB,EAAiB7S,IAC9EuD,EAAK+f,EAAQulB,GAAW7oC,OAGrBsjB,GAKJ9f,IACH88B,EAAU,WACR,GAAI0G,EAAcrjB,EAAiBlnB,MAAO,MAAM+iC,EAAU,+BAC1D,IAAI+J,EAAen3B,UAAUxT,aAA2BjC,IAAjByV,UAAU,GAA+B+0B,EAAU/0B,UAAU,SAAhCzV,EAChE2sC,EAAMjR,EAAIkR,GACVY,EAAS,SAAU/nC,GACjB3F,OAASoW,GAAiB7T,EAAKmrC,EAAQrB,GAAwB1mC,GAC/Do7B,EAAO/gC,KAAMyrC,IAAW1K,EAAO/gC,KAAKyrC,GAASoB,KAAM7sC,KAAKyrC,GAAQoB,IAAO,GAC3EJ,GAAoBzsC,KAAM6sC,EAAKvL,EAAyB,EAAG37B,KAG7D,OADImQ,GAAey2B,IAAYE,GAAoBr2B,EAAiBy2B,EAAK,CAAEv2B,cAAc,EAAMC,IAAKm3B,IAC7FpJ,GAAKuI,EAAKC,IAGnB5lB,EAAkB2c,EAAQ8H,GAE1B1kB,EAAcC,EAAiB,YAAY,WACzC,OAAO2kB,EAAiB7rC,MAAM6sC,OAGhC5lB,EAAc4c,EAAS,iBAAiB,SAAUiJ,GAChD,OAAOxI,GAAK1I,EAAIkR,GAAcA,MAGhC5B,EAA2BlsC,EAAImuC,GAC/BnC,EAAqBhsC,EAAI+tC,GACzB9B,EAAuBjsC,EAAIguC,GAC3BjC,EAA+B/rC,EAAIsuC,GACnCzC,EAA0B7rC,EAAI8rC,EAA4B9rC,EAAID,GAC9DwoB,EAA4BvoB,EAAI0oB,GAEhC2jB,EAA6BrsC,EAAI,SAAUgpC,GACzC,OAAO1D,GAAKtd,EAAgBghB,GAAOA,IAGjClyB,IAEFm2B,EAAqB/kB,EAAiB,cAAe,CACnD5Q,cAAc,EACd/Q,IAAK,WACH,OAAOsmC,EAAiB7rC,MAAM8sC,eAG7BxC,GACHrjB,EAAc7Q,EAAiB,uBAAwB+2B,GAAuB,CAAEQ,QAAQ,MAK9Fh5B,EAAE,CAAEzN,QAAQ,EAAM+gB,aAAa,EAAMqc,MAAM,EAAMnjB,QAASpa,EAAeqa,MAAOra,GAAiB,CAC/FC,OAAQ68B,IAGV2H,EAASZ,EAAW0B,KAAwB,SAAUtE,GACpDnJ,EAAsBmJ,MAGxBrzB,EAAE,CAAER,OAAQu3B,EAAQ72B,MAAM,EAAMsM,QAASpa,GAAiB,CACxD6mC,UAAW,WAAcrB,IAAa,GACtCsB,UAAW,WAActB,IAAa,KAGxC53B,EAAE,CAAER,OAAQ,SAAUU,MAAM,EAAMsM,QAASpa,EAAeqa,MAAOtL,GAAe,CAG9E+uB,OAAQuI,GAGRxM,eAAgBmM,GAGhBe,iBAAkBd,GAGlBe,yBAA0BT,KAG5B34B,EAAE,CAAER,OAAQ,SAAUU,MAAM,EAAMsM,QAASpa,GAAiB,CAG1D1H,oBAAqBN,KAKvBusC,IAIAnkC,EAAe08B,EAAS6H,GAExBN,EAAWK,IAAU,G,kCCxPrB,IAAI92B,EAAI,EAAQ,QACZmB,EAAc,EAAQ,QACtB5O,EAAS,EAAQ,QACjBG,EAAc,EAAQ,QACtB05B,EAAS,EAAQ,QACjBpZ,EAAa,EAAQ,QACrB4iB,EAAgB,EAAQ,QACxB9lB,EAAW,EAAQ,QACnBmc,EAAiB,EAAQ,QAAuC5hC,EAChEgvC,EAA4B,EAAQ,QAEpCC,EAAe/mC,EAAOF,OACtBkgB,EAAkB+mB,GAAgBA,EAAa5qC,UAEnD,GAAIyS,GAAe6R,EAAWsmB,OAAoB,gBAAiB/mB,SAElChnB,IAA/B+tC,IAAenB,aACd,CACD,IAAIoB,EAA8B,GAE9BC,EAAgB,WAClB,IAAIrB,EAAcn3B,UAAUxT,OAAS,QAAsBjC,IAAjByV,UAAU,QAAmBzV,EAAYukB,EAAS9O,UAAU,IAClGkR,EAAS0jB,EAAcrjB,EAAiBlnB,MACxC,IAAIiuC,EAAanB,QAED5sC,IAAhB4sC,EAA4BmB,IAAiBA,EAAanB,GAE9D,MADoB,KAAhBA,IAAoBoB,EAA4BrnB,IAAU,GACvDA,GAGTmnB,EAA0BG,EAAeF,GACzCE,EAAc9qC,UAAY6jB,EAC1BA,EAAgBe,YAAckmB,EAE9B,IAAIpnC,EAAgD,gBAAhCW,OAAOumC,EAAa,SACpCG,EAAkB/mC,EAAY6f,EAAgBC,SAC9CknB,EAA0BhnC,EAAY6f,EAAgBzC,UACtD6pB,EAAS,wBACT7sC,EAAU4F,EAAY,GAAG5F,SACzB8sC,EAAclnC,EAAY,GAAGiI,OAEjCsxB,EAAe1Z,EAAiB,cAAe,CAC7C5Q,cAAc,EACd/Q,IAAK,WACH,IAAI87B,EAAS+M,EAAgBpuC,MAC7B,GAAI+gC,EAAOmN,EAA6B7M,GAAS,MAAO,GACxD,IAAID,EAASiN,EAAwBhN,GACjCuC,EAAO78B,EAAgBwnC,EAAYnN,EAAQ,GAAI,GAAK3/B,EAAQ2/B,EAAQkN,EAAQ,MAChF,MAAgB,KAAT1K,OAAc1jC,EAAY0jC,KAIrCjvB,EAAE,CAAEzN,QAAQ,EAAM+gB,aAAa,EAAM9G,QAAQ,GAAQ,CACnDna,OAAQmnC,M,qBCxDZ,IAAIp7B,EAAO,EAAQ,QACfguB,EAAS,EAAQ,QACjBsK,EAA+B,EAAQ,QACvCzK,EAAiB,EAAQ,QAAuC5hC,EAEpES,EAAOC,QAAU,SAAU8uC,GACzB,IAAIxnC,EAAS+L,EAAK/L,SAAW+L,EAAK/L,OAAS,IACtC+5B,EAAO/5B,EAAQwnC,IAAO5N,EAAe55B,EAAQwnC,EAAM,CACtD7oC,MAAO0lC,EAA6BrsC,EAAEwvC,O,qBCR1C,IAAI/pB,EAAW,EAAQ,QAEvBhlB,EAAOC,QAAU,SAAU+uC,EAAUC,GACnC,YAAoBxuC,IAAbuuC,EAAyB94B,UAAUxT,OAAS,EAAI,GAAKusC,EAAWjqB,EAASgqB,K,qBCHlF,IAAIznB,EAAkB,EAAQ,QAE9BtnB,EAAQV,EAAIgoB,G,kCCDZ,IAAID,EAAa,EAAQ,QACrBga,EAAS,EAAQ,QACjBL,EAA8B,EAAQ,QACtC6J,EAAgB,EAAQ,QACxB31B,EAAiB,EAAQ,QACzBo5B,EAA4B,EAAQ,QACpCW,EAAgB,EAAQ,QACxBC,EAAoB,EAAQ,QAC5BC,EAA0B,EAAQ,QAClCC,EAAoB,EAAQ,QAC5BC,EAAkB,EAAQ,QAC1BC,EAA0B,EAAQ,QAClCl5B,EAAc,EAAQ,QACtBw0B,EAAU,EAAQ,QAEtB7qC,EAAOC,QAAU,SAAUuvC,EAAW/E,EAAS1iB,EAAQ0nB,GACrD,IAAIC,EAAoB,kBACpBC,EAAmBF,EAAqB,EAAI,EAC5Cn8B,EAAOk8B,EAAUI,MAAM,KACvBpF,EAAal3B,EAAKA,EAAK5Q,OAAS,GAChCmtC,EAAgBvoB,EAAWnR,MAAM,KAAM7C,GAE3C,GAAKu8B,EAAL,CAEA,IAAIC,EAAyBD,EAAcjsC,UAK3C,IAFKinC,GAAWvJ,EAAOwO,EAAwB,iBAAiBA,EAAuB5O,OAElFnZ,EAAQ,OAAO8nB,EAEpB,IAAIE,EAAYzoB,EAAW,SAEvB0oB,EAAevF,GAAQ,SAAUjP,EAAG5X,GACtC,IAAIgnB,EAAUwE,EAAwBK,EAAqB7rB,EAAI4X,OAAG/6B,GAC9D2mB,EAASqoB,EAAqB,IAAII,EAAcrU,GAAK,IAAIqU,EAK7D,YAJgBpvC,IAAZmqC,GAAuB3J,EAA4B7Z,EAAQ,UAAWwjB,GACtE2E,GAAyBtO,EAA4B7Z,EAAQ,QAASkoB,EAAgBloB,EAAOlf,MAAO,IACpG3H,MAAQuqC,EAAcgF,EAAwBvvC,OAAO4uC,EAAkB/nB,EAAQ7mB,KAAMyvC,GACrF95B,UAAUxT,OAASitC,GAAkBN,EAAkBjoB,EAAQlR,UAAUy5B,IACtEvoB,KAeT,GAZA4oB,EAAapsC,UAAYksC,EAEN,UAAftF,EACEr1B,EAAgBA,EAAe66B,EAAcD,GAC5CxB,EAA0ByB,EAAcD,EAAW,CAAExH,MAAM,IACvDlyB,GAAeq5B,KAAqBG,IAC7CX,EAAcc,EAAcH,EAAeH,GAC3CR,EAAcc,EAAcH,EAAe,sBAG7CtB,EAA0ByB,EAAcH,IAEnChF,EAAS,IAERiF,EAAuBvH,OAASiC,GAClCvJ,EAA4B6O,EAAwB,OAAQtF,GAE9DsF,EAAuBtnB,YAAcwnB,EACrC,MAAOjwC,IAET,OAAOiwC,K,qBChET,IAAI96B,EAAI,EAAQ,QACZoS,EAAa,EAAQ,QACrBnR,EAAQ,EAAQ,QAChBrT,EAAO,EAAQ,QACf8E,EAAc,EAAQ,QACtB0Z,EAAQ,EAAQ,QAChB2uB,EAAU,EAAQ,QAClB/nB,EAAa,EAAQ,QACrB3R,EAAW,EAAQ,QACnB4sB,EAAW,EAAQ,QACnB3jC,EAAa,EAAQ,QACrB8H,EAAgB,EAAQ,QAExB4oC,EAAa5oB,EAAW,OAAQ,aAChC6oB,EAAOvoC,EAAY,IAAIuoC,MACvBzf,EAAS9oB,EAAY,GAAG8oB,QACxB0f,EAAaxoC,EAAY,GAAGwoC,YAC5BpuC,EAAU4F,EAAY,GAAG5F,SACzBquC,EAAiBzoC,EAAY,GAAIod,UAEjCsrB,EAAS,mBACTC,EAAM,oBACNC,EAAK,oBAELC,GAA4BnpC,GAAiBga,GAAM,WACrD,IAAIsgB,EAASta,EAAW,SAAXA,GAEb,MAA+B,UAAxB4oB,EAAW,CAACtO,KAEe,MAA7BsO,EAAW,CAAE1U,EAAGoG,KAEc,MAA9BsO,EAAWvwC,OAAOiiC,OAIrB8O,EAAqBpvB,GAAM,WAC7B,MAAsC,qBAA/B4uB,EAAW,iBACY,cAAzBA,EAAW,aAGdS,EAA0B,SAAU7wC,EAAI8wC,GAC1C,IAAI36B,EAAOzW,EAAW0W,WAClB26B,EAAYD,EAChB,IAAKr6B,EAASq6B,SAAoBnwC,IAAPX,KAAoBqjC,EAASrjC,GAMxD,OALKmwC,EAAQW,KAAWA,EAAW,SAAU9sC,EAAKoC,GAEhD,GADIgiB,EAAW2oB,KAAY3qC,EAAQpD,EAAK+tC,EAAWtwC,KAAMuD,EAAKoC,KACzDi9B,EAASj9B,GAAQ,OAAOA,IAE/B+P,EAAK,GAAK26B,EACHz6B,EAAM+5B,EAAY,KAAMj6B,IAG7B66B,EAAe,SAAUrf,EAAOvQ,EAAQygB,GAC1C,IAAIsH,EAAOvY,EAAOiR,EAAQzgB,EAAS,GAC/BkmB,EAAO1W,EAAOiR,EAAQzgB,EAAS,GACnC,OAAKivB,EAAKI,EAAK9e,KAAW0e,EAAKK,EAAIpJ,IAAW+I,EAAKK,EAAI/e,KAAW0e,EAAKI,EAAKtH,GACnE,MAAQoH,EAAeD,EAAW3e,EAAO,GAAI,IAC7CA,GAGPye,GAGFh7B,EAAE,CAAER,OAAQ,OAAQU,MAAM,EAAMyS,MAAO,EAAGnG,OAAQ+uB,GAA4BC,GAAsB,CAElGK,UAAW,SAAmBjxC,EAAI8wC,EAAUI,GAC1C,IAAI/6B,EAAOzW,EAAW0W,WAClBkR,EAASjR,EAAMs6B,EAA2BE,EAA0BT,EAAY,KAAMj6B,GAC1F,OAAOy6B,GAAuC,iBAAVtpB,EAAqBplB,EAAQolB,EAAQkpB,EAAQQ,GAAgB1pB,M,qBCpEvG,IAAI6pB,EAAc,EAAQ,QACtB9P,EAAiB,EAAQ,QAE7BnhC,EAAOC,QAAU,SAAUyU,EAAQ6zB,EAAMuF,GAGvC,OAFIA,EAAWhoC,KAAKmrC,EAAYnD,EAAWhoC,IAAKyiC,EAAM,CAAE2I,QAAQ,IAC5DpD,EAAWh3B,KAAKm6B,EAAYnD,EAAWh3B,IAAKyxB,EAAM,CAAE0F,QAAQ,IACzD9M,EAAe5hC,EAAEmV,EAAQ6zB,EAAMuF,K,kCCLxC,IAAI54B,EAAI,EAAQ,QACZ+6B,EAAU,EAAQ,QAClBkB,EAAgB,EAAQ,QACxB56B,EAAW,EAAQ,QACnBqQ,EAAkB,EAAQ,QAC1BC,EAAoB,EAAQ,QAC5BxnB,EAAkB,EAAQ,QAC1BynB,EAAiB,EAAQ,QACzBS,EAAkB,EAAQ,QAC1B0iB,EAA+B,EAAQ,QACvCmH,EAAc,EAAQ,QAEtBlH,EAAsBD,EAA6B,SAEnDoH,EAAU9pB,EAAgB,WAC1BR,EAASC,MACTC,EAAM1b,KAAK0b,IAKf/R,EAAE,CAAER,OAAQ,QAASqC,OAAO,EAAM2K,QAASwoB,GAAuB,CAChEr6B,MAAO,SAAeG,EAAOqC,GAC3B,IAKI5G,EAAa2b,EAAQC,EALrBrQ,EAAI3X,EAAgBkB,MACpBmC,EAASmkB,EAAkB7P,GAC3BkQ,EAAIN,EAAgB5W,EAAOtN,GAC3BykB,EAAMP,OAAwBnmB,IAAR4R,EAAoB3P,EAAS2P,EAAK3P,GAG5D,GAAIutC,EAAQj5B,KACVvL,EAAcuL,EAAEwR,YAEZ2oB,EAAc1lC,KAAiBA,IAAgBsb,GAAUkpB,EAAQxkC,EAAY7H,YAC/E6H,OAAchL,EACL8V,EAAS9K,KAClBA,EAAcA,EAAY4lC,GACN,OAAhB5lC,IAAsBA,OAAchL,IAEtCgL,IAAgBsb,QAA0BtmB,IAAhBgL,GAC5B,OAAO2lC,EAAYp6B,EAAGkQ,EAAGC,GAI7B,IADAC,EAAS,SAAqB3mB,IAAhBgL,EAA4Bsb,EAAStb,GAAawb,EAAIE,EAAMD,EAAG,IACxEG,EAAI,EAAGH,EAAIC,EAAKD,IAAKG,IAASH,KAAKlQ,GAAG8P,EAAeM,EAAQC,EAAGrQ,EAAEkQ,IAEvE,OADAE,EAAO1kB,OAAS2kB,EACTD","file":"js/chunk-2c7451a9.3354677b.js","sourcesContent":["/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar classof = require('../internals/classof-raw');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar arraySlice = require('../internals/array-slice-simple');\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return arraySlice(windowNames);\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && classof(it) == 'Window'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","/**\n * Request encoding. One of 'KVP', 'REST'.\n * @enum {string}\n */\nvar _ol_source_WMTSRequestEncoding_ = {\n  KVP: 'KVP',  // see spec 8\n  REST: 'REST' // see spec 10\n};\n\nexport default _ol_source_WMTSRequestEncoding_;\n","import _ol_ from '../index.js';\nimport _ol_TileUrlFunction_ from '../tileurlfunction.js';\nimport _ol_array_ from '../array.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_obj_ from '../obj.js';\nimport _ol_proj_ from '../proj.js';\nimport _ol_source_TileImage_ from '../source/tileimage.js';\nimport _ol_source_WMTSRequestEncoding_ from '../source/wmtsrequestencoding.js';\nimport _ol_tilegrid_WMTS_ from '../tilegrid/wmts.js';\nimport _ol_uri_ from '../uri.js';\n\n/**\n * @classdesc\n * Layer source for tile data from WMTS servers.\n *\n * @constructor\n * @extends {ol.source.TileImage}\n * @param {olx.source.WMTSOptions} options WMTS options.\n * @api\n */\nvar _ol_source_WMTS_ = function(options) {\n\n  // TODO: add support for TileMatrixLimits\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.version_ = options.version !== undefined ? options.version : '1.0.0';\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.format_ = options.format !== undefined ? options.format : 'image/jpeg';\n\n  /**\n   * @private\n   * @type {!Object}\n   */\n  this.dimensions_ = options.dimensions !== undefined ? options.dimensions : {};\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.layer_ = options.layer;\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.matrixSet_ = options.matrixSet;\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.style_ = options.style;\n\n  var urls = options.urls;\n  if (urls === undefined && options.url !== undefined) {\n    urls = _ol_TileUrlFunction_.expandUrl(options.url);\n  }\n\n  // FIXME: should we guess this requestEncoding from options.url(s)\n  //        structure? that would mean KVP only if a template is not provided.\n\n  /**\n   * @private\n   * @type {ol.source.WMTSRequestEncoding}\n   */\n  this.requestEncoding_ = options.requestEncoding !== undefined ?\n    /** @type {ol.source.WMTSRequestEncoding} */ (options.requestEncoding) :\n    _ol_source_WMTSRequestEncoding_.KVP;\n\n  var requestEncoding = this.requestEncoding_;\n\n  // FIXME: should we create a default tileGrid?\n  // we could issue a getCapabilities xhr to retrieve missing configuration\n  var tileGrid = options.tileGrid;\n\n  // context property names are lower case to allow for a case insensitive\n  // replacement as some services use different naming conventions\n  var context = {\n    'layer': this.layer_,\n    'style': this.style_,\n    'tilematrixset': this.matrixSet_\n  };\n\n  if (requestEncoding == _ol_source_WMTSRequestEncoding_.KVP) {\n    _ol_obj_.assign(context, {\n      'Service': 'WMTS',\n      'Request': 'GetTile',\n      'Version': this.version_,\n      'Format': this.format_\n    });\n  }\n\n  var dimensions = this.dimensions_;\n\n  /**\n   * @param {string} template Template.\n   * @return {ol.TileUrlFunctionType} Tile URL function.\n   * @private\n   */\n  this.createFromWMTSTemplate_ = function(template) {\n\n    // TODO: we may want to create our own appendParams function so that params\n    // order conforms to wmts spec guidance, and so that we can avoid to escape\n    // special template params\n\n    template = (requestEncoding == _ol_source_WMTSRequestEncoding_.KVP) ?\n      _ol_uri_.appendParams(template, context) :\n      template.replace(/\\{(\\w+?)\\}/g, function(m, p) {\n        return (p.toLowerCase() in context) ? context[p.toLowerCase()] : m;\n      });\n\n    return (\n      /**\n       * @param {ol.TileCoord} tileCoord Tile coordinate.\n       * @param {number} pixelRatio Pixel ratio.\n       * @param {ol.proj.Projection} projection Projection.\n       * @return {string|undefined} Tile URL.\n       */\n      function(tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n          return undefined;\n        } else {\n          var localContext = {\n            'TileMatrix': tileGrid.getMatrixId(tileCoord[0]),\n            'TileCol': tileCoord[1],\n            'TileRow': -tileCoord[2] - 1\n          };\n          _ol_obj_.assign(localContext, dimensions);\n          var url = template;\n          if (requestEncoding == _ol_source_WMTSRequestEncoding_.KVP) {\n            url = _ol_uri_.appendParams(url, localContext);\n          } else {\n            url = url.replace(/\\{(\\w+?)\\}/g, function(m, p) {\n              return localContext[p];\n            });\n          }\n          return url;\n        }\n      }\n    );\n  };\n\n  var tileUrlFunction = (urls && urls.length > 0) ?\n    _ol_TileUrlFunction_.createFromTileUrlFunctions(\n        urls.map(this.createFromWMTSTemplate_)) :\n    _ol_TileUrlFunction_.nullTileUrlFunction;\n\n  _ol_source_TileImage_.call(this, {\n    attributions: options.attributions,\n    cacheSize: options.cacheSize,\n    crossOrigin: options.crossOrigin,\n    logo: options.logo,\n    projection: options.projection,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileClass: options.tileClass,\n    tileGrid: tileGrid,\n    tileLoadFunction: options.tileLoadFunction,\n    tilePixelRatio: options.tilePixelRatio,\n    tileUrlFunction: tileUrlFunction,\n    urls: urls,\n    wrapX: options.wrapX !== undefined ? options.wrapX : false,\n    transition: options.transition\n  });\n\n  this.setKey(this.getKeyForDimensions_());\n\n};\n\n_ol_.inherits(_ol_source_WMTS_, _ol_source_TileImage_);\n\n/**\n * Set the URLs to use for requests.\n * URLs may contain OCG conform URL Template Variables: {TileMatrix}, {TileRow}, {TileCol}.\n * @override\n */\n_ol_source_WMTS_.prototype.setUrls = function(urls) {\n  this.urls = urls;\n  var key = urls.join('\\n');\n  this.setTileUrlFunction(this.fixedTileUrlFunction ?\n    this.fixedTileUrlFunction.bind(this) :\n    _ol_TileUrlFunction_.createFromTileUrlFunctions(urls.map(this.createFromWMTSTemplate_.bind(this))), key);\n};\n\n/**\n * Get the dimensions, i.e. those passed to the constructor through the\n * \"dimensions\" option, and possibly updated using the updateDimensions\n * method.\n * @return {!Object} Dimensions.\n * @api\n */\n_ol_source_WMTS_.prototype.getDimensions = function() {\n  return this.dimensions_;\n};\n\n\n/**\n * Return the image format of the WMTS source.\n * @return {string} Format.\n * @api\n */\n_ol_source_WMTS_.prototype.getFormat = function() {\n  return this.format_;\n};\n\n\n/**\n * Return the layer of the WMTS source.\n * @return {string} Layer.\n * @api\n */\n_ol_source_WMTS_.prototype.getLayer = function() {\n  return this.layer_;\n};\n\n\n/**\n * Return the matrix set of the WMTS source.\n * @return {string} MatrixSet.\n * @api\n */\n_ol_source_WMTS_.prototype.getMatrixSet = function() {\n  return this.matrixSet_;\n};\n\n\n/**\n * Return the request encoding, either \"KVP\" or \"REST\".\n * @return {ol.source.WMTSRequestEncoding} Request encoding.\n * @api\n */\n_ol_source_WMTS_.prototype.getRequestEncoding = function() {\n  return this.requestEncoding_;\n};\n\n\n/**\n * Return the style of the WMTS source.\n * @return {string} Style.\n * @api\n */\n_ol_source_WMTS_.prototype.getStyle = function() {\n  return this.style_;\n};\n\n\n/**\n * Return the version of the WMTS source.\n * @return {string} Version.\n * @api\n */\n_ol_source_WMTS_.prototype.getVersion = function() {\n  return this.version_;\n};\n\n\n/**\n * @private\n * @return {string} The key for the current dimensions.\n */\n_ol_source_WMTS_.prototype.getKeyForDimensions_ = function() {\n  var i = 0;\n  var res = [];\n  for (var key in this.dimensions_) {\n    res[i++] = key + '-' + this.dimensions_[key];\n  }\n  return res.join('/');\n};\n\n\n/**\n * Update the dimensions.\n * @param {Object} dimensions Dimensions.\n * @api\n */\n_ol_source_WMTS_.prototype.updateDimensions = function(dimensions) {\n  _ol_obj_.assign(this.dimensions_, dimensions);\n  this.setKey(this.getKeyForDimensions_());\n};\n\n\n/**\n * Generate source options from a capabilities object.\n * @param {Object} wmtsCap An object representing the capabilities document.\n * @param {Object} config Configuration properties for the layer.  Defaults for\n *                  the layer will apply if not provided.\n *\n * Required config properties:\n *  - layer - {string} The layer identifier.\n *\n * Optional config properties:\n *  - matrixSet - {string} The matrix set identifier, required if there is\n *       more than one matrix set in the layer capabilities.\n *  - projection - {string} The desired CRS when no matrixSet is specified.\n *       eg: \"EPSG:3857\". If the desired projection is not available,\n *       an error is thrown.\n *  - requestEncoding - {string} url encoding format for the layer. Default is\n *       the first tile url format found in the GetCapabilities response.\n *  - style - {string} The name of the style\n *  - format - {string} Image format for the layer. Default is the first\n *       format returned in the GetCapabilities response.\n *  - crossOrigin - {string|null|undefined} Cross origin. Default is `undefined`.\n * @return {?olx.source.WMTSOptions} WMTS source options object or `null` if the layer was not found.\n * @api\n */\n_ol_source_WMTS_.optionsFromCapabilities = function(wmtsCap, config) {\n  var layers = wmtsCap['Contents']['Layer'];\n  var l = _ol_array_.find(layers, function(elt, index, array) {\n    return elt['Identifier'] == config['layer'];\n  });\n  if (l === null) {\n    return null;\n  }\n  var tileMatrixSets = wmtsCap['Contents']['TileMatrixSet'];\n  var idx, matrixSet, matrixLimits;\n  if (l['TileMatrixSetLink'].length > 1) {\n    if ('projection' in config) {\n      idx = _ol_array_.findIndex(l['TileMatrixSetLink'],\n          function(elt, index, array) {\n            var tileMatrixSet = _ol_array_.find(tileMatrixSets, function(el) {\n              return el['Identifier'] == elt['TileMatrixSet'];\n            });\n            var supportedCRS = tileMatrixSet['SupportedCRS'];\n            var proj1 = _ol_proj_.get(supportedCRS.replace(/urn:ogc:def:crs:(\\w+):(.*:)?(\\w+)$/, '$1:$3')) ||\n                _ol_proj_.get(supportedCRS);\n            var proj2 = _ol_proj_.get(config['projection']);\n            if (proj1 && proj2) {\n              return _ol_proj_.equivalent(proj1, proj2);\n            } else {\n              return supportedCRS == config['projection'];\n            }\n          });\n    } else {\n      idx = _ol_array_.findIndex(l['TileMatrixSetLink'],\n          function(elt, index, array) {\n            return elt['TileMatrixSet'] == config['matrixSet'];\n          });\n    }\n  } else {\n    idx = 0;\n  }\n  if (idx < 0) {\n    idx = 0;\n  }\n  matrixSet = /** @type {string} */\n    (l['TileMatrixSetLink'][idx]['TileMatrixSet']);\n  matrixLimits = /** @type {Array.<Object>} */\n    (l['TileMatrixSetLink'][idx]['TileMatrixSetLimits']);\n\n  var format = /** @type {string} */ (l['Format'][0]);\n  if ('format' in config) {\n    format = config['format'];\n  }\n  idx = _ol_array_.findIndex(l['Style'], function(elt, index, array) {\n    if ('style' in config) {\n      return elt['Title'] == config['style'];\n    } else {\n      return elt['isDefault'];\n    }\n  });\n  if (idx < 0) {\n    idx = 0;\n  }\n  var style = /** @type {string} */ (l['Style'][idx]['Identifier']);\n\n  var dimensions = {};\n  if ('Dimension' in l) {\n    l['Dimension'].forEach(function(elt, index, array) {\n      var key = elt['Identifier'];\n      var value = elt['Default'];\n      if (value === undefined) {\n        value = elt['Value'][0];\n      }\n      dimensions[key] = value;\n    });\n  }\n\n  var matrixSets = wmtsCap['Contents']['TileMatrixSet'];\n  var matrixSetObj = _ol_array_.find(matrixSets, function(elt, index, array) {\n    return elt['Identifier'] == matrixSet;\n  });\n\n  var projection;\n  var code = matrixSetObj['SupportedCRS'];\n  if (code) {\n    projection = _ol_proj_.get(code.replace(/urn:ogc:def:crs:(\\w+):(.*:)?(\\w+)$/, '$1:$3')) ||\n        _ol_proj_.get(code);\n  }\n  if ('projection' in config) {\n    var projConfig = _ol_proj_.get(config['projection']);\n    if (projConfig) {\n      if (!projection || _ol_proj_.equivalent(projConfig, projection)) {\n        projection = projConfig;\n      }\n    }\n  }\n\n  var wgs84BoundingBox = l['WGS84BoundingBox'];\n  var extent, wrapX;\n  if (wgs84BoundingBox !== undefined) {\n    var wgs84ProjectionExtent = _ol_proj_.get('EPSG:4326').getExtent();\n    wrapX = (wgs84BoundingBox[0] == wgs84ProjectionExtent[0] &&\n        wgs84BoundingBox[2] == wgs84ProjectionExtent[2]);\n    extent = _ol_proj_.transformExtent(\n        wgs84BoundingBox, 'EPSG:4326', projection);\n    var projectionExtent = projection.getExtent();\n    if (projectionExtent) {\n      // If possible, do a sanity check on the extent - it should never be\n      // bigger than the validity extent of the projection of a matrix set.\n      if (!_ol_extent_.containsExtent(projectionExtent, extent)) {\n        extent = undefined;\n      }\n    }\n  }\n\n  var tileGrid = _ol_tilegrid_WMTS_.createFromCapabilitiesMatrixSet(\n      matrixSetObj, extent, matrixLimits);\n\n  /** @type {!Array.<string>} */\n  var urls = [];\n  var requestEncoding = config['requestEncoding'];\n  requestEncoding = requestEncoding !== undefined ? requestEncoding : '';\n\n  if ('OperationsMetadata' in wmtsCap && 'GetTile' in wmtsCap['OperationsMetadata']) {\n    var gets = wmtsCap['OperationsMetadata']['GetTile']['DCP']['HTTP']['Get'];\n\n    for (var i = 0, ii = gets.length; i < ii; ++i) {\n      if (gets[i]['Constraint']) {\n        var constraint = _ol_array_.find(gets[i]['Constraint'], function(element) {\n          return element['name'] == 'GetEncoding';\n        });\n        var encodings = constraint['AllowedValues']['Value'];\n\n        if (requestEncoding === '') {\n          // requestEncoding not provided, use the first encoding from the list\n          requestEncoding = encodings[0];\n        }\n        if (requestEncoding === _ol_source_WMTSRequestEncoding_.KVP) {\n          if (_ol_array_.includes(encodings, _ol_source_WMTSRequestEncoding_.KVP)) {\n            urls.push(/** @type {string} */ (gets[i]['href']));\n          }\n        } else {\n          break;\n        }\n      } else if (gets[i]['href']) {\n        requestEncoding = _ol_source_WMTSRequestEncoding_.KVP;\n        urls.push(/** @type {string} */ (gets[i]['href']));\n      }\n    }\n  }\n  if (urls.length === 0) {\n    requestEncoding = _ol_source_WMTSRequestEncoding_.REST;\n    l['ResourceURL'].forEach(function(element) {\n      if (element['resourceType'] === 'tile') {\n        format = element['format'];\n        urls.push(/** @type {string} */ (element['template']));\n      }\n    });\n  }\n\n  return {\n    urls: urls,\n    layer: config['layer'],\n    matrixSet: matrixSet,\n    format: format,\n    projection: projection,\n    requestEncoding: requestEncoding,\n    tileGrid: tileGrid,\n    style: style,\n    dimensions: dimensions,\n    wrapX: wrapX,\n    crossOrigin: config['crossOrigin']\n  };\n};\nexport default _ol_source_WMTS_;\n","var NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\n/* eslint-disable es/no-symbol -- safe */\nmodule.exports = NATIVE_SYMBOL && !!Symbol['for'] && !!Symbol.keyFor;\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","import _ol_ from '../index.js';\nimport _ol_LayerType_ from '../layertype.js';\nimport _ol_layer_Layer_ from '../layer/layer.js';\n\n/**\n * @classdesc\n * Server-rendered images that are available for arbitrary extents and\n * resolutions.\n * Note that any property set in the options is set as a {@link ol.Object}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @constructor\n * @extends {ol.layer.Layer}\n * @fires ol.render.Event\n * @param {olx.layer.ImageOptions=} opt_options Layer options.\n * @api\n */\nvar _ol_layer_Image_ = function(opt_options) {\n  var options = opt_options ? opt_options : {};\n  _ol_layer_Layer_.call(this,  /** @type {olx.layer.LayerOptions} */ (options));\n\n  /**\n   * The layer type.\n   * @protected\n   * @type {ol.LayerType}\n   */\n  this.type = _ol_LayerType_.IMAGE;\n\n};\n\n_ol_.inherits(_ol_layer_Image_, _ol_layer_Layer_);\n\n\n/**\n * Return the associated {@link ol.source.Image source} of the image layer.\n * @function\n * @return {ol.source.Image} Source.\n * @api\n */\n_ol_layer_Image_.prototype.getSource;\nexport default _ol_layer_Image_;\n","/**\n * @enum {string}\n */\nvar _ol_interaction_DrawEventType_ = {\n  /**\n   * Triggered upon feature draw start\n   * @event ol.interaction.Draw.Event#drawstart\n   * @api\n   */\n  DRAWSTART: 'drawstart',\n  /**\n   * Triggered upon feature draw end\n   * @event ol.interaction.Draw.Event#drawend\n   * @api\n   */\n  DRAWEND: 'drawend'\n};\n\nexport default _ol_interaction_DrawEventType_;\n","import _ol_ from '../index.js';\nimport _ol_Feature_ from '../feature.js';\nimport _ol_MapBrowserEventType_ from '../mapbrowsereventtype.js';\nimport _ol_Object_ from '../object.js';\nimport _ol_coordinate_ from '../coordinate.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_Event_ from '../events/event.js';\nimport _ol_events_condition_ from '../events/condition.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_functions_ from '../functions.js';\nimport _ol_geom_Circle_ from '../geom/circle.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_geom_LineString_ from '../geom/linestring.js';\nimport _ol_geom_MultiLineString_ from '../geom/multilinestring.js';\nimport _ol_geom_MultiPoint_ from '../geom/multipoint.js';\nimport _ol_geom_MultiPolygon_ from '../geom/multipolygon.js';\nimport _ol_geom_Point_ from '../geom/point.js';\nimport _ol_geom_Polygon_ from '../geom/polygon.js';\nimport _ol_interaction_DrawEventType_ from '../interaction/draweventtype.js';\nimport _ol_interaction_Pointer_ from '../interaction/pointer.js';\nimport _ol_interaction_Property_ from '../interaction/property.js';\nimport _ol_layer_Vector_ from '../layer/vector.js';\nimport _ol_source_Vector_ from '../source/vector.js';\nimport _ol_style_Style_ from '../style/style.js';\n\n/**\n * @classdesc\n * Interaction for drawing feature geometries.\n *\n * @constructor\n * @extends {ol.interaction.Pointer}\n * @fires ol.interaction.Draw.Event\n * @param {olx.interaction.DrawOptions} options Options.\n * @api\n */\nvar _ol_interaction_Draw_ = function(options) {\n\n  _ol_interaction_Pointer_.call(this, {\n    handleDownEvent: _ol_interaction_Draw_.handleDownEvent_,\n    handleEvent: _ol_interaction_Draw_.handleEvent,\n    handleUpEvent: _ol_interaction_Draw_.handleUpEvent_\n  });\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.shouldHandle_ = false;\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.downPx_ = null;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.freehand_ = false;\n\n  /**\n   * Target source for drawn features.\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = options.source ? options.source : null;\n\n  /**\n   * Target collection for drawn features.\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features ? options.features : null;\n\n  /**\n   * Pixel distance for snapping.\n   * @type {number}\n   * @private\n   */\n  this.snapTolerance_ = options.snapTolerance ? options.snapTolerance : 12;\n\n  /**\n   * Geometry type.\n   * @type {ol.geom.GeometryType}\n   * @private\n   */\n  this.type_ = /** @type {ol.geom.GeometryType} */ (options.type);\n\n  /**\n   * Drawing mode (derived from geometry type.\n   * @type {ol.interaction.Draw.Mode_}\n   * @private\n   */\n  this.mode_ = _ol_interaction_Draw_.getMode_(this.type_);\n\n  /**\n   * Stop click, singleclick, and doubleclick events from firing during drawing.\n   * Default is `false`.\n   * @type {boolean}\n   * @private\n   */\n  this.stopClick_ = !!options.stopClick;\n\n  /**\n   * The number of points that must be drawn before a polygon ring or line\n   * string can be finished.  The default is 3 for polygon rings and 2 for\n   * line strings.\n   * @type {number}\n   * @private\n   */\n  this.minPoints_ = options.minPoints ?\n    options.minPoints :\n    (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON ? 3 : 2);\n\n  /**\n   * The number of points that can be drawn before a polygon ring or line string\n   * is finished. The default is no restriction.\n   * @type {number}\n   * @private\n   */\n  this.maxPoints_ = options.maxPoints ? options.maxPoints : Infinity;\n\n  /**\n   * A function to decide if a potential finish coordinate is permissible\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.finishCondition_ = options.finishCondition ? options.finishCondition : _ol_functions_.TRUE;\n\n  var geometryFunction = options.geometryFunction;\n  if (!geometryFunction) {\n    if (this.type_ === _ol_geom_GeometryType_.CIRCLE) {\n      /**\n       * @param {!Array.<ol.Coordinate>} coordinates\n       *     The coordinates.\n       * @param {ol.geom.SimpleGeometry=} opt_geometry Optional geometry.\n       * @return {ol.geom.SimpleGeometry} A geometry.\n       */\n      geometryFunction = function(coordinates, opt_geometry) {\n        var circle = opt_geometry ? /** @type {ol.geom.Circle} */ (opt_geometry) :\n          new _ol_geom_Circle_([NaN, NaN]);\n        var squaredLength = _ol_coordinate_.squaredDistance(\n            coordinates[0], coordinates[1]);\n        circle.setCenterAndRadius(coordinates[0], Math.sqrt(squaredLength));\n        return circle;\n      };\n    } else {\n      var Constructor;\n      var mode = this.mode_;\n      if (mode === _ol_interaction_Draw_.Mode_.POINT) {\n        Constructor = _ol_geom_Point_;\n      } else if (mode === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n        Constructor = _ol_geom_LineString_;\n      } else if (mode === _ol_interaction_Draw_.Mode_.POLYGON) {\n        Constructor = _ol_geom_Polygon_;\n      }\n      /**\n       * @param {!Array.<ol.Coordinate>} coordinates\n       *     The coordinates.\n       * @param {ol.geom.SimpleGeometry=} opt_geometry Optional geometry.\n       * @return {ol.geom.SimpleGeometry} A geometry.\n       */\n      geometryFunction = function(coordinates, opt_geometry) {\n        var geometry = opt_geometry;\n        if (geometry) {\n          if (mode === _ol_interaction_Draw_.Mode_.POLYGON) {\n            if (coordinates[0].length) {\n              // Add a closing coordinate to match the first\n              geometry.setCoordinates([coordinates[0].concat([coordinates[0][0]])]);\n            } else {\n              geometry.setCoordinates([]);\n            }\n          } else {\n            geometry.setCoordinates(coordinates);\n          }\n        } else {\n          geometry = new Constructor(coordinates);\n        }\n        return geometry;\n      };\n    }\n  }\n\n  /**\n   * @type {ol.DrawGeometryFunctionType}\n   * @private\n   */\n  this.geometryFunction_ = geometryFunction;\n\n  /**\n   * Finish coordinate for the feature (first point for polygons, last point for\n   * linestrings).\n   * @type {ol.Coordinate}\n   * @private\n   */\n  this.finishCoordinate_ = null;\n\n  /**\n   * Sketch feature.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchFeature_ = null;\n\n  /**\n   * Sketch point.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchPoint_ = null;\n\n  /**\n   * Sketch coordinates. Used when drawing a line or polygon.\n   * @type {ol.Coordinate|Array.<ol.Coordinate>|Array.<Array.<ol.Coordinate>>}\n   * @private\n   */\n  this.sketchCoords_ = null;\n\n  /**\n   * Sketch line. Used when drawing polygon.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchLine_ = null;\n\n  /**\n   * Sketch line coordinates. Used when drawing a polygon or circle.\n   * @type {Array.<ol.Coordinate>}\n   * @private\n   */\n  this.sketchLineCoords_ = null;\n\n  /**\n   * Squared tolerance for handling up events.  If the squared distance\n   * between a down and up event is greater than this tolerance, up events\n   * will not be handled.\n   * @type {number}\n   * @private\n   */\n  this.squaredClickTolerance_ = options.clickTolerance ?\n    options.clickTolerance * options.clickTolerance : 36;\n\n  /**\n   * Draw overlay where our sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.overlay_ = new _ol_layer_Vector_({\n    source: new _ol_source_Vector_({\n      useSpatialIndex: false,\n      wrapX: options.wrapX ? options.wrapX : false\n    }),\n    style: options.style ? options.style :\n      _ol_interaction_Draw_.getDefaultStyleFunction()\n  });\n\n  /**\n   * Name of the geometry attribute for newly created features.\n   * @type {string|undefined}\n   * @private\n   */\n  this.geometryName_ = options.geometryName;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.condition_ = options.condition ?\n    options.condition : _ol_events_condition_.noModifierKeys;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.freehandCondition_;\n  if (options.freehand) {\n    this.freehandCondition_ = _ol_events_condition_.always;\n  } else {\n    this.freehandCondition_ = options.freehandCondition ?\n      options.freehandCondition : _ol_events_condition_.shiftKeyOnly;\n  }\n\n  _ol_events_.listen(this,\n      _ol_Object_.getChangeEventType(_ol_interaction_Property_.ACTIVE),\n      this.updateState_, this);\n\n};\n\n_ol_.inherits(_ol_interaction_Draw_, _ol_interaction_Pointer_);\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\n_ol_interaction_Draw_.getDefaultStyleFunction = function() {\n  var styles = _ol_style_Style_.createDefaultEditing();\n  return function(feature, resolution) {\n    return styles[feature.getGeometry().getType()];\n  };\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_interaction_Draw_.prototype.setMap = function(map) {\n  _ol_interaction_Pointer_.prototype.setMap.call(this, map);\n  this.updateState_();\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may actually\n * draw or finish the drawing.\n * @param {ol.MapBrowserEvent} event Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ol.interaction.Draw}\n * @api\n */\n_ol_interaction_Draw_.handleEvent = function(event) {\n  this.freehand_ = this.mode_ !== _ol_interaction_Draw_.Mode_.POINT && this.freehandCondition_(event);\n  var pass = true;\n  if (this.freehand_ &&\n      event.type === _ol_MapBrowserEventType_.POINTERDRAG &&\n      this.sketchFeature_ !== null) {\n    this.addToDrawing_(event);\n    pass = false;\n  } else if (this.freehand_ &&\n      event.type === _ol_MapBrowserEventType_.POINTERDOWN) {\n    pass = false;\n  } else if (event.type === _ol_MapBrowserEventType_.POINTERMOVE) {\n    pass = this.handlePointerMove_(event);\n  } else if (event.type === _ol_MapBrowserEventType_.DBLCLICK) {\n    pass = false;\n  }\n  return _ol_interaction_Pointer_.handleEvent.call(this, event) && pass;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Start drag sequence?\n * @this {ol.interaction.Draw}\n * @private\n */\n_ol_interaction_Draw_.handleDownEvent_ = function(event) {\n  this.shouldHandle_ = !this.freehand_;\n\n  if (this.freehand_) {\n    this.downPx_ = event.pixel;\n    if (!this.finishCoordinate_) {\n      this.startDrawing_(event);\n    }\n    return true;\n  } else if (this.condition_(event)) {\n    this.downPx_ = event.pixel;\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Stop drag sequence?\n * @this {ol.interaction.Draw}\n * @private\n */\n_ol_interaction_Draw_.handleUpEvent_ = function(event) {\n  var pass = true;\n\n  this.handlePointerMove_(event);\n\n  var circleMode = this.mode_ === _ol_interaction_Draw_.Mode_.CIRCLE;\n\n  if (this.shouldHandle_) {\n    if (!this.finishCoordinate_) {\n      this.startDrawing_(event);\n      if (this.mode_ === _ol_interaction_Draw_.Mode_.POINT) {\n        this.finishDrawing();\n      }\n    } else if (this.freehand_ || circleMode) {\n      this.finishDrawing();\n    } else if (this.atFinish_(event)) {\n      if (this.finishCondition_(event)) {\n        this.finishDrawing();\n      }\n    } else {\n      this.addToDrawing_(event);\n    }\n    pass = false;\n  } else if (this.freehand_) {\n    this.finishCoordinate_ = null;\n    this.abortDrawing_();\n  }\n  if (!pass && this.stopClick_) {\n    event.stopPropagation();\n  }\n  return pass;\n};\n\n\n/**\n * Handle move events.\n * @param {ol.MapBrowserEvent} event A move event.\n * @return {boolean} Pass the event to other interactions.\n * @private\n */\n_ol_interaction_Draw_.prototype.handlePointerMove_ = function(event) {\n  if (this.downPx_ &&\n      ((!this.freehand_ && this.shouldHandle_) ||\n      (this.freehand_ && !this.shouldHandle_))) {\n    var downPx = this.downPx_;\n    var clickPx = event.pixel;\n    var dx = downPx[0] - clickPx[0];\n    var dy = downPx[1] - clickPx[1];\n    var squaredDistance = dx * dx + dy * dy;\n    this.shouldHandle_ = this.freehand_ ?\n      squaredDistance > this.squaredClickTolerance_ :\n      squaredDistance <= this.squaredClickTolerance_;\n  }\n\n  if (this.finishCoordinate_) {\n    this.modifyDrawing_(event);\n  } else {\n    this.createOrUpdateSketchPoint_(event);\n  }\n  return true;\n};\n\n\n/**\n * Determine if an event is within the snapping tolerance of the start coord.\n * @param {ol.MapBrowserEvent} event Event.\n * @return {boolean} The event is within the snapping tolerance of the start.\n * @private\n */\n_ol_interaction_Draw_.prototype.atFinish_ = function(event) {\n  var at = false;\n  if (this.sketchFeature_) {\n    var potentiallyDone = false;\n    var potentiallyFinishCoordinates = [this.finishCoordinate_];\n    if (this.mode_ === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n      potentiallyDone = this.sketchCoords_.length > this.minPoints_;\n    } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n      potentiallyDone = this.sketchCoords_[0].length >\n          this.minPoints_;\n      potentiallyFinishCoordinates = [this.sketchCoords_[0][0],\n        this.sketchCoords_[0][this.sketchCoords_[0].length - 2]];\n    }\n    if (potentiallyDone) {\n      var map = event.map;\n      for (var i = 0, ii = potentiallyFinishCoordinates.length; i < ii; i++) {\n        var finishCoordinate = potentiallyFinishCoordinates[i];\n        var finishPixel = map.getPixelFromCoordinate(finishCoordinate);\n        var pixel = event.pixel;\n        var dx = pixel[0] - finishPixel[0];\n        var dy = pixel[1] - finishPixel[1];\n        var snapTolerance = this.freehand_ ? 1 : this.snapTolerance_;\n        at = Math.sqrt(dx * dx + dy * dy) <= snapTolerance;\n        if (at) {\n          this.finishCoordinate_ = finishCoordinate;\n          break;\n        }\n      }\n    }\n  }\n  return at;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\n_ol_interaction_Draw_.prototype.createOrUpdateSketchPoint_ = function(event) {\n  var coordinates = event.coordinate.slice();\n  if (!this.sketchPoint_) {\n    this.sketchPoint_ = new _ol_Feature_(new _ol_geom_Point_(coordinates));\n    this.updateSketchFeatures_();\n  } else {\n    var sketchPointGeom = /** @type {ol.geom.Point} */ (this.sketchPoint_.getGeometry());\n    sketchPointGeom.setCoordinates(coordinates);\n  }\n};\n\n\n/**\n * Start the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\n_ol_interaction_Draw_.prototype.startDrawing_ = function(event) {\n  var start = event.coordinate;\n  this.finishCoordinate_ = start;\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.POINT) {\n    this.sketchCoords_ = start.slice();\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    this.sketchCoords_ = [[start.slice(), start.slice()]];\n    this.sketchLineCoords_ = this.sketchCoords_[0];\n  } else {\n    this.sketchCoords_ = [start.slice(), start.slice()];\n    if (this.mode_ === _ol_interaction_Draw_.Mode_.CIRCLE) {\n      this.sketchLineCoords_ = this.sketchCoords_;\n    }\n  }\n  if (this.sketchLineCoords_) {\n    this.sketchLine_ = new _ol_Feature_(\n        new _ol_geom_LineString_(this.sketchLineCoords_));\n  }\n  var geometry = this.geometryFunction_(this.sketchCoords_);\n  this.sketchFeature_ = new _ol_Feature_();\n  if (this.geometryName_) {\n    this.sketchFeature_.setGeometryName(this.geometryName_);\n  }\n  this.sketchFeature_.setGeometry(geometry);\n  this.updateSketchFeatures_();\n  this.dispatchEvent(new _ol_interaction_Draw_.Event(\n      _ol_interaction_DrawEventType_.DRAWSTART, this.sketchFeature_));\n};\n\n\n/**\n * Modify the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\n_ol_interaction_Draw_.prototype.modifyDrawing_ = function(event) {\n  var coordinate = event.coordinate;\n  var geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  var coordinates, last;\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.POINT) {\n    last = this.sketchCoords_;\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    last = coordinates[coordinates.length - 1];\n    if (this.atFinish_(event)) {\n      // snap to finish\n      coordinate = this.finishCoordinate_.slice();\n    }\n  } else {\n    coordinates = this.sketchCoords_;\n    last = coordinates[coordinates.length - 1];\n  }\n  last[0] = coordinate[0];\n  last[1] = coordinate[1];\n  this.geometryFunction_(/** @type {!Array.<ol.Coordinate>} */ (this.sketchCoords_), geometry);\n  if (this.sketchPoint_) {\n    var sketchPointGeom = /** @type {ol.geom.Point} */ (this.sketchPoint_.getGeometry());\n    sketchPointGeom.setCoordinates(coordinate);\n  }\n  var sketchLineGeom;\n  if (geometry instanceof _ol_geom_Polygon_ &&\n      this.mode_ !== _ol_interaction_Draw_.Mode_.POLYGON) {\n    if (!this.sketchLine_) {\n      this.sketchLine_ = new _ol_Feature_(new _ol_geom_LineString_(null));\n    }\n    var ring = geometry.getLinearRing(0);\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setFlatCoordinates(\n        ring.getLayout(), ring.getFlatCoordinates());\n  } else if (this.sketchLineCoords_) {\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setCoordinates(this.sketchLineCoords_);\n  }\n  this.updateSketchFeatures_();\n};\n\n\n/**\n * Add a new coordinate to the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\n_ol_interaction_Draw_.prototype.addToDrawing_ = function(event) {\n  var coordinate = event.coordinate;\n  var geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  var done;\n  var coordinates;\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n    this.finishCoordinate_ = coordinate.slice();\n    coordinates = this.sketchCoords_;\n    if (coordinates.length >= this.maxPoints_) {\n      if (this.freehand_) {\n        coordinates.pop();\n      } else {\n        done = true;\n      }\n    }\n    coordinates.push(coordinate.slice());\n    this.geometryFunction_(coordinates, geometry);\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    if (coordinates.length >= this.maxPoints_) {\n      if (this.freehand_) {\n        coordinates.pop();\n      } else {\n        done = true;\n      }\n    }\n    coordinates.push(coordinate.slice());\n    if (done) {\n      this.finishCoordinate_ = coordinates[0];\n    }\n    this.geometryFunction_(this.sketchCoords_, geometry);\n  }\n  this.updateSketchFeatures_();\n  if (done) {\n    this.finishDrawing();\n  }\n};\n\n\n/**\n * Remove last point of the feature currently being drawn.\n * @api\n */\n_ol_interaction_Draw_.prototype.removeLastPoint = function() {\n  if (!this.sketchFeature_) {\n    return;\n  }\n  var geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  var coordinates, sketchLineGeom;\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n    coordinates = this.sketchCoords_;\n    coordinates.splice(-2, 1);\n    this.geometryFunction_(coordinates, geometry);\n    if (coordinates.length >= 2) {\n      this.finishCoordinate_ = coordinates[coordinates.length - 2].slice();\n    }\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    coordinates.splice(-2, 1);\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setCoordinates(coordinates);\n    this.geometryFunction_(this.sketchCoords_, geometry);\n  }\n\n  if (coordinates.length === 0) {\n    this.finishCoordinate_ = null;\n  }\n\n  this.updateSketchFeatures_();\n};\n\n\n/**\n * Stop drawing and add the sketch feature to the target layer.\n * The {@link ol.interaction.DrawEventType.DRAWEND} event is dispatched before\n * inserting the feature.\n * @api\n */\n_ol_interaction_Draw_.prototype.finishDrawing = function() {\n  var sketchFeature = this.abortDrawing_();\n  var coordinates = this.sketchCoords_;\n  var geometry = /** @type {ol.geom.SimpleGeometry} */ (sketchFeature.getGeometry());\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n    // remove the redundant last point\n    coordinates.pop();\n    this.geometryFunction_(coordinates, geometry);\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    // remove the redundant last point in ring\n    coordinates[0].pop();\n    this.geometryFunction_(coordinates, geometry);\n    coordinates = geometry.getCoordinates();\n  }\n\n  // cast multi-part geometries\n  if (this.type_ === _ol_geom_GeometryType_.MULTI_POINT) {\n    sketchFeature.setGeometry(new _ol_geom_MultiPoint_([coordinates]));\n  } else if (this.type_ === _ol_geom_GeometryType_.MULTI_LINE_STRING) {\n    sketchFeature.setGeometry(new _ol_geom_MultiLineString_([coordinates]));\n  } else if (this.type_ === _ol_geom_GeometryType_.MULTI_POLYGON) {\n    sketchFeature.setGeometry(new _ol_geom_MultiPolygon_([coordinates]));\n  }\n\n  // First dispatch event to allow full set up of feature\n  this.dispatchEvent(new _ol_interaction_Draw_.Event(\n      _ol_interaction_DrawEventType_.DRAWEND, sketchFeature));\n\n  // Then insert feature\n  if (this.features_) {\n    this.features_.push(sketchFeature);\n  }\n  if (this.source_) {\n    this.source_.addFeature(sketchFeature);\n  }\n};\n\n\n/**\n * Stop drawing without adding the sketch feature to the target layer.\n * @return {ol.Feature} The sketch feature (or null if none).\n * @private\n */\n_ol_interaction_Draw_.prototype.abortDrawing_ = function() {\n  this.finishCoordinate_ = null;\n  var sketchFeature = this.sketchFeature_;\n  if (sketchFeature) {\n    this.sketchFeature_ = null;\n    this.sketchPoint_ = null;\n    this.sketchLine_ = null;\n    this.overlay_.getSource().clear(true);\n  }\n  return sketchFeature;\n};\n\n\n/**\n * Extend an existing geometry by adding additional points. This only works\n * on features with `LineString` geometries, where the interaction will\n * extend lines by adding points to the end of the coordinates array.\n * @param {!ol.Feature} feature Feature to be extended.\n * @api\n */\n_ol_interaction_Draw_.prototype.extend = function(feature) {\n  var geometry = feature.getGeometry();\n  var lineString = /** @type {ol.geom.LineString} */ (geometry);\n  this.sketchFeature_ = feature;\n  this.sketchCoords_ = lineString.getCoordinates();\n  var last = this.sketchCoords_[this.sketchCoords_.length - 1];\n  this.finishCoordinate_ = last.slice();\n  this.sketchCoords_.push(last.slice());\n  this.updateSketchFeatures_();\n  this.dispatchEvent(new _ol_interaction_Draw_.Event(\n      _ol_interaction_DrawEventType_.DRAWSTART, this.sketchFeature_));\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_interaction_Draw_.prototype.shouldStopEvent = _ol_functions_.FALSE;\n\n\n/**\n * Redraw the sketch features.\n * @private\n */\n_ol_interaction_Draw_.prototype.updateSketchFeatures_ = function() {\n  var sketchFeatures = [];\n  if (this.sketchFeature_) {\n    sketchFeatures.push(this.sketchFeature_);\n  }\n  if (this.sketchLine_) {\n    sketchFeatures.push(this.sketchLine_);\n  }\n  if (this.sketchPoint_) {\n    sketchFeatures.push(this.sketchPoint_);\n  }\n  var overlaySource = this.overlay_.getSource();\n  overlaySource.clear(true);\n  overlaySource.addFeatures(sketchFeatures);\n};\n\n\n/**\n * @private\n */\n_ol_interaction_Draw_.prototype.updateState_ = function() {\n  var map = this.getMap();\n  var active = this.getActive();\n  if (!map || !active) {\n    this.abortDrawing_();\n  }\n  this.overlay_.setMap(active ? map : null);\n};\n\n\n/**\n * Create a `geometryFunction` for `type: 'Circle'` that will create a regular\n * polygon with a user specified number of sides and start angle instead of an\n * `ol.geom.Circle` geometry.\n * @param {number=} opt_sides Number of sides of the regular polygon. Default is\n *     32.\n * @param {number=} opt_angle Angle of the first point in radians. 0 means East.\n *     Default is the angle defined by the heading from the center of the\n *     regular polygon to the current pointer position.\n * @return {ol.DrawGeometryFunctionType} Function that draws a\n *     polygon.\n * @api\n */\n_ol_interaction_Draw_.createRegularPolygon = function(opt_sides, opt_angle) {\n  return (\n    /**\n         * @param {ol.Coordinate|Array.<ol.Coordinate>|Array.<Array.<ol.Coordinate>>} coordinates\n         * @param {ol.geom.SimpleGeometry=} opt_geometry\n         * @return {ol.geom.SimpleGeometry}\n         */\n    function(coordinates, opt_geometry) {\n      var center = coordinates[0];\n      var end = coordinates[1];\n      var radius = Math.sqrt(\n          _ol_coordinate_.squaredDistance(center, end));\n      var geometry = opt_geometry ? /** @type {ol.geom.Polygon} */ (opt_geometry) :\n        _ol_geom_Polygon_.fromCircle(new _ol_geom_Circle_(center), opt_sides);\n      var angle = opt_angle ? opt_angle :\n        Math.atan((end[1] - center[1]) / (end[0] - center[0]));\n      _ol_geom_Polygon_.makeRegular(geometry, center, radius, angle);\n      return geometry;\n    }\n  );\n};\n\n\n/**\n * Create a `geometryFunction` that will create a box-shaped polygon (aligned\n * with the coordinate system axes).  Use this with the draw interaction and\n * `type: 'Circle'` to return a box instead of a circle geometry.\n * @return {ol.DrawGeometryFunctionType} Function that draws a box-shaped polygon.\n * @api\n */\n_ol_interaction_Draw_.createBox = function() {\n  return (\n    /**\n     * @param {Array.<ol.Coordinate>} coordinates\n     * @param {ol.geom.SimpleGeometry=} opt_geometry\n     * @return {ol.geom.SimpleGeometry}\n     */\n    function(coordinates, opt_geometry) {\n      var extent = _ol_extent_.boundingExtent(coordinates);\n      var geometry = opt_geometry || new _ol_geom_Polygon_(null);\n      geometry.setCoordinates([[\n        _ol_extent_.getBottomLeft(extent),\n        _ol_extent_.getBottomRight(extent),\n        _ol_extent_.getTopRight(extent),\n        _ol_extent_.getTopLeft(extent),\n        _ol_extent_.getBottomLeft(extent)\n      ]]);\n      return geometry;\n    }\n  );\n};\n\n\n/**\n * Get the drawing mode.  The mode for mult-part geometries is the same as for\n * their single-part cousins.\n * @param {ol.geom.GeometryType} type Geometry type.\n * @return {ol.interaction.Draw.Mode_} Drawing mode.\n * @private\n */\n_ol_interaction_Draw_.getMode_ = function(type) {\n  var mode;\n  if (type === _ol_geom_GeometryType_.POINT ||\n      type === _ol_geom_GeometryType_.MULTI_POINT) {\n    mode = _ol_interaction_Draw_.Mode_.POINT;\n  } else if (type === _ol_geom_GeometryType_.LINE_STRING ||\n      type === _ol_geom_GeometryType_.MULTI_LINE_STRING) {\n    mode = _ol_interaction_Draw_.Mode_.LINE_STRING;\n  } else if (type === _ol_geom_GeometryType_.POLYGON ||\n      type === _ol_geom_GeometryType_.MULTI_POLYGON) {\n    mode = _ol_interaction_Draw_.Mode_.POLYGON;\n  } else if (type === _ol_geom_GeometryType_.CIRCLE) {\n    mode = _ol_interaction_Draw_.Mode_.CIRCLE;\n  }\n  return /** @type {!ol.interaction.Draw.Mode_} */ (mode);\n};\n\n\n/**\n * Draw mode.  This collapses multi-part geometry types with their single-part\n * cousins.\n * @enum {string}\n * @private\n */\n_ol_interaction_Draw_.Mode_ = {\n  POINT: 'Point',\n  LINE_STRING: 'LineString',\n  POLYGON: 'Polygon',\n  CIRCLE: 'Circle'\n};\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Draw} instances are instances of\n * this type.\n *\n * @constructor\n * @extends {ol.events.Event}\n * @implements {oli.DrawEvent}\n * @param {ol.interaction.DrawEventType} type Type.\n * @param {ol.Feature} feature The feature drawn.\n */\n_ol_interaction_Draw_.Event = function(type, feature) {\n\n  _ol_events_Event_.call(this, type);\n\n  /**\n   * The feature being drawn.\n   * @type {ol.Feature}\n   * @api\n   */\n  this.feature = feature;\n\n};\n_ol_.inherits(_ol_interaction_Draw_.Event, _ol_events_Event_);\nexport default _ol_interaction_Draw_;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"\")]),_c('el-breadcrumb-item',[_vm._v(\"\")]),_c('el-breadcrumb-item',[_vm._v(\"\")])],1),_c('el-card',[_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"WKT\"},model:{value:(_vm.geom1),callback:function ($$v) {_vm.geom1=$$v},expression:\"geom1\"}})],1),_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"\"},model:{value:(_vm.geom),callback:function ($$v) {_vm.geom=$$v},expression:\"geom\"}})],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-input-number',{attrs:{\"min\":0,\"label\":\"\"},model:{value:(_vm.distance),callback:function ($$v) {_vm.distance=$$v},expression:\"distance\"}})],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.analysis}},[_vm._v(\"\")])],1)],1),_c('div',{attrs:{\"id\":\"map\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!---->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\"></el-breadcrumb-item>\r\n      <el-breadcrumb-item></el-breadcrumb-item>\r\n      <el-breadcrumb-item></el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!---->\r\n    <el-card>\r\n      <el-row>\r\n        <el-col :span=\"10\">\r\n          <el-input type=\"textarea\" :rows=\"4\" placeholder=\"WKT\" v-model=\"geom1\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"10\">\r\n          <el-input type=\"textarea\" :rows=\"4\" placeholder=\"\" v-model=\"geom\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <el-input-number v-model=\"distance\" :min=\"0\" label=\"\"></el-input-number>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <el-button type=\"primary\" @click=\"analysis\"></el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <div id=\"map\"></div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {getTdtLayer, styleFunction} from \"../../utils/searchUtils\";\r\nimport Map from 'ol/map';\r\nimport View from 'ol/view';\r\nimport Feature from 'ol/feature';\r\nimport Point from 'ol/geom/point';\r\nimport TileLayer from 'ol/layer/tile';\r\nimport ImageLayer from 'ol/layer/image';\r\nimport VectorLayer from 'ol/layer/vector';\r\nimport GroupLayer from 'ol/layer/group';\r\nimport TileGrid from 'ol/tilegrid/tilegrid';\r\nimport WMTSGrid from 'ol/tilegrid/wmts';\r\nimport OSM from \"ol/source/osm\";\r\nimport XYZ from 'ol/source/xyz';\r\nimport TileImage from 'ol/source/tileimage';\r\nimport ImageWMS from 'ol/source/imagewms';\r\nimport TileWMS from 'ol/source/tilewms';\r\nimport WMTS from 'ol/source/wmts';\r\nimport Vector from 'ol/source/vector';\r\nimport GeoJSON from 'ol/format/geojson';\r\nimport WKT from 'ol/format/wkt';\r\nimport WFS from 'ol/format/wfs';\r\nimport Draw from 'ol/interaction/draw';\r\nimport Select from 'ol/interaction/select';\r\nimport Modify from 'ol/interaction/modify';\r\nimport Style from 'ol/style/style';\r\nimport Icon from 'ol/style/icon';\r\nimport Stroke from 'ol/style/stroke';\r\nimport Text from 'ol/style/text';\r\nimport Fill from 'ol/style/fill';\r\nimport Circle from 'ol/style/circle';\r\nimport proj from 'ol/proj';\r\nimport extent from 'ol/extent';\r\nimport control from 'ol/control';\r\nimport loadingstrategy from 'ol/loadingstrategy';\r\nexport default {\r\n  data() {\r\n    return {\r\n      geom1: \"POLYGON((100.02715479879 32.168082192159,102.76873121104 37.194305614622,107.0334056301 34.909658604412,105.96723702534 30.949603786713,100.02715479879 32.168082192159))\",\r\n      distance: 0.5,\r\n      geom:'',\r\n      map: null,\r\n      source:null\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    this.initMap()\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      let view = new View({\r\n        zoom: 4,\r\n        center: proj.fromLonLat([110, 39])\r\n      });\r\n\r\n      let source = new Vector({\r\n        features: []\r\n      });\r\n      let vector = new VectorLayer({\r\n        source: source,\r\n        style: styleFunction\r\n      });\r\n      let map = new Map({\r\n        controls: control.defaults({\r\n          attribution: false\r\n        }).extend([]),\r\n        target: \"map\",\r\n        layers: [\r\n          getTdtLayer('vec_w'),\r\n          getTdtLayer('cva_w'),\r\n          vector\r\n        ],\r\n        view: view\r\n      });\r\n      this.source = source\r\n      this.map = map\r\n    },\r\n    async analysis(){\r\n      if (this.source)\r\n        this.source.clear();\r\n      const {data:res} = await this.$http.get(\"spa/buff\",{params:{\r\n          geom:this.geom1,\r\n          distance:this.distance\r\n        }})\r\n      if(!res.success) {\r\n        this.geom = res.msg\r\n      }\r\n      this.geom = res.data\r\n      let wkts = [this.geom1,this.geom];\r\n      let features = [];\r\n      let wktformat = new WKT();\r\n      for (let i = 0; i < wkts.length; i++) {\r\n        let feature = wktformat.readFeature(wkts[i]);\r\n        feature.getGeometry().transform(\"EPSG:4326\", \"EPSG:3857\");\r\n        if (i === 2) feature.set(\"index\", i);\r\n        features.push(feature);\r\n      }\r\n      this.source.addFeatures(features);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#map{\r\n  height: 1000px;\r\n}\r\n.el-row {\r\n  margin-bottom: 5px;\r\n&:last-child {\r\n   margin-bottom: 0;\r\n }\r\n}\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffAnalysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffAnalysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuffAnalysis.vue?vue&type=template&id=6dc25300&\"\nimport script from \"./BuffAnalysis.vue?vue&type=script&lang=js&\"\nexport * from \"./BuffAnalysis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuffAnalysis.vue?vue&type=style&index=0&id=6dc25300&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nvar getPrototypeOf = Object.getPrototypeOf;\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nvar setPrototypeOf = Object.setPrototypeOf;\nvar ObjectPrototype = Object.prototype;\nvar PROTO = '__proto__';\n\n// `Object.prototype.__proto__` accessor\n// https://tc39.es/ecma262/#sec-object.prototype.__proto__\nif (DESCRIPTORS && getPrototypeOf && setPrototypeOf && !(PROTO in ObjectPrototype)) try {\n  defineBuiltInAccessor(ObjectPrototype, PROTO, {\n    configurable: true,\n    get: function __proto__() {\n      return getPrototypeOf(toObject(this));\n    },\n    set: function __proto__(proto) {\n      var O = requireObjectCoercible(this);\n      if (!isObject(proto) && proto !== null || !isObject(O)) return;\n      setPrototypeOf(O, proto);\n    }\n  });\n} catch (error) { /* empty */ }\n","/**\n * Available server types: `'carmentaserver'`, `'geoserver'`, `'mapserver'`,\n *     `'qgis'`. These are servers that have vendor parameters beyond the WMS\n *     specification that OpenLayers can make use of.\n * @enum {string}\n */\nvar _ol_source_WMSServerType_ = {\n  CARMENTA_SERVER: 'carmentaserver',\n  GEOSERVER: 'geoserver',\n  MAPSERVER: 'mapserver',\n  QGIS: 'qgis'\n};\n\nexport default _ol_source_WMSServerType_;\n","var setToStringTag = require('../internals/set-to-string-tag');\n\n// Math[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-math-@@tostringtag\nsetToStringTag(Math, 'Math', true);\n","import _ol_ from './index.js';\nimport _ol_ImageBase_ from './imagebase.js';\nimport _ol_ImageState_ from './imagestate.js';\nimport _ol_events_ from './events.js';\nimport _ol_events_EventType_ from './events/eventtype.js';\nimport _ol_extent_ from './extent.js';\n\n/**\n * @constructor\n * @extends {ol.ImageBase}\n * @param {ol.Extent} extent Extent.\n * @param {number|undefined} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @param {string} src Image source URI.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.ImageLoadFunctionType} imageLoadFunction Image load function.\n */\nvar _ol_Image_ = function(extent, resolution, pixelRatio, src, crossOrigin, imageLoadFunction) {\n\n  _ol_ImageBase_.call(this, extent, resolution, pixelRatio, _ol_ImageState_.IDLE);\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.src_ = src;\n\n  /**\n   * @private\n   * @type {HTMLCanvasElement|Image|HTMLVideoElement}\n   */\n  this.image_ = new Image();\n  if (crossOrigin !== null) {\n    this.image_.crossOrigin = crossOrigin;\n  }\n\n  /**\n   * @private\n   * @type {Array.<ol.EventsKey>}\n   */\n  this.imageListenerKeys_ = null;\n\n  /**\n   * @protected\n   * @type {ol.ImageState}\n   */\n  this.state = _ol_ImageState_.IDLE;\n\n  /**\n   * @private\n   * @type {ol.ImageLoadFunctionType}\n   */\n  this.imageLoadFunction_ = imageLoadFunction;\n\n};\n\n_ol_.inherits(_ol_Image_, _ol_ImageBase_);\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_Image_.prototype.getImage = function() {\n  return this.image_;\n};\n\n\n/**\n * Tracks loading or read errors.\n *\n * @private\n */\n_ol_Image_.prototype.handleImageError_ = function() {\n  this.state = _ol_ImageState_.ERROR;\n  this.unlistenImage_();\n  this.changed();\n};\n\n\n/**\n * Tracks successful image load.\n *\n * @private\n */\n_ol_Image_.prototype.handleImageLoad_ = function() {\n  if (this.resolution === undefined) {\n    this.resolution = _ol_extent_.getHeight(this.extent) / this.image_.height;\n  }\n  this.state = _ol_ImageState_.LOADED;\n  this.unlistenImage_();\n  this.changed();\n};\n\n\n/**\n * Load the image or retry if loading previously failed.\n * Loading is taken care of by the tile queue, and calling this method is\n * only needed for preloading or for reloading in case of an error.\n * @override\n * @api\n */\n_ol_Image_.prototype.load = function() {\n  if (this.state == _ol_ImageState_.IDLE || this.state == _ol_ImageState_.ERROR) {\n    this.state = _ol_ImageState_.LOADING;\n    this.changed();\n    this.imageListenerKeys_ = [\n      _ol_events_.listenOnce(this.image_, _ol_events_EventType_.ERROR,\n          this.handleImageError_, this),\n      _ol_events_.listenOnce(this.image_, _ol_events_EventType_.LOAD,\n          this.handleImageLoad_, this)\n    ];\n    this.imageLoadFunction_(this, this.src_);\n  }\n};\n\n\n/**\n * @param {HTMLCanvasElement|Image|HTMLVideoElement} image Image.\n */\n_ol_Image_.prototype.setImage = function(image) {\n  this.image_ = image;\n};\n\n\n/**\n * Discards event handlers which listen for load completion or errors.\n *\n * @private\n */\n_ol_Image_.prototype.unlistenImage_ = function() {\n  this.imageListenerKeys_.forEach(_ol_events_.unlistenByKey);\n  this.imageListenerKeys_ = null;\n};\nexport default _ol_Image_;\n","import _ol_ from '../index.js';\nimport _ol_ImageBase_ from '../imagebase.js';\nimport _ol_ImageState_ from '../imagestate.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_EventType_ from '../events/eventtype.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_reproj_ from '../reproj.js';\nimport _ol_reproj_Triangulation_ from '../reproj/triangulation.js';\n\n/**\n * @classdesc\n * Class encapsulating single reprojected image.\n * See {@link ol.source.Image}.\n *\n * @constructor\n * @extends {ol.ImageBase}\n * @param {ol.proj.Projection} sourceProj Source projection (of the data).\n * @param {ol.proj.Projection} targetProj Target projection.\n * @param {ol.Extent} targetExtent Target extent.\n * @param {number} targetResolution Target resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @param {ol.ReprojImageFunctionType} getImageFunction\n *     Function returning source images (extent, resolution, pixelRatio).\n */\nvar _ol_reproj_Image_ = function(sourceProj, targetProj,\n    targetExtent, targetResolution, pixelRatio, getImageFunction) {\n\n  /**\n   * @private\n   * @type {ol.proj.Projection}\n   */\n  this.targetProj_ = targetProj;\n\n  /**\n   * @private\n   * @type {ol.Extent}\n   */\n  this.maxSourceExtent_ = sourceProj.getExtent();\n  var maxTargetExtent = targetProj.getExtent();\n\n  var limitedTargetExtent = maxTargetExtent ?\n    _ol_extent_.getIntersection(targetExtent, maxTargetExtent) : targetExtent;\n\n  var targetCenter = _ol_extent_.getCenter(limitedTargetExtent);\n  var sourceResolution = _ol_reproj_.calculateSourceResolution(\n      sourceProj, targetProj, targetCenter, targetResolution);\n\n  var errorThresholdInPixels = _ol_.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;\n\n  /**\n   * @private\n   * @type {!ol.reproj.Triangulation}\n   */\n  this.triangulation_ = new _ol_reproj_Triangulation_(\n      sourceProj, targetProj, limitedTargetExtent, this.maxSourceExtent_,\n      sourceResolution * errorThresholdInPixels);\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.targetResolution_ = targetResolution;\n\n  /**\n   * @private\n   * @type {ol.Extent}\n   */\n  this.targetExtent_ = targetExtent;\n\n  var sourceExtent = this.triangulation_.calculateSourceExtent();\n\n  /**\n   * @private\n   * @type {ol.ImageBase}\n   */\n  this.sourceImage_ =\n      getImageFunction(sourceExtent, sourceResolution, pixelRatio);\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.sourcePixelRatio_ =\n      this.sourceImage_ ? this.sourceImage_.getPixelRatio() : 1;\n\n  /**\n   * @private\n   * @type {HTMLCanvasElement}\n   */\n  this.canvas_ = null;\n\n  /**\n   * @private\n   * @type {?ol.EventsKey}\n   */\n  this.sourceListenerKey_ = null;\n\n\n  var state = _ol_ImageState_.LOADED;\n\n  if (this.sourceImage_) {\n    state = _ol_ImageState_.IDLE;\n  }\n\n  _ol_ImageBase_.call(this, targetExtent, targetResolution, this.sourcePixelRatio_, state);\n};\n\n_ol_.inherits(_ol_reproj_Image_, _ol_ImageBase_);\n\n\n/**\n * @inheritDoc\n */\n_ol_reproj_Image_.prototype.disposeInternal = function() {\n  if (this.state == _ol_ImageState_.LOADING) {\n    this.unlistenSource_();\n  }\n  _ol_ImageBase_.prototype.disposeInternal.call(this);\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_reproj_Image_.prototype.getImage = function() {\n  return this.canvas_;\n};\n\n\n/**\n * @return {ol.proj.Projection} Projection.\n */\n_ol_reproj_Image_.prototype.getProjection = function() {\n  return this.targetProj_;\n};\n\n\n/**\n * @private\n */\n_ol_reproj_Image_.prototype.reproject_ = function() {\n  var sourceState = this.sourceImage_.getState();\n  if (sourceState == _ol_ImageState_.LOADED) {\n    var width = _ol_extent_.getWidth(this.targetExtent_) / this.targetResolution_;\n    var height =\n        _ol_extent_.getHeight(this.targetExtent_) / this.targetResolution_;\n\n    this.canvas_ = _ol_reproj_.render(width, height, this.sourcePixelRatio_,\n        this.sourceImage_.getResolution(), this.maxSourceExtent_,\n        this.targetResolution_, this.targetExtent_, this.triangulation_, [{\n          extent: this.sourceImage_.getExtent(),\n          image: this.sourceImage_.getImage()\n        }], 0);\n  }\n  this.state = sourceState;\n  this.changed();\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_reproj_Image_.prototype.load = function() {\n  if (this.state == _ol_ImageState_.IDLE) {\n    this.state = _ol_ImageState_.LOADING;\n    this.changed();\n\n    var sourceState = this.sourceImage_.getState();\n    if (sourceState == _ol_ImageState_.LOADED ||\n        sourceState == _ol_ImageState_.ERROR) {\n      this.reproject_();\n    } else {\n      this.sourceListenerKey_ = _ol_events_.listen(this.sourceImage_,\n          _ol_events_EventType_.CHANGE, function(e) {\n            var sourceState = this.sourceImage_.getState();\n            if (sourceState == _ol_ImageState_.LOADED ||\n                sourceState == _ol_ImageState_.ERROR) {\n              this.unlistenSource_();\n              this.reproject_();\n            }\n          }, this);\n      this.sourceImage_.load();\n    }\n  }\n};\n\n\n/**\n * @private\n */\n_ol_reproj_Image_.prototype.unlistenSource_ = function() {\n  _ol_events_.unlistenByKey(/** @type {!ol.EventsKey} */ (this.sourceListenerKey_));\n  this.sourceListenerKey_ = null;\n};\nexport default _ol_reproj_Image_;\n","import _ol_ from '../index.js';\nimport _ol_ImageState_ from '../imagestate.js';\nimport _ol_array_ from '../array.js';\nimport _ol_events_Event_ from '../events/event.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_proj_ from '../proj.js';\nimport _ol_reproj_Image_ from '../reproj/image.js';\nimport _ol_source_Source_ from '../source/source.js';\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for sources providing a single image.\n *\n * @constructor\n * @abstract\n * @extends {ol.source.Source}\n * @param {ol.SourceImageOptions} options Single image source options.\n * @api\n */\nvar _ol_source_Image_ = function(options) {\n  _ol_source_Source_.call(this, {\n    attributions: options.attributions,\n    extent: options.extent,\n    logo: options.logo,\n    projection: options.projection,\n    state: options.state\n  });\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.resolutions_ = options.resolutions !== undefined ?\n    options.resolutions : null;\n\n\n  /**\n   * @private\n   * @type {ol.reproj.Image}\n   */\n  this.reprojectedImage_ = null;\n\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.reprojectedRevision_ = 0;\n};\n\n_ol_.inherits(_ol_source_Image_, _ol_source_Source_);\n\n\n/**\n * @return {Array.<number>} Resolutions.\n * @override\n */\n_ol_source_Image_.prototype.getResolutions = function() {\n  return this.resolutions_;\n};\n\n\n/**\n * @protected\n * @param {number} resolution Resolution.\n * @return {number} Resolution.\n */\n_ol_source_Image_.prototype.findNearestResolution = function(resolution) {\n  if (this.resolutions_) {\n    var idx = _ol_array_.linearFindNearest(this.resolutions_, resolution, 0);\n    resolution = this.resolutions_[idx];\n  }\n  return resolution;\n};\n\n\n/**\n * @param {ol.Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @param {ol.proj.Projection} projection Projection.\n * @return {ol.ImageBase} Single image.\n */\n_ol_source_Image_.prototype.getImage = function(extent, resolution, pixelRatio, projection) {\n  var sourceProjection = this.getProjection();\n  if (!_ol_.ENABLE_RASTER_REPROJECTION ||\n      !sourceProjection ||\n      !projection ||\n      _ol_proj_.equivalent(sourceProjection, projection)) {\n    if (sourceProjection) {\n      projection = sourceProjection;\n    }\n    return this.getImageInternal(extent, resolution, pixelRatio, projection);\n  } else {\n    if (this.reprojectedImage_) {\n      if (this.reprojectedRevision_ == this.getRevision() &&\n          _ol_proj_.equivalent(\n              this.reprojectedImage_.getProjection(), projection) &&\n          this.reprojectedImage_.getResolution() == resolution &&\n          _ol_extent_.equals(this.reprojectedImage_.getExtent(), extent)) {\n        return this.reprojectedImage_;\n      }\n      this.reprojectedImage_.dispose();\n      this.reprojectedImage_ = null;\n    }\n\n    this.reprojectedImage_ = new _ol_reproj_Image_(\n        sourceProjection, projection, extent, resolution, pixelRatio,\n        function(extent, resolution, pixelRatio) {\n          return this.getImageInternal(extent, resolution,\n              pixelRatio, sourceProjection);\n        }.bind(this));\n    this.reprojectedRevision_ = this.getRevision();\n\n    return this.reprojectedImage_;\n  }\n};\n\n\n/**\n * @abstract\n * @param {ol.Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @param {ol.proj.Projection} projection Projection.\n * @return {ol.ImageBase} Single image.\n * @protected\n */\n_ol_source_Image_.prototype.getImageInternal = function(extent, resolution, pixelRatio, projection) {};\n\n\n/**\n * Handle image change events.\n * @param {ol.events.Event} event Event.\n * @protected\n */\n_ol_source_Image_.prototype.handleImageChange = function(event) {\n  var image = /** @type {ol.Image} */ (event.target);\n  switch (image.getState()) {\n    case _ol_ImageState_.LOADING:\n      this.dispatchEvent(\n          new _ol_source_Image_.Event(_ol_source_Image_.EventType_.IMAGELOADSTART,\n              image));\n      break;\n    case _ol_ImageState_.LOADED:\n      this.dispatchEvent(\n          new _ol_source_Image_.Event(_ol_source_Image_.EventType_.IMAGELOADEND,\n              image));\n      break;\n    case _ol_ImageState_.ERROR:\n      this.dispatchEvent(\n          new _ol_source_Image_.Event(_ol_source_Image_.EventType_.IMAGELOADERROR,\n              image));\n      break;\n    default:\n      // pass\n  }\n};\n\n\n/**\n * Default image load function for image sources that use ol.Image image\n * instances.\n * @param {ol.Image} image Image.\n * @param {string} src Source.\n */\n_ol_source_Image_.defaultImageLoadFunction = function(image, src) {\n  image.getImage().src = src;\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link ol.source.Image} instances are instances of this\n * type.\n *\n * @constructor\n * @extends {ol.events.Event}\n * @implements {oli.source.ImageEvent}\n * @param {string} type Type.\n * @param {ol.Image} image The image.\n */\n_ol_source_Image_.Event = function(type, image) {\n\n  _ol_events_Event_.call(this, type);\n\n  /**\n   * The image related to the event.\n   * @type {ol.Image}\n   * @api\n   */\n  this.image = image;\n\n};\n_ol_.inherits(_ol_source_Image_.Event, _ol_events_Event_);\n\n\n/**\n * @enum {string}\n * @private\n */\n_ol_source_Image_.EventType_ = {\n\n  /**\n   * Triggered when an image starts loading.\n   * @event ol.source.Image.Event#imageloadstart\n   * @api\n   */\n  IMAGELOADSTART: 'imageloadstart',\n\n  /**\n   * Triggered when an image finishes loading.\n   * @event ol.source.Image.Event#imageloadend\n   * @api\n   */\n  IMAGELOADEND: 'imageloadend',\n\n  /**\n   * Triggered if image loading results in an error.\n   * @event ol.source.Image.Event#imageloaderror\n   * @api\n   */\n  IMAGELOADERROR: 'imageloaderror'\n\n};\nexport default _ol_source_Image_;\n","// FIXME cannot be shared between maps with different projections\n\nimport _ol_ from '../index.js';\nimport _ol_Image_ from '../image.js';\nimport _ol_asserts_ from '../asserts.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_EventType_ from '../events/eventtype.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_obj_ from '../obj.js';\nimport _ol_proj_ from '../proj.js';\nimport _ol_reproj_ from '../reproj.js';\nimport _ol_source_Image_ from '../source/image.js';\nimport _ol_source_WMSServerType_ from '../source/wmsservertype.js';\nimport _ol_string_ from '../string.js';\nimport _ol_uri_ from '../uri.js';\n\n/**\n * @classdesc\n * Source for WMS servers providing single, untiled images.\n *\n * @constructor\n * @fires ol.source.Image.Event\n * @extends {ol.source.Image}\n * @param {olx.source.ImageWMSOptions=} opt_options Options.\n * @api\n */\nvar _ol_source_ImageWMS_ = function(opt_options) {\n\n  var options = opt_options || {};\n\n  _ol_source_Image_.call(this, {\n    attributions: options.attributions,\n    logo: options.logo,\n    projection: options.projection,\n    resolutions: options.resolutions\n  });\n\n  /**\n   * @private\n   * @type {?string}\n   */\n  this.crossOrigin_ =\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.url_ = options.url;\n\n  /**\n   * @private\n   * @type {ol.ImageLoadFunctionType}\n   */\n  this.imageLoadFunction_ = options.imageLoadFunction !== undefined ?\n    options.imageLoadFunction : _ol_source_Image_.defaultImageLoadFunction;\n\n  /**\n   * @private\n   * @type {!Object}\n   */\n  this.params_ = options.params || {};\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.v13_ = true;\n  this.updateV13_();\n\n  /**\n   * @private\n   * @type {ol.source.WMSServerType|undefined}\n   */\n  this.serverType_ = /** @type {ol.source.WMSServerType|undefined} */ (options.serverType);\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\n\n  /**\n   * @private\n   * @type {ol.Image}\n   */\n  this.image_ = null;\n\n  /**\n   * @private\n   * @type {ol.Size}\n   */\n  this.imageSize_ = [0, 0];\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.renderedRevision_ = 0;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.ratio_ = options.ratio !== undefined ? options.ratio : 1.5;\n\n};\n\n_ol_.inherits(_ol_source_ImageWMS_, _ol_source_Image_);\n\n\n/**\n * @const\n * @type {ol.Size}\n * @private\n */\n_ol_source_ImageWMS_.GETFEATUREINFO_IMAGE_SIZE_ = [101, 101];\n\n\n/**\n * Return the GetFeatureInfo URL for the passed coordinate, resolution, and\n * projection. Return `undefined` if the GetFeatureInfo URL cannot be\n * constructed.\n * @param {ol.Coordinate} coordinate Coordinate.\n * @param {number} resolution Resolution.\n * @param {ol.ProjectionLike} projection Projection.\n * @param {!Object} params GetFeatureInfo params. `INFO_FORMAT` at least should\n *     be provided. If `QUERY_LAYERS` is not provided then the layers specified\n *     in the `LAYERS` parameter will be used. `VERSION` should not be\n *     specified here.\n * @return {string|undefined} GetFeatureInfo URL.\n * @api\n */\n_ol_source_ImageWMS_.prototype.getGetFeatureInfoUrl = function(coordinate, resolution, projection, params) {\n  if (this.url_ === undefined) {\n    return undefined;\n  }\n  var projectionObj = _ol_proj_.get(projection);\n  var sourceProjectionObj = this.getProjection();\n\n  if (sourceProjectionObj && sourceProjectionObj !== projectionObj) {\n    resolution = _ol_reproj_.calculateSourceResolution(sourceProjectionObj, projectionObj, coordinate, resolution);\n    coordinate = _ol_proj_.transform(coordinate, projectionObj, sourceProjectionObj);\n  }\n\n  var extent = _ol_extent_.getForViewAndSize(\n      coordinate, resolution, 0,\n      _ol_source_ImageWMS_.GETFEATUREINFO_IMAGE_SIZE_);\n\n  var baseParams = {\n    'SERVICE': 'WMS',\n    'VERSION': _ol_.DEFAULT_WMS_VERSION,\n    'REQUEST': 'GetFeatureInfo',\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true,\n    'QUERY_LAYERS': this.params_['LAYERS']\n  };\n  _ol_obj_.assign(baseParams, this.params_, params);\n\n  var x = Math.floor((coordinate[0] - extent[0]) / resolution);\n  var y = Math.floor((extent[3] - coordinate[1]) / resolution);\n  baseParams[this.v13_ ? 'I' : 'X'] = x;\n  baseParams[this.v13_ ? 'J' : 'Y'] = y;\n\n  return this.getRequestUrl_(\n      extent, _ol_source_ImageWMS_.GETFEATUREINFO_IMAGE_SIZE_,\n      1, sourceProjectionObj || projectionObj, baseParams);\n};\n\n\n/**\n * Get the user-provided params, i.e. those passed to the constructor through\n * the \"params\" option, and possibly updated using the updateParams method.\n * @return {Object} Params.\n * @api\n */\n_ol_source_ImageWMS_.prototype.getParams = function() {\n  return this.params_;\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_source_ImageWMS_.prototype.getImageInternal = function(extent, resolution, pixelRatio, projection) {\n\n  if (this.url_ === undefined) {\n    return null;\n  }\n\n  resolution = this.findNearestResolution(resolution);\n\n  if (pixelRatio != 1 && (!this.hidpi_ || this.serverType_ === undefined)) {\n    pixelRatio = 1;\n  }\n\n  var imageResolution = resolution / pixelRatio;\n\n  var center = _ol_extent_.getCenter(extent);\n  var viewWidth = Math.ceil(_ol_extent_.getWidth(extent) / imageResolution);\n  var viewHeight = Math.ceil(_ol_extent_.getHeight(extent) / imageResolution);\n  var viewExtent = _ol_extent_.getForViewAndSize(center, imageResolution, 0,\n      [viewWidth, viewHeight]);\n  var requestWidth = Math.ceil(this.ratio_ * _ol_extent_.getWidth(extent) / imageResolution);\n  var requestHeight = Math.ceil(this.ratio_ * _ol_extent_.getHeight(extent) / imageResolution);\n  var requestExtent = _ol_extent_.getForViewAndSize(center, imageResolution, 0,\n      [requestWidth, requestHeight]);\n\n  var image = this.image_;\n  if (image &&\n      this.renderedRevision_ == this.getRevision() &&\n      image.getResolution() == resolution &&\n      image.getPixelRatio() == pixelRatio &&\n      _ol_extent_.containsExtent(image.getExtent(), viewExtent)) {\n    return image;\n  }\n\n  var params = {\n    'SERVICE': 'WMS',\n    'VERSION': _ol_.DEFAULT_WMS_VERSION,\n    'REQUEST': 'GetMap',\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true\n  };\n  _ol_obj_.assign(params, this.params_);\n\n  this.imageSize_[0] = Math.round(_ol_extent_.getWidth(requestExtent) / imageResolution);\n  this.imageSize_[1] = Math.round(_ol_extent_.getHeight(requestExtent) / imageResolution);\n\n  var url = this.getRequestUrl_(requestExtent, this.imageSize_, pixelRatio,\n      projection, params);\n\n  this.image_ = new _ol_Image_(requestExtent, resolution, pixelRatio,\n      url, this.crossOrigin_, this.imageLoadFunction_);\n\n  this.renderedRevision_ = this.getRevision();\n\n  _ol_events_.listen(this.image_, _ol_events_EventType_.CHANGE,\n      this.handleImageChange, this);\n\n  return this.image_;\n\n};\n\n\n/**\n * Return the image load function of the source.\n * @return {ol.ImageLoadFunctionType} The image load function.\n * @api\n */\n_ol_source_ImageWMS_.prototype.getImageLoadFunction = function() {\n  return this.imageLoadFunction_;\n};\n\n\n/**\n * @param {ol.Extent} extent Extent.\n * @param {ol.Size} size Size.\n * @param {number} pixelRatio Pixel ratio.\n * @param {ol.proj.Projection} projection Projection.\n * @param {Object} params Params.\n * @return {string} Request URL.\n * @private\n */\n_ol_source_ImageWMS_.prototype.getRequestUrl_ = function(extent, size, pixelRatio, projection, params) {\n\n  _ol_asserts_.assert(this.url_ !== undefined, 9); // `url` must be configured or set using `#setUrl()`\n\n  params[this.v13_ ? 'CRS' : 'SRS'] = projection.getCode();\n\n  if (!('STYLES' in this.params_)) {\n    params['STYLES'] = '';\n  }\n\n  if (pixelRatio != 1) {\n    switch (this.serverType_) {\n      case _ol_source_WMSServerType_.GEOSERVER:\n        var dpi = (90 * pixelRatio + 0.5) | 0;\n        if ('FORMAT_OPTIONS' in params) {\n          params['FORMAT_OPTIONS'] += ';dpi:' + dpi;\n        } else {\n          params['FORMAT_OPTIONS'] = 'dpi:' + dpi;\n        }\n        break;\n      case _ol_source_WMSServerType_.MAPSERVER:\n        params['MAP_RESOLUTION'] = 90 * pixelRatio;\n        break;\n      case _ol_source_WMSServerType_.CARMENTA_SERVER:\n      case _ol_source_WMSServerType_.QGIS:\n        params['DPI'] = 90 * pixelRatio;\n        break;\n      default:\n        _ol_asserts_.assert(false, 8); // Unknown `serverType` configured\n        break;\n    }\n  }\n\n  params['WIDTH'] = size[0];\n  params['HEIGHT'] = size[1];\n\n  var axisOrientation = projection.getAxisOrientation();\n  var bbox;\n  if (this.v13_ && axisOrientation.substr(0, 2) == 'ne') {\n    bbox = [extent[1], extent[0], extent[3], extent[2]];\n  } else {\n    bbox = extent;\n  }\n  params['BBOX'] = bbox.join(',');\n\n  return _ol_uri_.appendParams(/** @type {string} */ (this.url_), params);\n};\n\n\n/**\n * Return the URL used for this WMS source.\n * @return {string|undefined} URL.\n * @api\n */\n_ol_source_ImageWMS_.prototype.getUrl = function() {\n  return this.url_;\n};\n\n\n/**\n * Set the image load function of the source.\n * @param {ol.ImageLoadFunctionType} imageLoadFunction Image load function.\n * @api\n */\n_ol_source_ImageWMS_.prototype.setImageLoadFunction = function(\n    imageLoadFunction) {\n  this.image_ = null;\n  this.imageLoadFunction_ = imageLoadFunction;\n  this.changed();\n};\n\n\n/**\n * Set the URL to use for requests.\n * @param {string|undefined} url URL.\n * @api\n */\n_ol_source_ImageWMS_.prototype.setUrl = function(url) {\n  if (url != this.url_) {\n    this.url_ = url;\n    this.image_ = null;\n    this.changed();\n  }\n};\n\n\n/**\n * Update the user-provided params.\n * @param {Object} params Params.\n * @api\n */\n_ol_source_ImageWMS_.prototype.updateParams = function(params) {\n  _ol_obj_.assign(this.params_, params);\n  this.updateV13_();\n  this.image_ = null;\n  this.changed();\n};\n\n\n/**\n * @private\n */\n_ol_source_ImageWMS_.prototype.updateV13_ = function() {\n  var version = this.params_['VERSION'] || _ol_.DEFAULT_WMS_VERSION;\n  this.v13_ = _ol_string_.compareVersions(version, '1.3') >= 0;\n};\nexport default _ol_source_ImageWMS_;\n","import _ol_ from '../index.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_geom_GeometryLayout_ from '../geom/geometrylayout.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_geom_SimpleGeometry_ from '../geom/simplegeometry.js';\nimport _ol_geom_flat_deflate_ from '../geom/flat/deflate.js';\n\n/**\n * @classdesc\n * Circle geometry.\n *\n * @constructor\n * @extends {ol.geom.SimpleGeometry}\n * @param {ol.Coordinate} center Center.\n * @param {number=} opt_radius Radius.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\nvar _ol_geom_Circle_ = function(center, opt_radius, opt_layout) {\n  _ol_geom_SimpleGeometry_.call(this);\n  var radius = opt_radius ? opt_radius : 0;\n  this.setCenterAndRadius(center, radius, opt_layout);\n};\n\n_ol_.inherits(_ol_geom_Circle_, _ol_geom_SimpleGeometry_);\n\n\n/**\n * Make a complete copy of the geometry.\n * @return {!ol.geom.Circle} Clone.\n * @override\n * @api\n */\n_ol_geom_Circle_.prototype.clone = function() {\n  var circle = new _ol_geom_Circle_(null);\n  circle.setFlatCoordinates(this.layout, this.flatCoordinates.slice());\n  return circle;\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.closestPointXY = function(x, y, closestPoint, minSquaredDistance) {\n  var flatCoordinates = this.flatCoordinates;\n  var dx = x - flatCoordinates[0];\n  var dy = y - flatCoordinates[1];\n  var squaredDistance = dx * dx + dy * dy;\n  if (squaredDistance < minSquaredDistance) {\n    var i;\n    if (squaredDistance === 0) {\n      for (i = 0; i < this.stride; ++i) {\n        closestPoint[i] = flatCoordinates[i];\n      }\n    } else {\n      var delta = this.getRadius() / Math.sqrt(squaredDistance);\n      closestPoint[0] = flatCoordinates[0] + delta * dx;\n      closestPoint[1] = flatCoordinates[1] + delta * dy;\n      for (i = 2; i < this.stride; ++i) {\n        closestPoint[i] = flatCoordinates[i];\n      }\n    }\n    closestPoint.length = this.stride;\n    return squaredDistance;\n  } else {\n    return minSquaredDistance;\n  }\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.containsXY = function(x, y) {\n  var flatCoordinates = this.flatCoordinates;\n  var dx = x - flatCoordinates[0];\n  var dy = y - flatCoordinates[1];\n  return dx * dx + dy * dy <= this.getRadiusSquared_();\n};\n\n\n/**\n * Return the center of the circle as {@link ol.Coordinate coordinate}.\n * @return {ol.Coordinate} Center.\n * @api\n */\n_ol_geom_Circle_.prototype.getCenter = function() {\n  return this.flatCoordinates.slice(0, this.stride);\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.computeExtent = function(extent) {\n  var flatCoordinates = this.flatCoordinates;\n  var radius = flatCoordinates[this.stride] - flatCoordinates[0];\n  return _ol_extent_.createOrUpdate(\n      flatCoordinates[0] - radius, flatCoordinates[1] - radius,\n      flatCoordinates[0] + radius, flatCoordinates[1] + radius,\n      extent);\n};\n\n\n/**\n * Return the radius of the circle.\n * @return {number} Radius.\n * @api\n */\n_ol_geom_Circle_.prototype.getRadius = function() {\n  return Math.sqrt(this.getRadiusSquared_());\n};\n\n\n/**\n * @private\n * @return {number} Radius squared.\n */\n_ol_geom_Circle_.prototype.getRadiusSquared_ = function() {\n  var dx = this.flatCoordinates[this.stride] - this.flatCoordinates[0];\n  var dy = this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1];\n  return dx * dx + dy * dy;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_geom_Circle_.prototype.getType = function() {\n  return _ol_geom_GeometryType_.CIRCLE;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_geom_Circle_.prototype.intersectsExtent = function(extent) {\n  var circleExtent = this.getExtent();\n  if (_ol_extent_.intersects(extent, circleExtent)) {\n    var center = this.getCenter();\n\n    if (extent[0] <= center[0] && extent[2] >= center[0]) {\n      return true;\n    }\n    if (extent[1] <= center[1] && extent[3] >= center[1]) {\n      return true;\n    }\n\n    return _ol_extent_.forEachCorner(extent, this.intersectsCoordinate, this);\n  }\n  return false;\n\n};\n\n\n/**\n * Set the center of the circle as {@link ol.Coordinate coordinate}.\n * @param {ol.Coordinate} center Center.\n * @api\n */\n_ol_geom_Circle_.prototype.setCenter = function(center) {\n  var stride = this.stride;\n  var radius = this.flatCoordinates[stride] - this.flatCoordinates[0];\n  var flatCoordinates = center.slice();\n  flatCoordinates[stride] = flatCoordinates[0] + radius;\n  var i;\n  for (i = 1; i < stride; ++i) {\n    flatCoordinates[stride + i] = center[i];\n  }\n  this.setFlatCoordinates(this.layout, flatCoordinates);\n};\n\n\n/**\n * Set the center (as {@link ol.Coordinate coordinate}) and the radius (as\n * number) of the circle.\n * @param {ol.Coordinate} center Center.\n * @param {number} radius Radius.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\n_ol_geom_Circle_.prototype.setCenterAndRadius = function(center, radius, opt_layout) {\n  if (!center) {\n    this.setFlatCoordinates(_ol_geom_GeometryLayout_.XY, null);\n  } else {\n    this.setLayout(opt_layout, center, 0);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    /** @type {Array.<number>} */\n    var flatCoordinates = this.flatCoordinates;\n    var offset = _ol_geom_flat_deflate_.coordinate(\n        flatCoordinates, 0, center, this.stride);\n    flatCoordinates[offset++] = flatCoordinates[0] + radius;\n    var i, ii;\n    for (i = 1, ii = this.stride; i < ii; ++i) {\n      flatCoordinates[offset++] = flatCoordinates[i];\n    }\n    flatCoordinates.length = offset;\n    this.changed();\n  }\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.getCoordinates = function() {};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.setCoordinates = function(coordinates, opt_layout) {};\n\n\n/**\n * @param {ol.geom.GeometryLayout} layout Layout.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n */\n_ol_geom_Circle_.prototype.setFlatCoordinates = function(layout, flatCoordinates) {\n  this.setFlatCoordinatesInternal(layout, flatCoordinates);\n  this.changed();\n};\n\n\n/**\n * Set the radius of the circle. The radius is in the units of the projection.\n * @param {number} radius Radius.\n * @api\n */\n_ol_geom_Circle_.prototype.setRadius = function(radius) {\n  this.flatCoordinates[this.stride] = this.flatCoordinates[0] + radius;\n  this.changed();\n};\n\n\n/**\n * Transform each coordinate of the circle from one coordinate reference system\n * to another. The geometry is modified in place.\n * If you do not want the geometry modified in place, first clone() it and\n * then use this function on the clone.\n *\n * Internally a circle is currently represented by two points: the center of\n * the circle `[cx, cy]`, and the point to the right of the circle\n * `[cx + r, cy]`. This `transform` function just transforms these two points.\n * So the resulting geometry is also a circle, and that circle does not\n * correspond to the shape that would be obtained by transforming every point\n * of the original circle.\n *\n * @param {ol.ProjectionLike} source The current projection.  Can be a\n *     string identifier or a {@link ol.proj.Projection} object.\n * @param {ol.ProjectionLike} destination The desired projection.  Can be a\n *     string identifier or a {@link ol.proj.Projection} object.\n * @return {ol.geom.Circle} This geometry.  Note that original geometry is\n *     modified in place.\n * @function\n * @api\n */\n_ol_geom_Circle_.prototype.transform;\nexport default _ol_geom_Circle_;\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","/**\n * Icon anchor units. One of 'fraction', 'pixels'.\n * @enum {string}\n */\nvar _ol_style_IconAnchorUnits_ = {\n  FRACTION: 'fraction',\n  PIXELS: 'pixels'\n};\n\nexport default _ol_style_IconAnchorUnits_;\n","import _ol_ from '../index.js';\nimport _ol_dom_ from '../dom.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_EventTarget_ from '../events/eventtarget.js';\nimport _ol_events_EventType_ from '../events/eventtype.js';\nimport _ol_ImageState_ from '../imagestate.js';\nimport _ol_style_ from '../style.js';\n\n/**\n * @constructor\n * @param {Image|HTMLCanvasElement} image Image.\n * @param {string|undefined} src Src.\n * @param {ol.Size} size Size.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.ImageState} imageState Image state.\n * @param {ol.Color} color Color.\n * @extends {ol.events.EventTarget}\n */\nvar _ol_style_IconImage_ = function(image, src, size, crossOrigin, imageState,\n    color) {\n\n  _ol_events_EventTarget_.call(this);\n\n  /**\n   * @private\n   * @type {Image|HTMLCanvasElement}\n   */\n  this.hitDetectionImage_ = null;\n\n  /**\n   * @private\n   * @type {Image|HTMLCanvasElement}\n   */\n  this.image_ = !image ? new Image() : image;\n\n  if (crossOrigin !== null) {\n    this.image_.crossOrigin = crossOrigin;\n  }\n\n  /**\n   * @private\n   * @type {HTMLCanvasElement}\n   */\n  this.canvas_ = color ?\n    /** @type {HTMLCanvasElement} */ (document.createElement('CANVAS')) :\n    null;\n\n  /**\n   * @private\n   * @type {ol.Color}\n   */\n  this.color_ = color;\n\n  /**\n   * @private\n   * @type {Array.<ol.EventsKey>}\n   */\n  this.imageListenerKeys_ = null;\n\n  /**\n   * @private\n   * @type {ol.ImageState}\n   */\n  this.imageState_ = imageState;\n\n  /**\n   * @private\n   * @type {ol.Size}\n   */\n  this.size_ = size;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.src_ = src;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.tainting_ = false;\n  if (this.imageState_ == _ol_ImageState_.LOADED) {\n    this.determineTainting_();\n  }\n\n};\n\n_ol_.inherits(_ol_style_IconImage_, _ol_events_EventTarget_);\n\n\n/**\n * @param {Image|HTMLCanvasElement} image Image.\n * @param {string} src Src.\n * @param {ol.Size} size Size.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.ImageState} imageState Image state.\n * @param {ol.Color} color Color.\n * @return {ol.style.IconImage} Icon image.\n */\n_ol_style_IconImage_.get = function(image, src, size, crossOrigin, imageState,\n    color) {\n  var iconImageCache = _ol_style_.iconImageCache;\n  var iconImage = iconImageCache.get(src, crossOrigin, color);\n  if (!iconImage) {\n    iconImage = new _ol_style_IconImage_(\n        image, src, size, crossOrigin, imageState, color);\n    iconImageCache.set(src, crossOrigin, color, iconImage);\n  }\n  return iconImage;\n};\n\n\n/**\n * @private\n */\n_ol_style_IconImage_.prototype.determineTainting_ = function() {\n  var context = _ol_dom_.createCanvasContext2D(1, 1);\n  try {\n    context.drawImage(this.image_, 0, 0);\n    context.getImageData(0, 0, 1, 1);\n  } catch (e) {\n    this.tainting_ = true;\n  }\n};\n\n\n/**\n * @private\n */\n_ol_style_IconImage_.prototype.dispatchChangeEvent_ = function() {\n  this.dispatchEvent(_ol_events_EventType_.CHANGE);\n};\n\n\n/**\n * @private\n */\n_ol_style_IconImage_.prototype.handleImageError_ = function() {\n  this.imageState_ = _ol_ImageState_.ERROR;\n  this.unlistenImage_();\n  this.dispatchChangeEvent_();\n};\n\n\n/**\n * @private\n */\n_ol_style_IconImage_.prototype.handleImageLoad_ = function() {\n  this.imageState_ = _ol_ImageState_.LOADED;\n  if (this.size_) {\n    this.image_.width = this.size_[0];\n    this.image_.height = this.size_[1];\n  }\n  this.size_ = [this.image_.width, this.image_.height];\n  this.unlistenImage_();\n  this.determineTainting_();\n  this.replaceColor_();\n  this.dispatchChangeEvent_();\n};\n\n\n/**\n * @param {number} pixelRatio Pixel ratio.\n * @return {Image|HTMLCanvasElement} Image or Canvas element.\n */\n_ol_style_IconImage_.prototype.getImage = function(pixelRatio) {\n  return this.canvas_ ? this.canvas_ : this.image_;\n};\n\n\n/**\n * @return {ol.ImageState} Image state.\n */\n_ol_style_IconImage_.prototype.getImageState = function() {\n  return this.imageState_;\n};\n\n\n/**\n * @param {number} pixelRatio Pixel ratio.\n * @return {Image|HTMLCanvasElement} Image element.\n */\n_ol_style_IconImage_.prototype.getHitDetectionImage = function(pixelRatio) {\n  if (!this.hitDetectionImage_) {\n    if (this.tainting_) {\n      var width = this.size_[0];\n      var height = this.size_[1];\n      var context = _ol_dom_.createCanvasContext2D(width, height);\n      context.fillRect(0, 0, width, height);\n      this.hitDetectionImage_ = context.canvas;\n    } else {\n      this.hitDetectionImage_ = this.image_;\n    }\n  }\n  return this.hitDetectionImage_;\n};\n\n\n/**\n * @return {ol.Size} Image size.\n */\n_ol_style_IconImage_.prototype.getSize = function() {\n  return this.size_;\n};\n\n\n/**\n * @return {string|undefined} Image src.\n */\n_ol_style_IconImage_.prototype.getSrc = function() {\n  return this.src_;\n};\n\n\n/**\n * Load not yet loaded URI.\n */\n_ol_style_IconImage_.prototype.load = function() {\n  if (this.imageState_ == _ol_ImageState_.IDLE) {\n    this.imageState_ = _ol_ImageState_.LOADING;\n    this.imageListenerKeys_ = [\n      _ol_events_.listenOnce(this.image_, _ol_events_EventType_.ERROR,\n          this.handleImageError_, this),\n      _ol_events_.listenOnce(this.image_, _ol_events_EventType_.LOAD,\n          this.handleImageLoad_, this)\n    ];\n    try {\n      this.image_.src = this.src_;\n    } catch (e) {\n      this.handleImageError_();\n    }\n  }\n};\n\n\n/**\n * @private\n */\n_ol_style_IconImage_.prototype.replaceColor_ = function() {\n  if (this.tainting_ || this.color_ === null) {\n    return;\n  }\n\n  this.canvas_.width = this.image_.width;\n  this.canvas_.height = this.image_.height;\n\n  var ctx = this.canvas_.getContext('2d');\n  ctx.drawImage(this.image_, 0, 0);\n\n  var imgData = ctx.getImageData(0, 0, this.image_.width, this.image_.height);\n  var data = imgData.data;\n  var r = this.color_[0] / 255.0;\n  var g = this.color_[1] / 255.0;\n  var b = this.color_[2] / 255.0;\n\n  for (var i = 0, ii = data.length; i < ii; i += 4) {\n    data[i] *= r;\n    data[i + 1] *= g;\n    data[i + 2] *= b;\n  }\n  ctx.putImageData(imgData, 0, 0);\n};\n\n\n/**\n * Discards event handlers which listen for load completion or errors.\n *\n * @private\n */\n_ol_style_IconImage_.prototype.unlistenImage_ = function() {\n  this.imageListenerKeys_.forEach(_ol_events_.unlistenByKey);\n  this.imageListenerKeys_ = null;\n};\nexport default _ol_style_IconImage_;\n","/**\n * Icon origin. One of 'bottom-left', 'bottom-right', 'top-left', 'top-right'.\n * @enum {string}\n */\nvar _ol_style_IconOrigin_ = {\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_RIGHT: 'bottom-right',\n  TOP_LEFT: 'top-left',\n  TOP_RIGHT: 'top-right'\n};\n\nexport default _ol_style_IconOrigin_;\n","import _ol_ from '../index.js';\nimport _ol_ImageState_ from '../imagestate.js';\nimport _ol_asserts_ from '../asserts.js';\nimport _ol_color_ from '../color.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_EventType_ from '../events/eventtype.js';\nimport _ol_style_IconAnchorUnits_ from '../style/iconanchorunits.js';\nimport _ol_style_IconImage_ from '../style/iconimage.js';\nimport _ol_style_IconOrigin_ from '../style/iconorigin.js';\nimport _ol_style_Image_ from '../style/image.js';\n\n/**\n * @classdesc\n * Set icon style for vector features.\n *\n * @constructor\n * @param {olx.style.IconOptions=} opt_options Options.\n * @extends {ol.style.Image}\n * @api\n */\nvar _ol_style_Icon_ = function(opt_options) {\n\n  var options = opt_options || {};\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.anchor_ = options.anchor !== undefined ? options.anchor : [0.5, 0.5];\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.normalizedAnchor_ = null;\n\n  /**\n   * @private\n   * @type {ol.style.IconOrigin}\n   */\n  this.anchorOrigin_ = options.anchorOrigin !== undefined ?\n    options.anchorOrigin : _ol_style_IconOrigin_.TOP_LEFT;\n\n  /**\n   * @private\n   * @type {ol.style.IconAnchorUnits}\n   */\n  this.anchorXUnits_ = options.anchorXUnits !== undefined ?\n    options.anchorXUnits : _ol_style_IconAnchorUnits_.FRACTION;\n\n  /**\n   * @private\n   * @type {ol.style.IconAnchorUnits}\n   */\n  this.anchorYUnits_ = options.anchorYUnits !== undefined ?\n    options.anchorYUnits : _ol_style_IconAnchorUnits_.FRACTION;\n\n  /**\n   * @private\n   * @type {?string}\n   */\n  this.crossOrigin_ =\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\n\n  /**\n   * @type {Image|HTMLCanvasElement}\n   */\n  var image = options.img !== undefined ? options.img : null;\n\n  /**\n   * @type {ol.Size}\n   */\n  var imgSize = options.imgSize !== undefined ? options.imgSize : null;\n\n  /**\n   * @type {string|undefined}\n   */\n  var src = options.src;\n\n  _ol_asserts_.assert(!(src !== undefined && image),\n      4); // `image` and `src` cannot be provided at the same time\n  _ol_asserts_.assert(!image || (image && imgSize),\n      5); // `imgSize` must be set when `image` is provided\n\n  if ((src === undefined || src.length === 0) && image) {\n    src = image.src || _ol_.getUid(image).toString();\n  }\n  _ol_asserts_.assert(src !== undefined && src.length > 0,\n      6); // A defined and non-empty `src` or `image` must be provided\n\n  /**\n   * @type {ol.ImageState}\n   */\n  var imageState = options.src !== undefined ?\n    _ol_ImageState_.IDLE : _ol_ImageState_.LOADED;\n\n  /**\n   * @private\n   * @type {ol.Color}\n   */\n  this.color_ = options.color !== undefined ? _ol_color_.asArray(options.color) :\n    null;\n\n  /**\n   * @private\n   * @type {ol.style.IconImage}\n   */\n  this.iconImage_ = _ol_style_IconImage_.get(\n      image, /** @type {string} */ (src), imgSize, this.crossOrigin_, imageState, this.color_);\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.offset_ = options.offset !== undefined ? options.offset : [0, 0];\n\n  /**\n   * @private\n   * @type {ol.style.IconOrigin}\n   */\n  this.offsetOrigin_ = options.offsetOrigin !== undefined ?\n    options.offsetOrigin : _ol_style_IconOrigin_.TOP_LEFT;\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.origin_ = null;\n\n  /**\n   * @private\n   * @type {ol.Size}\n   */\n  this.size_ = options.size !== undefined ? options.size : null;\n\n  /**\n   * @type {number}\n   */\n  var opacity = options.opacity !== undefined ? options.opacity : 1;\n\n  /**\n   * @type {boolean}\n   */\n  var rotateWithView = options.rotateWithView !== undefined ?\n    options.rotateWithView : false;\n\n  /**\n   * @type {number}\n   */\n  var rotation = options.rotation !== undefined ? options.rotation : 0;\n\n  /**\n   * @type {number}\n   */\n  var scale = options.scale !== undefined ? options.scale : 1;\n\n  /**\n   * @type {boolean}\n   */\n  var snapToPixel = options.snapToPixel !== undefined ?\n    options.snapToPixel : true;\n\n  _ol_style_Image_.call(this, {\n    opacity: opacity,\n    rotation: rotation,\n    scale: scale,\n    snapToPixel: snapToPixel,\n    rotateWithView: rotateWithView\n  });\n\n};\n\n_ol_.inherits(_ol_style_Icon_, _ol_style_Image_);\n\n\n/**\n * Clones the style. The underlying Image/HTMLCanvasElement is not cloned.\n * @return {ol.style.Icon} The cloned style.\n * @api\n */\n_ol_style_Icon_.prototype.clone = function() {\n  return new _ol_style_Icon_({\n    anchor: this.anchor_.slice(),\n    anchorOrigin: this.anchorOrigin_,\n    anchorXUnits: this.anchorXUnits_,\n    anchorYUnits: this.anchorYUnits_,\n    crossOrigin: this.crossOrigin_,\n    color: (this.color_ && this.color_.slice) ? this.color_.slice() : this.color_ || undefined,\n    src: this.getSrc(),\n    offset: this.offset_.slice(),\n    offsetOrigin: this.offsetOrigin_,\n    size: this.size_ !== null ? this.size_.slice() : undefined,\n    opacity: this.getOpacity(),\n    scale: this.getScale(),\n    snapToPixel: this.getSnapToPixel(),\n    rotation: this.getRotation(),\n    rotateWithView: this.getRotateWithView()\n  });\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_style_Icon_.prototype.getAnchor = function() {\n  if (this.normalizedAnchor_) {\n    return this.normalizedAnchor_;\n  }\n  var anchor = this.anchor_;\n  var size = this.getSize();\n  if (this.anchorXUnits_ == _ol_style_IconAnchorUnits_.FRACTION ||\n      this.anchorYUnits_ == _ol_style_IconAnchorUnits_.FRACTION) {\n    if (!size) {\n      return null;\n    }\n    anchor = this.anchor_.slice();\n    if (this.anchorXUnits_ == _ol_style_IconAnchorUnits_.FRACTION) {\n      anchor[0] *= size[0];\n    }\n    if (this.anchorYUnits_ == _ol_style_IconAnchorUnits_.FRACTION) {\n      anchor[1] *= size[1];\n    }\n  }\n\n  if (this.anchorOrigin_ != _ol_style_IconOrigin_.TOP_LEFT) {\n    if (!size) {\n      return null;\n    }\n    if (anchor === this.anchor_) {\n      anchor = this.anchor_.slice();\n    }\n    if (this.anchorOrigin_ == _ol_style_IconOrigin_.TOP_RIGHT ||\n        this.anchorOrigin_ == _ol_style_IconOrigin_.BOTTOM_RIGHT) {\n      anchor[0] = -anchor[0] + size[0];\n    }\n    if (this.anchorOrigin_ == _ol_style_IconOrigin_.BOTTOM_LEFT ||\n        this.anchorOrigin_ == _ol_style_IconOrigin_.BOTTOM_RIGHT) {\n      anchor[1] = -anchor[1] + size[1];\n    }\n  }\n  this.normalizedAnchor_ = anchor;\n  return this.normalizedAnchor_;\n};\n\n\n/**\n * Get the icon color.\n * @return {ol.Color} Color.\n * @api\n */\n_ol_style_Icon_.prototype.getColor = function() {\n  return this.color_;\n};\n\n\n/**\n * Get the image icon.\n * @param {number} pixelRatio Pixel ratio.\n * @return {Image|HTMLCanvasElement} Image or Canvas element.\n * @override\n * @api\n */\n_ol_style_Icon_.prototype.getImage = function(pixelRatio) {\n  return this.iconImage_.getImage(pixelRatio);\n};\n\n\n/**\n * @override\n */\n_ol_style_Icon_.prototype.getImageSize = function() {\n  return this.iconImage_.getSize();\n};\n\n\n/**\n * @override\n */\n_ol_style_Icon_.prototype.getHitDetectionImageSize = function() {\n  return this.getImageSize();\n};\n\n\n/**\n * @override\n */\n_ol_style_Icon_.prototype.getImageState = function() {\n  return this.iconImage_.getImageState();\n};\n\n\n/**\n * @override\n */\n_ol_style_Icon_.prototype.getHitDetectionImage = function(pixelRatio) {\n  return this.iconImage_.getHitDetectionImage(pixelRatio);\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_style_Icon_.prototype.getOrigin = function() {\n  if (this.origin_) {\n    return this.origin_;\n  }\n  var offset = this.offset_;\n\n  if (this.offsetOrigin_ != _ol_style_IconOrigin_.TOP_LEFT) {\n    var size = this.getSize();\n    var iconImageSize = this.iconImage_.getSize();\n    if (!size || !iconImageSize) {\n      return null;\n    }\n    offset = offset.slice();\n    if (this.offsetOrigin_ == _ol_style_IconOrigin_.TOP_RIGHT ||\n        this.offsetOrigin_ == _ol_style_IconOrigin_.BOTTOM_RIGHT) {\n      offset[0] = iconImageSize[0] - size[0] - offset[0];\n    }\n    if (this.offsetOrigin_ == _ol_style_IconOrigin_.BOTTOM_LEFT ||\n        this.offsetOrigin_ == _ol_style_IconOrigin_.BOTTOM_RIGHT) {\n      offset[1] = iconImageSize[1] - size[1] - offset[1];\n    }\n  }\n  this.origin_ = offset;\n  return this.origin_;\n};\n\n\n/**\n * Get the image URL.\n * @return {string|undefined} Image src.\n * @api\n */\n_ol_style_Icon_.prototype.getSrc = function() {\n  return this.iconImage_.getSrc();\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_style_Icon_.prototype.getSize = function() {\n  return !this.size_ ? this.iconImage_.getSize() : this.size_;\n};\n\n\n/**\n * @override\n */\n_ol_style_Icon_.prototype.listenImageChange = function(listener, thisArg) {\n  return _ol_events_.listen(this.iconImage_, _ol_events_EventType_.CHANGE,\n      listener, thisArg);\n};\n\n\n/**\n * Load not yet loaded URI.\n * When rendering a feature with an icon style, the vector renderer will\n * automatically call this method. However, you might want to call this\n * method yourself for preloading or other purposes.\n * @override\n * @api\n */\n_ol_style_Icon_.prototype.load = function() {\n  this.iconImage_.load();\n};\n\n\n/**\n * @override\n */\n_ol_style_Icon_.prototype.unlistenImageChange = function(listener, thisArg) {\n  _ol_events_.unlisten(this.iconImage_, _ol_events_EventType_.CHANGE,\n      listener, thisArg);\n};\nexport default _ol_style_Icon_;\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\n\nvar $Array = Array;\nvar max = Math.max;\n\nmodule.exports = function (O, start, end) {\n  var length = lengthOfArrayLike(O);\n  var k = toAbsoluteIndex(start, length);\n  var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n  var result = $Array(max(fin - k, 0));\n  for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);\n  result.length = n;\n  return result;\n};\n","var call = require('../internals/function-call');\nvar getBuiltIn = require('../internals/get-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function () {\n  var Symbol = getBuiltIn('Symbol');\n  var SymbolPrototype = Symbol && Symbol.prototype;\n  var valueOf = SymbolPrototype && SymbolPrototype.valueOf;\n  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n  if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {\n    // `Symbol.prototype[@@toPrimitive]` method\n    // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\n    // eslint-disable-next-line no-unused-vars -- required for .length\n    defineBuiltIn(SymbolPrototype, TO_PRIMITIVE, function (hint) {\n      return call(valueOf, this);\n    }, { arity: 1 });\n  }\n};\n","var $ = require('../internals/export');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar fails = require('../internals/fails');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar toObject = require('../internals/to-object');\n\n// V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FORCED = !NATIVE_SYMBOL || fails(function () { getOwnPropertySymbolsModule.f(1); });\n\n// `Object.getOwnPropertySymbols` method\n// https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n$({ target: 'Object', stat: true, forced: FORCED }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    var $getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n    return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject(it)) : [];\n  }\n});\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","import _ol_ from '../index.js';\nimport _ol_CollectionEventType_ from '../collectioneventtype.js';\nimport _ol_array_ from '../array.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_Event_ from '../events/event.js';\nimport _ol_events_condition_ from '../events/condition.js';\nimport _ol_functions_ from '../functions.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_interaction_Interaction_ from '../interaction/interaction.js';\nimport _ol_layer_Vector_ from '../layer/vector.js';\nimport _ol_obj_ from '../obj.js';\nimport _ol_source_Vector_ from '../source/vector.js';\nimport _ol_style_Style_ from '../style/style.js';\n\n/**\n * @classdesc\n * Interaction for selecting vector features. By default, selected features are\n * styled differently, so this interaction can be used for visual highlighting,\n * as well as selecting features for other actions, such as modification or\n * output. There are three ways of controlling which features are selected:\n * using the browser event as defined by the `condition` and optionally the\n * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n * further feature filter using the `filter` option.\n *\n * Selected features are added to an internal unmanaged layer.\n *\n * @constructor\n * @extends {ol.interaction.Interaction}\n * @param {olx.interaction.SelectOptions=} opt_options Options.\n * @fires ol.interaction.Select.Event\n * @api\n */\nvar _ol_interaction_Select_ = function(opt_options) {\n\n  _ol_interaction_Interaction_.call(this, {\n    handleEvent: _ol_interaction_Select_.handleEvent\n  });\n\n  var options = opt_options ? opt_options : {};\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.condition_ = options.condition ?\n    options.condition : _ol_events_condition_.singleClick;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.addCondition_ = options.addCondition ?\n    options.addCondition : _ol_events_condition_.never;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.removeCondition_ = options.removeCondition ?\n    options.removeCondition : _ol_events_condition_.never;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.toggleCondition_ = options.toggleCondition ?\n    options.toggleCondition : _ol_events_condition_.shiftKeyOnly;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.multi_ = options.multi ? options.multi : false;\n\n  /**\n   * @private\n   * @type {ol.SelectFilterFunction}\n   */\n  this.filter_ = options.filter ? options.filter :\n    _ol_functions_.TRUE;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n  var featureOverlay = new _ol_layer_Vector_({\n    source: new _ol_source_Vector_({\n      useSpatialIndex: false,\n      features: options.features,\n      wrapX: options.wrapX\n    }),\n    style: options.style ? options.style :\n      _ol_interaction_Select_.getDefaultStyleFunction(),\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n   * @private\n   * @type {ol.layer.Vector}\n   */\n  this.featureOverlay_ = featureOverlay;\n\n  /** @type {function(ol.layer.Layer): boolean} */\n  var layerFilter;\n  if (options.layers) {\n    if (typeof options.layers === 'function') {\n      layerFilter = options.layers;\n    } else {\n      var layers = options.layers;\n      layerFilter = function(layer) {\n        return _ol_array_.includes(layers, layer);\n      };\n    }\n  } else {\n    layerFilter = _ol_functions_.TRUE;\n  }\n\n  /**\n   * @private\n   * @type {function(ol.layer.Layer): boolean}\n   */\n  this.layerFilter_ = layerFilter;\n\n  /**\n   * An association between selected feature (key)\n   * and layer (value)\n   * @private\n   * @type {Object.<number, ol.layer.Layer>}\n   */\n  this.featureLayerAssociation_ = {};\n\n  var features = this.featureOverlay_.getSource().getFeaturesCollection();\n  _ol_events_.listen(features, _ol_CollectionEventType_.ADD,\n      this.addFeature_, this);\n  _ol_events_.listen(features, _ol_CollectionEventType_.REMOVE,\n      this.removeFeature_, this);\n\n};\n\n_ol_.inherits(_ol_interaction_Select_, _ol_interaction_Interaction_);\n\n\n/**\n * @param {ol.Feature|ol.render.Feature} feature Feature.\n * @param {ol.layer.Layer} layer Layer.\n * @private\n */\n_ol_interaction_Select_.prototype.addFeatureLayerAssociation_ = function(feature, layer) {\n  var key = _ol_.getUid(feature);\n  this.featureLayerAssociation_[key] = layer;\n};\n\n\n/**\n * Get the selected features.\n * @return {ol.Collection.<ol.Feature>} Features collection.\n * @api\n */\n_ol_interaction_Select_.prototype.getFeatures = function() {\n  return this.featureOverlay_.getSource().getFeaturesCollection();\n};\n\n\n/**\n * Returns the Hit-detection tolerance.\n * @returns {number} Hit tolerance in pixels.\n * @api\n */\n_ol_interaction_Select_.prototype.getHitTolerance = function() {\n  return this.hitTolerance_;\n};\n\n\n/**\n * Returns the associated {@link ol.layer.Vector vectorlayer} of\n * the (last) selected feature. Note that this will not work with any\n * programmatic method like pushing features to\n * {@link ol.interaction.Select#getFeatures collection}.\n * @param {ol.Feature|ol.render.Feature} feature Feature\n * @return {ol.layer.Vector} Layer.\n * @api\n */\n_ol_interaction_Select_.prototype.getLayer = function(feature) {\n  var key = _ol_.getUid(feature);\n  return /** @type {ol.layer.Vector} */ (this.featureLayerAssociation_[key]);\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may change the\n * selected state of features.\n * @param {ol.MapBrowserEvent} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ol.interaction.Select}\n * @api\n */\n_ol_interaction_Select_.handleEvent = function(mapBrowserEvent) {\n  if (!this.condition_(mapBrowserEvent)) {\n    return true;\n  }\n  var add = this.addCondition_(mapBrowserEvent);\n  var remove = this.removeCondition_(mapBrowserEvent);\n  var toggle = this.toggleCondition_(mapBrowserEvent);\n  var set = !add && !remove && !toggle;\n  var map = mapBrowserEvent.map;\n  var features = this.featureOverlay_.getSource().getFeaturesCollection();\n  var deselected = [];\n  var selected = [];\n  if (set) {\n    // Replace the currently selected feature(s) with the feature(s) at the\n    // pixel, or clear the selected feature(s) if there is no feature at\n    // the pixel.\n    _ol_obj_.clear(this.featureLayerAssociation_);\n    map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        (\n          /**\n           * @param {ol.Feature|ol.render.Feature} feature Feature.\n           * @param {ol.layer.Layer} layer Layer.\n           * @return {boolean|undefined} Continue to iterate over the features.\n           */\n          function(feature, layer) {\n            if (this.filter_(feature, layer)) {\n              selected.push(feature);\n              this.addFeatureLayerAssociation_(feature, layer);\n              return !this.multi_;\n            }\n          }).bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n    var i;\n    for (i = features.getLength() - 1; i >= 0; --i) {\n      var feature = features.item(i);\n      var index = selected.indexOf(feature);\n      if (index > -1) {\n        // feature is already selected\n        selected.splice(index, 1);\n      } else {\n        features.remove(feature);\n        deselected.push(feature);\n      }\n    }\n    if (selected.length !== 0) {\n      features.extend(selected);\n    }\n  } else {\n    // Modify the currently selected feature(s).\n    map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        (\n          /**\n           * @param {ol.Feature|ol.render.Feature} feature Feature.\n           * @param {ol.layer.Layer} layer Layer.\n           * @return {boolean|undefined} Continue to iterate over the features.\n           */\n          function(feature, layer) {\n            if (this.filter_(feature, layer)) {\n              if ((add || toggle) &&\n                !_ol_array_.includes(features.getArray(), feature)) {\n                selected.push(feature);\n                this.addFeatureLayerAssociation_(feature, layer);\n              } else if ((remove || toggle) &&\n                _ol_array_.includes(features.getArray(), feature)) {\n                deselected.push(feature);\n                this.removeFeatureLayerAssociation_(feature);\n              }\n              return !this.multi_;\n            }\n          }).bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n    var j;\n    for (j = deselected.length - 1; j >= 0; --j) {\n      features.remove(deselected[j]);\n    }\n    features.extend(selected);\n  }\n  if (selected.length > 0 || deselected.length > 0) {\n    this.dispatchEvent(\n        new _ol_interaction_Select_.Event(_ol_interaction_Select_.EventType_.SELECT,\n            selected, deselected, mapBrowserEvent));\n  }\n  return _ol_events_condition_.pointerMove(mapBrowserEvent);\n};\n\n\n/**\n * Hit-detection tolerance. Pixels inside the radius around the given position\n * will be checked for features. This only works for the canvas renderer and\n * not for WebGL.\n * @param {number} hitTolerance Hit tolerance in pixels.\n * @api\n */\n_ol_interaction_Select_.prototype.setHitTolerance = function(hitTolerance) {\n  this.hitTolerance_ = hitTolerance;\n};\n\n\n/**\n * Remove the interaction from its current map, if any,  and attach it to a new\n * map, if any. Pass `null` to just remove the interaction from the current map.\n * @param {ol.PluggableMap} map Map.\n * @override\n * @api\n */\n_ol_interaction_Select_.prototype.setMap = function(map) {\n  var currentMap = this.getMap();\n  var selectedFeatures =\n      this.featureOverlay_.getSource().getFeaturesCollection();\n  if (currentMap) {\n    selectedFeatures.forEach(currentMap.unskipFeature, currentMap);\n  }\n  _ol_interaction_Interaction_.prototype.setMap.call(this, map);\n  this.featureOverlay_.setMap(map);\n  if (map) {\n    selectedFeatures.forEach(map.skipFeature, map);\n  }\n};\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\n_ol_interaction_Select_.getDefaultStyleFunction = function() {\n  var styles = _ol_style_Style_.createDefaultEditing();\n  _ol_array_.extend(styles[_ol_geom_GeometryType_.POLYGON],\n      styles[_ol_geom_GeometryType_.LINE_STRING]);\n  _ol_array_.extend(styles[_ol_geom_GeometryType_.GEOMETRY_COLLECTION],\n      styles[_ol_geom_GeometryType_.LINE_STRING]);\n\n  return function(feature, resolution) {\n    if (!feature.getGeometry()) {\n      return null;\n    }\n    return styles[feature.getGeometry().getType()];\n  };\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\n_ol_interaction_Select_.prototype.addFeature_ = function(evt) {\n  var map = this.getMap();\n  if (map) {\n    map.skipFeature(/** @type {ol.Feature} */ (evt.element));\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\n_ol_interaction_Select_.prototype.removeFeature_ = function(evt) {\n  var map = this.getMap();\n  if (map) {\n    map.unskipFeature(/** @type {ol.Feature} */ (evt.element));\n  }\n};\n\n\n/**\n * @param {ol.Feature|ol.render.Feature} feature Feature.\n * @private\n */\n_ol_interaction_Select_.prototype.removeFeatureLayerAssociation_ = function(feature) {\n  var key = _ol_.getUid(feature);\n  delete this.featureLayerAssociation_[key];\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Select} instances are instances of\n * this type.\n *\n * @param {ol.interaction.Select.EventType_} type The event type.\n * @param {Array.<ol.Feature>} selected Selected features.\n * @param {Array.<ol.Feature>} deselected Deselected features.\n * @param {ol.MapBrowserEvent} mapBrowserEvent Associated\n *     {@link ol.MapBrowserEvent}.\n * @implements {oli.SelectEvent}\n * @extends {ol.events.Event}\n * @constructor\n */\n_ol_interaction_Select_.Event = function(type, selected, deselected, mapBrowserEvent) {\n  _ol_events_Event_.call(this, type);\n\n  /**\n   * Selected features array.\n   * @type {Array.<ol.Feature>}\n   * @api\n   */\n  this.selected = selected;\n\n  /**\n   * Deselected features array.\n   * @type {Array.<ol.Feature>}\n   * @api\n   */\n  this.deselected = deselected;\n\n  /**\n   * Associated {@link ol.MapBrowserEvent}.\n   * @type {ol.MapBrowserEvent}\n   * @api\n   */\n  this.mapBrowserEvent = mapBrowserEvent;\n};\n_ol_.inherits(_ol_interaction_Select_.Event, _ol_events_Event_);\n\n\n/**\n * @enum {string}\n * @private\n */\n_ol_interaction_Select_.EventType_ = {\n  /**\n   * Triggered when feature(s) has been (de)selected.\n   * @event ol.interaction.Select.Event#select\n   * @api\n   */\n  SELECT: 'select'\n};\nexport default _ol_interaction_Select_;\n","import _ol_ from '../index.js';\nimport _ol_format_Feature_ from '../format/feature.js';\nimport _ol_format_FormatType_ from '../format/formattype.js';\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for text feature formats.\n *\n * @constructor\n * @abstract\n * @extends {ol.format.Feature}\n */\nvar _ol_format_TextFeature_ = function() {\n  _ol_format_Feature_.call(this);\n};\n\n_ol_.inherits(_ol_format_TextFeature_, _ol_format_Feature_);\n\n\n/**\n * @param {Document|Node|Object|string} source Source.\n * @private\n * @return {string} Text.\n */\n_ol_format_TextFeature_.prototype.getText_ = function(source) {\n  if (typeof source === 'string') {\n    return source;\n  } else {\n    return '';\n  }\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_format_TextFeature_.prototype.getType = function() {\n  return _ol_format_FormatType_.TEXT;\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_format_TextFeature_.prototype.readFeature = function(source, opt_options) {\n  return this.readFeatureFromText(\n      this.getText_(source), this.adaptOptions(opt_options));\n};\n\n\n/**\n * @abstract\n * @param {string} text Text.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @protected\n * @return {ol.Feature} Feature.\n */\n_ol_format_TextFeature_.prototype.readFeatureFromText = function(text, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\n_ol_format_TextFeature_.prototype.readFeatures = function(source, opt_options) {\n  return this.readFeaturesFromText(\n      this.getText_(source), this.adaptOptions(opt_options));\n};\n\n\n/**\n * @abstract\n * @param {string} text Text.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @protected\n * @return {Array.<ol.Feature>} Features.\n */\n_ol_format_TextFeature_.prototype.readFeaturesFromText = function(text, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\n_ol_format_TextFeature_.prototype.readGeometry = function(source, opt_options) {\n  return this.readGeometryFromText(\n      this.getText_(source), this.adaptOptions(opt_options));\n};\n\n\n/**\n * @abstract\n * @param {string} text Text.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @protected\n * @return {ol.geom.Geometry} Geometry.\n */\n_ol_format_TextFeature_.prototype.readGeometryFromText = function(text, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\n_ol_format_TextFeature_.prototype.readProjection = function(source) {\n  return this.readProjectionFromText(this.getText_(source));\n};\n\n\n/**\n * @param {string} text Text.\n * @protected\n * @return {ol.proj.Projection} Projection.\n */\n_ol_format_TextFeature_.prototype.readProjectionFromText = function(text) {\n  return this.defaultDataProjection;\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_format_TextFeature_.prototype.writeFeature = function(feature, opt_options) {\n  return this.writeFeatureText(feature, this.adaptOptions(opt_options));\n};\n\n\n/**\n * @abstract\n * @param {ol.Feature} feature Features.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @protected\n * @return {string} Text.\n */\n_ol_format_TextFeature_.prototype.writeFeatureText = function(feature, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\n_ol_format_TextFeature_.prototype.writeFeatures = function(\n    features, opt_options) {\n  return this.writeFeaturesText(features, this.adaptOptions(opt_options));\n};\n\n\n/**\n * @abstract\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @protected\n * @return {string} Text.\n */\n_ol_format_TextFeature_.prototype.writeFeaturesText = function(features, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\n_ol_format_TextFeature_.prototype.writeGeometry = function(\n    geometry, opt_options) {\n  return this.writeGeometryText(geometry, this.adaptOptions(opt_options));\n};\n\n\n/**\n * @abstract\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @protected\n * @return {string} Text.\n */\n_ol_format_TextFeature_.prototype.writeGeometryText = function(geometry, opt_options) {};\nexport default _ol_format_TextFeature_;\n","import _ol_ from '../index.js';\nimport _ol_Feature_ from '../feature.js';\nimport _ol_format_Feature_ from '../format/feature.js';\nimport _ol_format_TextFeature_ from '../format/textfeature.js';\nimport _ol_geom_GeometryCollection_ from '../geom/geometrycollection.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_geom_GeometryLayout_ from '../geom/geometrylayout.js';\nimport _ol_geom_LineString_ from '../geom/linestring.js';\nimport _ol_geom_MultiLineString_ from '../geom/multilinestring.js';\nimport _ol_geom_MultiPoint_ from '../geom/multipoint.js';\nimport _ol_geom_MultiPolygon_ from '../geom/multipolygon.js';\nimport _ol_geom_Point_ from '../geom/point.js';\nimport _ol_geom_Polygon_ from '../geom/polygon.js';\nimport _ol_geom_SimpleGeometry_ from '../geom/simplegeometry.js';\n\n/**\n * @classdesc\n * Geometry format for reading and writing data in the `WellKnownText` (WKT)\n * format.\n *\n * @constructor\n * @extends {ol.format.TextFeature}\n * @param {olx.format.WKTOptions=} opt_options Options.\n * @api\n */\nvar _ol_format_WKT_ = function(opt_options) {\n\n  var options = opt_options ? opt_options : {};\n\n  _ol_format_TextFeature_.call(this);\n\n  /**\n   * Split GeometryCollection into multiple features.\n   * @type {boolean}\n   * @private\n   */\n  this.splitCollection_ = options.splitCollection !== undefined ?\n    options.splitCollection : false;\n\n};\n\n_ol_.inherits(_ol_format_WKT_, _ol_format_TextFeature_);\n\n\n/**\n * @const\n * @type {string}\n */\n_ol_format_WKT_.EMPTY = 'EMPTY';\n\n\n/**\n * @const\n * @type {string}\n */\n_ol_format_WKT_.Z = 'Z';\n\n\n/**\n * @const\n * @type {string}\n */\n_ol_format_WKT_.M = 'M';\n\n\n/**\n * @const\n * @type {string}\n */\n_ol_format_WKT_.ZM = 'ZM';\n\n\n/**\n * @param {ol.geom.Point} geom Point geometry.\n * @return {string} Coordinates part of Point as WKT.\n * @private\n */\n_ol_format_WKT_.encodePointGeometry_ = function(geom) {\n  var coordinates = geom.getCoordinates();\n  if (coordinates.length === 0) {\n    return '';\n  }\n  return coordinates.join(' ');\n};\n\n\n/**\n * @param {ol.geom.MultiPoint} geom MultiPoint geometry.\n * @return {string} Coordinates part of MultiPoint as WKT.\n * @private\n */\n_ol_format_WKT_.encodeMultiPointGeometry_ = function(geom) {\n  var array = [];\n  var components = geom.getPoints();\n  for (var i = 0, ii = components.length; i < ii; ++i) {\n    array.push('(' + _ol_format_WKT_.encodePointGeometry_(components[i]) + ')');\n  }\n  return array.join(',');\n};\n\n\n/**\n * @param {ol.geom.GeometryCollection} geom GeometryCollection geometry.\n * @return {string} Coordinates part of GeometryCollection as WKT.\n * @private\n */\n_ol_format_WKT_.encodeGeometryCollectionGeometry_ = function(geom) {\n  var array = [];\n  var geoms = geom.getGeometries();\n  for (var i = 0, ii = geoms.length; i < ii; ++i) {\n    array.push(_ol_format_WKT_.encode_(geoms[i]));\n  }\n  return array.join(',');\n};\n\n\n/**\n * @param {ol.geom.LineString|ol.geom.LinearRing} geom LineString geometry.\n * @return {string} Coordinates part of LineString as WKT.\n * @private\n */\n_ol_format_WKT_.encodeLineStringGeometry_ = function(geom) {\n  var coordinates = geom.getCoordinates();\n  var array = [];\n  for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n    array.push(coordinates[i].join(' '));\n  }\n  return array.join(',');\n};\n\n\n/**\n * @param {ol.geom.MultiLineString} geom MultiLineString geometry.\n * @return {string} Coordinates part of MultiLineString as WKT.\n * @private\n */\n_ol_format_WKT_.encodeMultiLineStringGeometry_ = function(geom) {\n  var array = [];\n  var components = geom.getLineStrings();\n  for (var i = 0, ii = components.length; i < ii; ++i) {\n    array.push('(' + _ol_format_WKT_.encodeLineStringGeometry_(\n        components[i]) + ')');\n  }\n  return array.join(',');\n};\n\n\n/**\n * @param {ol.geom.Polygon} geom Polygon geometry.\n * @return {string} Coordinates part of Polygon as WKT.\n * @private\n */\n_ol_format_WKT_.encodePolygonGeometry_ = function(geom) {\n  var array = [];\n  var rings = geom.getLinearRings();\n  for (var i = 0, ii = rings.length; i < ii; ++i) {\n    array.push('(' + _ol_format_WKT_.encodeLineStringGeometry_(\n        rings[i]) + ')');\n  }\n  return array.join(',');\n};\n\n\n/**\n * @param {ol.geom.MultiPolygon} geom MultiPolygon geometry.\n * @return {string} Coordinates part of MultiPolygon as WKT.\n * @private\n */\n_ol_format_WKT_.encodeMultiPolygonGeometry_ = function(geom) {\n  var array = [];\n  var components = geom.getPolygons();\n  for (var i = 0, ii = components.length; i < ii; ++i) {\n    array.push('(' + _ol_format_WKT_.encodePolygonGeometry_(\n        components[i]) + ')');\n  }\n  return array.join(',');\n};\n\n/**\n * @param {ol.geom.SimpleGeometry} geom SimpleGeometry geometry.\n * @return {string} Potential dimensional information for WKT type.\n * @private\n */\n_ol_format_WKT_.encodeGeometryLayout_ = function(geom) {\n  var layout = geom.getLayout();\n  var dimInfo = '';\n  if (layout === _ol_geom_GeometryLayout_.XYZ || layout === _ol_geom_GeometryLayout_.XYZM) {\n    dimInfo += _ol_format_WKT_.Z;\n  }\n  if (layout === _ol_geom_GeometryLayout_.XYM || layout === _ol_geom_GeometryLayout_.XYZM) {\n    dimInfo += _ol_format_WKT_.M;\n  }\n  return dimInfo;\n};\n\n\n/**\n * Encode a geometry as WKT.\n * @param {ol.geom.Geometry} geom The geometry to encode.\n * @return {string} WKT string for the geometry.\n * @private\n */\n_ol_format_WKT_.encode_ = function(geom) {\n  var type = geom.getType();\n  var geometryEncoder = _ol_format_WKT_.GeometryEncoder_[type];\n  var enc = geometryEncoder(geom);\n  type = type.toUpperCase();\n  if (geom instanceof _ol_geom_SimpleGeometry_) {\n    var dimInfo = _ol_format_WKT_.encodeGeometryLayout_(geom);\n    if (dimInfo.length > 0) {\n      type += ' ' + dimInfo;\n    }\n  }\n  if (enc.length === 0) {\n    return type + ' ' + _ol_format_WKT_.EMPTY;\n  }\n  return type + '(' + enc + ')';\n};\n\n\n/**\n * @const\n * @type {Object.<string, function(ol.geom.Geometry): string>}\n * @private\n */\n_ol_format_WKT_.GeometryEncoder_ = {\n  'Point': _ol_format_WKT_.encodePointGeometry_,\n  'LineString': _ol_format_WKT_.encodeLineStringGeometry_,\n  'Polygon': _ol_format_WKT_.encodePolygonGeometry_,\n  'MultiPoint': _ol_format_WKT_.encodeMultiPointGeometry_,\n  'MultiLineString': _ol_format_WKT_.encodeMultiLineStringGeometry_,\n  'MultiPolygon': _ol_format_WKT_.encodeMultiPolygonGeometry_,\n  'GeometryCollection': _ol_format_WKT_.encodeGeometryCollectionGeometry_\n};\n\n\n/**\n * Parse a WKT string.\n * @param {string} wkt WKT string.\n * @return {ol.geom.Geometry|undefined}\n *     The geometry created.\n * @private\n */\n_ol_format_WKT_.prototype.parse_ = function(wkt) {\n  var lexer = new _ol_format_WKT_.Lexer(wkt);\n  var parser = new _ol_format_WKT_.Parser(lexer);\n  return parser.parse();\n};\n\n\n/**\n * Read a feature from a WKT source.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.Feature} Feature.\n * @api\n */\n_ol_format_WKT_.prototype.readFeature;\n\n\n/**\n * @inheritDoc\n */\n_ol_format_WKT_.prototype.readFeatureFromText = function(text, opt_options) {\n  var geom = this.readGeometryFromText(text, opt_options);\n  if (geom) {\n    var feature = new _ol_Feature_();\n    feature.setGeometry(geom);\n    return feature;\n  }\n  return null;\n};\n\n\n/**\n * Read all features from a WKT source.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {Array.<ol.Feature>} Features.\n * @api\n */\n_ol_format_WKT_.prototype.readFeatures;\n\n\n/**\n * @inheritDoc\n */\n_ol_format_WKT_.prototype.readFeaturesFromText = function(text, opt_options) {\n  var geometries = [];\n  var geometry = this.readGeometryFromText(text, opt_options);\n  if (this.splitCollection_ &&\n      geometry.getType() == _ol_geom_GeometryType_.GEOMETRY_COLLECTION) {\n    geometries = (/** @type {ol.geom.GeometryCollection} */ (geometry))\n        .getGeometriesArray();\n  } else {\n    geometries = [geometry];\n  }\n  var feature, features = [];\n  for (var i = 0, ii = geometries.length; i < ii; ++i) {\n    feature = new _ol_Feature_();\n    feature.setGeometry(geometries[i]);\n    features.push(feature);\n  }\n  return features;\n};\n\n\n/**\n * Read a single geometry from a WKT source.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.geom.Geometry} Geometry.\n * @api\n */\n_ol_format_WKT_.prototype.readGeometry;\n\n\n/**\n * @inheritDoc\n */\n_ol_format_WKT_.prototype.readGeometryFromText = function(text, opt_options) {\n  var geometry = this.parse_(text);\n  if (geometry) {\n    return (\n      /** @type {ol.geom.Geometry} */ _ol_format_Feature_.transformWithOptions(geometry, false, opt_options)\n    );\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * Encode a feature as a WKT string.\n *\n * @function\n * @param {ol.Feature} feature Feature.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {string} WKT string.\n * @api\n */\n_ol_format_WKT_.prototype.writeFeature;\n\n\n/**\n * @inheritDoc\n */\n_ol_format_WKT_.prototype.writeFeatureText = function(feature, opt_options) {\n  var geometry = feature.getGeometry();\n  if (geometry) {\n    return this.writeGeometryText(geometry, opt_options);\n  }\n  return '';\n};\n\n\n/**\n * Encode an array of features as a WKT string.\n *\n * @function\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {string} WKT string.\n * @api\n */\n_ol_format_WKT_.prototype.writeFeatures;\n\n\n/**\n * @inheritDoc\n */\n_ol_format_WKT_.prototype.writeFeaturesText = function(features, opt_options) {\n  if (features.length == 1) {\n    return this.writeFeatureText(features[0], opt_options);\n  }\n  var geometries = [];\n  for (var i = 0, ii = features.length; i < ii; ++i) {\n    geometries.push(features[i].getGeometry());\n  }\n  var collection = new _ol_geom_GeometryCollection_(geometries);\n  return this.writeGeometryText(collection, opt_options);\n};\n\n\n/**\n * Write a single geometry as a WKT string.\n *\n * @function\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {string} WKT string.\n * @api\n */\n_ol_format_WKT_.prototype.writeGeometry;\n\n\n/**\n * @inheritDoc\n */\n_ol_format_WKT_.prototype.writeGeometryText = function(geometry, opt_options) {\n  return _ol_format_WKT_.encode_(/** @type {ol.geom.Geometry} */ (\n    _ol_format_Feature_.transformWithOptions(geometry, true, opt_options)));\n};\n\n\n/**\n * @const\n * @enum {number}\n * @private\n */\n_ol_format_WKT_.TokenType_ = {\n  TEXT: 1,\n  LEFT_PAREN: 2,\n  RIGHT_PAREN: 3,\n  NUMBER: 4,\n  COMMA: 5,\n  EOF: 6\n};\n\n\n/**\n * Class to tokenize a WKT string.\n * @param {string} wkt WKT string.\n * @constructor\n * @protected\n */\n_ol_format_WKT_.Lexer = function(wkt) {\n\n  /**\n   * @type {string}\n   */\n  this.wkt = wkt;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.index_ = -1;\n};\n\n\n/**\n * @param {string} c Character.\n * @return {boolean} Whether the character is alphabetic.\n * @private\n */\n_ol_format_WKT_.Lexer.prototype.isAlpha_ = function(c) {\n  return c >= 'a' && c <= 'z' || c >= 'A' && c <= 'Z';\n};\n\n\n/**\n * @param {string} c Character.\n * @param {boolean=} opt_decimal Whether the string number\n *     contains a dot, i.e. is a decimal number.\n * @return {boolean} Whether the character is numeric.\n * @private\n */\n_ol_format_WKT_.Lexer.prototype.isNumeric_ = function(c, opt_decimal) {\n  var decimal = opt_decimal !== undefined ? opt_decimal : false;\n  return c >= '0' && c <= '9' || c == '.' && !decimal;\n};\n\n\n/**\n * @param {string} c Character.\n * @return {boolean} Whether the character is whitespace.\n * @private\n */\n_ol_format_WKT_.Lexer.prototype.isWhiteSpace_ = function(c) {\n  return c == ' ' || c == '\\t' || c == '\\r' || c == '\\n';\n};\n\n\n/**\n * @return {string} Next string character.\n * @private\n */\n_ol_format_WKT_.Lexer.prototype.nextChar_ = function() {\n  return this.wkt.charAt(++this.index_);\n};\n\n\n/**\n * Fetch and return the next token.\n * @return {!ol.WKTToken} Next string token.\n */\n_ol_format_WKT_.Lexer.prototype.nextToken = function() {\n  var c = this.nextChar_();\n  var token = {position: this.index_, value: c};\n\n  if (c == '(') {\n    token.type = _ol_format_WKT_.TokenType_.LEFT_PAREN;\n  } else if (c == ',') {\n    token.type = _ol_format_WKT_.TokenType_.COMMA;\n  } else if (c == ')') {\n    token.type = _ol_format_WKT_.TokenType_.RIGHT_PAREN;\n  } else if (this.isNumeric_(c) || c == '-') {\n    token.type = _ol_format_WKT_.TokenType_.NUMBER;\n    token.value = this.readNumber_();\n  } else if (this.isAlpha_(c)) {\n    token.type = _ol_format_WKT_.TokenType_.TEXT;\n    token.value = this.readText_();\n  } else if (this.isWhiteSpace_(c)) {\n    return this.nextToken();\n  } else if (c === '') {\n    token.type = _ol_format_WKT_.TokenType_.EOF;\n  } else {\n    throw new Error('Unexpected character: ' + c);\n  }\n\n  return token;\n};\n\n\n/**\n * @return {number} Numeric token value.\n * @private\n */\n_ol_format_WKT_.Lexer.prototype.readNumber_ = function() {\n  var c, index = this.index_;\n  var decimal = false;\n  var scientificNotation = false;\n  do {\n    if (c == '.') {\n      decimal = true;\n    } else if (c == 'e' || c == 'E') {\n      scientificNotation = true;\n    }\n    c = this.nextChar_();\n  } while (\n    this.isNumeric_(c, decimal) ||\n      // if we haven't detected a scientific number before, 'e' or 'E'\n      // hint that we should continue to read\n      !scientificNotation && (c == 'e' || c == 'E') ||\n      // once we know that we have a scientific number, both '-' and '+'\n      // are allowed\n      scientificNotation && (c == '-' || c == '+')\n  );\n  return parseFloat(this.wkt.substring(index, this.index_--));\n};\n\n\n/**\n * @return {string} String token value.\n * @private\n */\n_ol_format_WKT_.Lexer.prototype.readText_ = function() {\n  var c, index = this.index_;\n  do {\n    c = this.nextChar_();\n  } while (this.isAlpha_(c));\n  return this.wkt.substring(index, this.index_--).toUpperCase();\n};\n\n\n/**\n * Class to parse the tokens from the WKT string.\n * @param {ol.format.WKT.Lexer} lexer The lexer.\n * @constructor\n * @protected\n */\n_ol_format_WKT_.Parser = function(lexer) {\n\n  /**\n   * @type {ol.format.WKT.Lexer}\n   * @private\n   */\n  this.lexer_ = lexer;\n\n  /**\n   * @type {ol.WKTToken}\n   * @private\n   */\n  this.token_;\n\n  /**\n   * @type {ol.geom.GeometryLayout}\n   * @private\n   */\n  this.layout_ = _ol_geom_GeometryLayout_.XY;\n};\n\n\n/**\n * Fetch the next token form the lexer and replace the active token.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.consume_ = function() {\n  this.token_ = this.lexer_.nextToken();\n};\n\n/**\n * Tests if the given type matches the type of the current token.\n * @param {ol.format.WKT.TokenType_} type Token type.\n * @return {boolean} Whether the token matches the given type.\n */\n_ol_format_WKT_.Parser.prototype.isTokenType = function(type) {\n  var isMatch = this.token_.type == type;\n  return isMatch;\n};\n\n\n/**\n * If the given type matches the current token, consume it.\n * @param {ol.format.WKT.TokenType_} type Token type.\n * @return {boolean} Whether the token matches the given type.\n */\n_ol_format_WKT_.Parser.prototype.match = function(type) {\n  var isMatch = this.isTokenType(type);\n  if (isMatch) {\n    this.consume_();\n  }\n  return isMatch;\n};\n\n\n/**\n * Try to parse the tokens provided by the lexer.\n * @return {ol.geom.Geometry} The geometry.\n */\n_ol_format_WKT_.Parser.prototype.parse = function() {\n  this.consume_();\n  var geometry = this.parseGeometry_();\n  return geometry;\n};\n\n\n/**\n * Try to parse the dimensional info.\n * @return {ol.geom.GeometryLayout} The layout.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parseGeometryLayout_ = function() {\n  var layout = _ol_geom_GeometryLayout_.XY;\n  var dimToken = this.token_;\n  if (this.isTokenType(_ol_format_WKT_.TokenType_.TEXT)) {\n    var dimInfo = dimToken.value;\n    if (dimInfo === _ol_format_WKT_.Z) {\n      layout = _ol_geom_GeometryLayout_.XYZ;\n    } else if (dimInfo === _ol_format_WKT_.M) {\n      layout = _ol_geom_GeometryLayout_.XYM;\n    } else if (dimInfo === _ol_format_WKT_.ZM) {\n      layout = _ol_geom_GeometryLayout_.XYZM;\n    }\n    if (layout !== _ol_geom_GeometryLayout_.XY) {\n      this.consume_();\n    }\n  }\n  return layout;\n};\n\n\n/**\n * @return {!ol.geom.Geometry} The geometry.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parseGeometry_ = function() {\n  var token = this.token_;\n  if (this.match(_ol_format_WKT_.TokenType_.TEXT)) {\n    var geomType = token.value;\n    this.layout_ = this.parseGeometryLayout_();\n    if (geomType == _ol_geom_GeometryType_.GEOMETRY_COLLECTION.toUpperCase()) {\n      var geometries = this.parseGeometryCollectionText_();\n      return new _ol_geom_GeometryCollection_(geometries);\n    } else {\n      var parser = _ol_format_WKT_.Parser.GeometryParser_[geomType];\n      var ctor = _ol_format_WKT_.Parser.GeometryConstructor_[geomType];\n      if (!parser || !ctor) {\n        throw new Error('Invalid geometry type: ' + geomType);\n      }\n      var coordinates = parser.call(this);\n      return new ctor(coordinates, this.layout_);\n    }\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {!Array.<ol.geom.Geometry>} A collection of geometries.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parseGeometryCollectionText_ = function() {\n  if (this.match(_ol_format_WKT_.TokenType_.LEFT_PAREN)) {\n    var geometries = [];\n    do {\n      geometries.push(this.parseGeometry_());\n    } while (this.match(_ol_format_WKT_.TokenType_.COMMA));\n    if (this.match(_ol_format_WKT_.TokenType_.RIGHT_PAREN)) {\n      return geometries;\n    }\n  } else if (this.isEmptyGeometry_()) {\n    return [];\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {Array.<number>} All values in a point.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parsePointText_ = function() {\n  if (this.match(_ol_format_WKT_.TokenType_.LEFT_PAREN)) {\n    var coordinates = this.parsePoint_();\n    if (this.match(_ol_format_WKT_.TokenType_.RIGHT_PAREN)) {\n      return coordinates;\n    }\n  } else if (this.isEmptyGeometry_()) {\n    return null;\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} All points in a linestring.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parseLineStringText_ = function() {\n  if (this.match(_ol_format_WKT_.TokenType_.LEFT_PAREN)) {\n    var coordinates = this.parsePointList_();\n    if (this.match(_ol_format_WKT_.TokenType_.RIGHT_PAREN)) {\n      return coordinates;\n    }\n  } else if (this.isEmptyGeometry_()) {\n    return [];\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} All points in a polygon.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parsePolygonText_ = function() {\n  if (this.match(_ol_format_WKT_.TokenType_.LEFT_PAREN)) {\n    var coordinates = this.parseLineStringTextList_();\n    if (this.match(_ol_format_WKT_.TokenType_.RIGHT_PAREN)) {\n      return coordinates;\n    }\n  } else if (this.isEmptyGeometry_()) {\n    return [];\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} All points in a multipoint.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parseMultiPointText_ = function() {\n  if (this.match(_ol_format_WKT_.TokenType_.LEFT_PAREN)) {\n    var coordinates;\n    if (this.token_.type == _ol_format_WKT_.TokenType_.LEFT_PAREN) {\n      coordinates = this.parsePointTextList_();\n    } else {\n      coordinates = this.parsePointList_();\n    }\n    if (this.match(_ol_format_WKT_.TokenType_.RIGHT_PAREN)) {\n      return coordinates;\n    }\n  } else if (this.isEmptyGeometry_()) {\n    return [];\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} All linestring points\n *                                        in a multilinestring.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parseMultiLineStringText_ = function() {\n  if (this.match(_ol_format_WKT_.TokenType_.LEFT_PAREN)) {\n    var coordinates = this.parseLineStringTextList_();\n    if (this.match(_ol_format_WKT_.TokenType_.RIGHT_PAREN)) {\n      return coordinates;\n    }\n  } else if (this.isEmptyGeometry_()) {\n    return [];\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} All polygon points in a multipolygon.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parseMultiPolygonText_ = function() {\n  if (this.match(_ol_format_WKT_.TokenType_.LEFT_PAREN)) {\n    var coordinates = this.parsePolygonTextList_();\n    if (this.match(_ol_format_WKT_.TokenType_.RIGHT_PAREN)) {\n      return coordinates;\n    }\n  } else if (this.isEmptyGeometry_()) {\n    return [];\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {!Array.<number>} A point.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parsePoint_ = function() {\n  var coordinates = [];\n  var dimensions = this.layout_.length;\n  for (var i = 0; i < dimensions; ++i) {\n    var token = this.token_;\n    if (this.match(_ol_format_WKT_.TokenType_.NUMBER)) {\n      coordinates.push(token.value);\n    } else {\n      break;\n    }\n  }\n  if (coordinates.length == dimensions) {\n    return coordinates;\n  }\n  throw new Error(this.formatErrorMessage_());\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} An array of points.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parsePointList_ = function() {\n  var coordinates = [this.parsePoint_()];\n  while (this.match(_ol_format_WKT_.TokenType_.COMMA)) {\n    coordinates.push(this.parsePoint_());\n  }\n  return coordinates;\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} An array of points.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parsePointTextList_ = function() {\n  var coordinates = [this.parsePointText_()];\n  while (this.match(_ol_format_WKT_.TokenType_.COMMA)) {\n    coordinates.push(this.parsePointText_());\n  }\n  return coordinates;\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} An array of points.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parseLineStringTextList_ = function() {\n  var coordinates = [this.parseLineStringText_()];\n  while (this.match(_ol_format_WKT_.TokenType_.COMMA)) {\n    coordinates.push(this.parseLineStringText_());\n  }\n  return coordinates;\n};\n\n\n/**\n * @return {!Array.<!Array.<number>>} An array of points.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.parsePolygonTextList_ = function() {\n  var coordinates = [this.parsePolygonText_()];\n  while (this.match(_ol_format_WKT_.TokenType_.COMMA)) {\n    coordinates.push(this.parsePolygonText_());\n  }\n  return coordinates;\n};\n\n\n/**\n * @return {boolean} Whether the token implies an empty geometry.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.isEmptyGeometry_ = function() {\n  var isEmpty = this.isTokenType(_ol_format_WKT_.TokenType_.TEXT) &&\n      this.token_.value == _ol_format_WKT_.EMPTY;\n  if (isEmpty) {\n    this.consume_();\n  }\n  return isEmpty;\n};\n\n\n/**\n * Create an error message for an unexpected token error.\n * @return {string} Error message.\n * @private\n */\n_ol_format_WKT_.Parser.prototype.formatErrorMessage_ = function() {\n  return 'Unexpected `' + this.token_.value + '` at position ' +\n      this.token_.position + ' in `' + this.lexer_.wkt + '`';\n};\n\n\n/**\n * @enum {function (new:ol.geom.Geometry, Array, ol.geom.GeometryLayout)}\n * @private\n */\n_ol_format_WKT_.Parser.GeometryConstructor_ = {\n  'POINT': _ol_geom_Point_,\n  'LINESTRING': _ol_geom_LineString_,\n  'POLYGON': _ol_geom_Polygon_,\n  'MULTIPOINT': _ol_geom_MultiPoint_,\n  'MULTILINESTRING': _ol_geom_MultiLineString_,\n  'MULTIPOLYGON': _ol_geom_MultiPolygon_\n};\n\n\n/**\n * @enum {(function(): Array)}\n * @private\n */\n_ol_format_WKT_.Parser.GeometryParser_ = {\n  'POINT': _ol_format_WKT_.Parser.prototype.parsePointText_,\n  'LINESTRING': _ol_format_WKT_.Parser.prototype.parseLineStringText_,\n  'POLYGON': _ol_format_WKT_.Parser.prototype.parsePolygonText_,\n  'MULTIPOINT': _ol_format_WKT_.Parser.prototype.parseMultiPointText_,\n  'MULTILINESTRING': _ol_format_WKT_.Parser.prototype.parseMultiLineStringText_,\n  'MULTIPOLYGON': _ol_format_WKT_.Parser.prototype.parseMultiPolygonText_\n};\nexport default _ol_format_WKT_;\n","import _ol_style_Fill_ from '../style/fill.js';\nimport _ol_style_TextPlacement_ from '../style/textplacement.js';\n\n/**\n * @classdesc\n * Set text style for vector features.\n *\n * @constructor\n * @param {olx.style.TextOptions=} opt_options Options.\n * @api\n */\nvar _ol_style_Text_ = function(opt_options) {\n\n  var options = opt_options || {};\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.font_ = options.font;\n\n  /**\n   * @private\n   * @type {number|undefined}\n   */\n  this.rotation_ = options.rotation;\n\n  /**\n   * @private\n   * @type {boolean|undefined}\n   */\n  this.rotateWithView_ = options.rotateWithView;\n\n  /**\n   * @private\n   * @type {number|undefined}\n   */\n  this.scale_ = options.scale;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.text_ = options.text;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.textAlign_ = options.textAlign;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.textBaseline_ = options.textBaseline;\n\n  /**\n   * @private\n   * @type {ol.style.Fill}\n   */\n  this.fill_ = options.fill !== undefined ? options.fill :\n    new _ol_style_Fill_({color: _ol_style_Text_.DEFAULT_FILL_COLOR_});\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.maxAngle_ = options.maxAngle !== undefined ? options.maxAngle : Math.PI / 4;\n\n  /**\n   * @private\n   * @type {ol.style.TextPlacement|string}\n   */\n  this.placement_ = options.placement !== undefined ? options.placement : _ol_style_TextPlacement_.POINT;\n\n  //TODO Use options.overflow directly after removing @deprecated exceedLength\n  var overflow = options.overflow === undefined ? options.exceedLength : options.overflow;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.overflow_ = overflow !== undefined ? overflow : false;\n\n  /**\n   * @private\n   * @type {ol.style.Stroke}\n   */\n  this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.offsetX_ = options.offsetX !== undefined ? options.offsetX : 0;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.offsetY_ = options.offsetY !== undefined ? options.offsetY : 0;\n\n  /**\n   * @private\n   * @type {ol.style.Fill}\n   */\n  this.backgroundFill_ = options.backgroundFill ? options.backgroundFill : null;\n\n  /**\n   * @private\n   * @type {ol.style.Stroke}\n   */\n  this.backgroundStroke_ = options.backgroundStroke ? options.backgroundStroke : null;\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.padding_ = options.padding === undefined ? null : options.padding;\n};\n\n\n/**\n * The default fill color to use if no fill was set at construction time; a\n * blackish `#333`.\n *\n * @const {string}\n * @private\n */\n_ol_style_Text_.DEFAULT_FILL_COLOR_ = '#333';\n\n\n/**\n * Clones the style.\n * @return {ol.style.Text} The cloned style.\n * @api\n */\n_ol_style_Text_.prototype.clone = function() {\n  return new _ol_style_Text_({\n    font: this.getFont(),\n    placement: this.getPlacement(),\n    maxAngle: this.getMaxAngle(),\n    overflow: this.getOverflow(),\n    rotation: this.getRotation(),\n    rotateWithView: this.getRotateWithView(),\n    scale: this.getScale(),\n    text: this.getText(),\n    textAlign: this.getTextAlign(),\n    textBaseline: this.getTextBaseline(),\n    fill: this.getFill() ? this.getFill().clone() : undefined,\n    stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n    offsetX: this.getOffsetX(),\n    offsetY: this.getOffsetY()\n  });\n};\n\n\n/**\n * Get the `overflow` configuration.\n * @return {boolean} Let text overflow the length of the path they follow.\n * @api\n */\n_ol_style_Text_.prototype.getOverflow = function() {\n  return this.overflow_;\n};\n\n\n/**\n * Get the font name.\n * @return {string|undefined} Font.\n * @api\n */\n_ol_style_Text_.prototype.getFont = function() {\n  return this.font_;\n};\n\n\n/**\n * Get the maximum angle between adjacent characters.\n * @return {number} Angle in radians.\n * @api\n */\n_ol_style_Text_.prototype.getMaxAngle = function() {\n  return this.maxAngle_;\n};\n\n\n/**\n * Get the label placement.\n * @return {ol.style.TextPlacement|string} Text placement.\n * @api\n */\n_ol_style_Text_.prototype.getPlacement = function() {\n  return this.placement_;\n};\n\n\n/**\n * Get the x-offset for the text.\n * @return {number} Horizontal text offset.\n * @api\n */\n_ol_style_Text_.prototype.getOffsetX = function() {\n  return this.offsetX_;\n};\n\n\n/**\n * Get the y-offset for the text.\n * @return {number} Vertical text offset.\n * @api\n */\n_ol_style_Text_.prototype.getOffsetY = function() {\n  return this.offsetY_;\n};\n\n\n/**\n * Get the fill style for the text.\n * @return {ol.style.Fill} Fill style.\n * @api\n */\n_ol_style_Text_.prototype.getFill = function() {\n  return this.fill_;\n};\n\n\n/**\n * Determine whether the text rotates with the map.\n * @return {boolean|undefined} Rotate with map.\n * @api\n */\n_ol_style_Text_.prototype.getRotateWithView = function() {\n  return this.rotateWithView_;\n};\n\n\n/**\n * Get the text rotation.\n * @return {number|undefined} Rotation.\n * @api\n */\n_ol_style_Text_.prototype.getRotation = function() {\n  return this.rotation_;\n};\n\n\n/**\n * Get the text scale.\n * @return {number|undefined} Scale.\n * @api\n */\n_ol_style_Text_.prototype.getScale = function() {\n  return this.scale_;\n};\n\n\n/**\n * Get the stroke style for the text.\n * @return {ol.style.Stroke} Stroke style.\n * @api\n */\n_ol_style_Text_.prototype.getStroke = function() {\n  return this.stroke_;\n};\n\n\n/**\n * Get the text to be rendered.\n * @return {string|undefined} Text.\n * @api\n */\n_ol_style_Text_.prototype.getText = function() {\n  return this.text_;\n};\n\n\n/**\n * Get the text alignment.\n * @return {string|undefined} Text align.\n * @api\n */\n_ol_style_Text_.prototype.getTextAlign = function() {\n  return this.textAlign_;\n};\n\n\n/**\n * Get the text baseline.\n * @return {string|undefined} Text baseline.\n * @api\n */\n_ol_style_Text_.prototype.getTextBaseline = function() {\n  return this.textBaseline_;\n};\n\n\n/**\n * Get the background fill style for the text.\n * @return {ol.style.Fill} Fill style.\n * @api\n */\n_ol_style_Text_.prototype.getBackgroundFill = function() {\n  return this.backgroundFill_;\n};\n\n\n/**\n * Get the background stroke style for the text.\n * @return {ol.style.Stroke} Stroke style.\n * @api\n */\n_ol_style_Text_.prototype.getBackgroundStroke = function() {\n  return this.backgroundStroke_;\n};\n\n\n/**\n * Get the padding for the text.\n * @return {Array.<number>} Padding.\n * @api\n */\n_ol_style_Text_.prototype.getPadding = function() {\n  return this.padding_;\n};\n\n\n/**\n * Set the `overflow` property.\n *\n * @param {boolean} overflow Let text overflow the path that it follows.\n * @api\n */\n_ol_style_Text_.prototype.setOverflow = function(overflow) {\n  this.overflow_ = overflow;\n};\n\n\n/**\n * Set the font.\n *\n * @param {string|undefined} font Font.\n * @api\n */\n_ol_style_Text_.prototype.setFont = function(font) {\n  this.font_ = font;\n};\n\n\n/**\n * Set the maximum angle between adjacent characters.\n *\n * @param {number} maxAngle Angle in radians.\n * @api\n */\n_ol_style_Text_.prototype.setMaxAngle = function(maxAngle) {\n  this.maxAngle_ = maxAngle;\n};\n\n\n/**\n * Set the x offset.\n *\n * @param {number} offsetX Horizontal text offset.\n * @api\n */\n_ol_style_Text_.prototype.setOffsetX = function(offsetX) {\n  this.offsetX_ = offsetX;\n};\n\n\n/**\n * Set the y offset.\n *\n * @param {number} offsetY Vertical text offset.\n * @api\n */\n_ol_style_Text_.prototype.setOffsetY = function(offsetY) {\n  this.offsetY_ = offsetY;\n};\n\n\n/**\n * Set the text placement.\n *\n * @param {ol.style.TextPlacement|string} placement Placement.\n * @api\n */\n_ol_style_Text_.prototype.setPlacement = function(placement) {\n  this.placement_ = placement;\n};\n\n\n/**\n * Set the fill.\n *\n * @param {ol.style.Fill} fill Fill style.\n * @api\n */\n_ol_style_Text_.prototype.setFill = function(fill) {\n  this.fill_ = fill;\n};\n\n\n/**\n * Set the rotation.\n *\n * @param {number|undefined} rotation Rotation.\n * @api\n */\n_ol_style_Text_.prototype.setRotation = function(rotation) {\n  this.rotation_ = rotation;\n};\n\n\n/**\n * Set the scale.\n *\n * @param {number|undefined} scale Scale.\n * @api\n */\n_ol_style_Text_.prototype.setScale = function(scale) {\n  this.scale_ = scale;\n};\n\n\n/**\n * Set the stroke.\n *\n * @param {ol.style.Stroke} stroke Stroke style.\n * @api\n */\n_ol_style_Text_.prototype.setStroke = function(stroke) {\n  this.stroke_ = stroke;\n};\n\n\n/**\n * Set the text.\n *\n * @param {string|undefined} text Text.\n * @api\n */\n_ol_style_Text_.prototype.setText = function(text) {\n  this.text_ = text;\n};\n\n\n/**\n * Set the text alignment.\n *\n * @param {string|undefined} textAlign Text align.\n * @api\n */\n_ol_style_Text_.prototype.setTextAlign = function(textAlign) {\n  this.textAlign_ = textAlign;\n};\n\n\n/**\n * Set the text baseline.\n *\n * @param {string|undefined} textBaseline Text baseline.\n * @api\n */\n_ol_style_Text_.prototype.setTextBaseline = function(textBaseline) {\n  this.textBaseline_ = textBaseline;\n};\n\n\n/**\n * Set the background fill.\n *\n * @param {ol.style.Fill} fill Fill style.\n * @api\n */\n_ol_style_Text_.prototype.setBackgroundFill = function(fill) {\n  this.backgroundFill_ = fill;\n};\n\n\n/**\n * Set the background stroke.\n *\n * @param {ol.style.Stroke} stroke Stroke style.\n * @api\n */\n_ol_style_Text_.prototype.setBackgroundStroke = function(stroke) {\n  this.backgroundStroke_ = stroke;\n};\n\n\n/**\n * Set the padding (`[top, right, bottom, left]`).\n *\n * @param {!Array.<number>} padding Padding.\n * @api\n */\n_ol_style_Text_.prototype.setPadding = function(padding) {\n  this.padding_ = padding;\n};\nexport default _ol_style_Text_;\n","import _ol_ from '../index.js';\nimport _ol_source_XYZ_ from '../source/xyz.js';\n\n/**\n * @classdesc\n * Layer source for the OpenStreetMap tile server.\n *\n * @constructor\n * @extends {ol.source.XYZ}\n * @param {olx.source.OSMOptions=} opt_options Open Street Map options.\n * @api\n */\nvar _ol_source_OSM_ = function(opt_options) {\n\n  var options = opt_options || {};\n\n  var attributions;\n  if (options.attributions !== undefined) {\n    attributions = options.attributions;\n  } else {\n    attributions = [_ol_source_OSM_.ATTRIBUTION];\n  }\n\n  var crossOrigin = options.crossOrigin !== undefined ?\n    options.crossOrigin : 'anonymous';\n\n  var url = options.url !== undefined ?\n    options.url : 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\n  _ol_source_XYZ_.call(this, {\n    attributions: attributions,\n    cacheSize: options.cacheSize,\n    crossOrigin: crossOrigin,\n    opaque: options.opaque !== undefined ? options.opaque : true,\n    maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileLoadFunction: options.tileLoadFunction,\n    url: url,\n    wrapX: options.wrapX\n  });\n\n};\n\n_ol_.inherits(_ol_source_OSM_, _ol_source_XYZ_);\n\n\n/**\n * The attribution containing a link to the OpenStreetMap Copyright and License\n * page.\n * @const\n * @type {string}\n * @api\n */\n_ol_source_OSM_.ATTRIBUTION = '&copy; ' +\n      '<a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> ' +\n      'contributors.';\nexport default _ol_source_OSM_;\n","/**\n * @enum {string}\n */\nvar _ol_interaction_ModifyEventType_ = {\n  /**\n   * Triggered upon feature modification start\n   * @event ol.interaction.Modify.Event#modifystart\n   * @api\n   */\n  MODIFYSTART: 'modifystart',\n  /**\n   * Triggered upon feature modification end\n   * @event ol.interaction.Modify.Event#modifyend\n   * @api\n   */\n  MODIFYEND: 'modifyend'\n};\n\nexport default _ol_interaction_ModifyEventType_;\n","import _ol_ from '../index.js';\nimport _ol_Collection_ from '../collection.js';\nimport _ol_CollectionEventType_ from '../collectioneventtype.js';\nimport _ol_Feature_ from '../feature.js';\nimport _ol_MapBrowserEventType_ from '../mapbrowsereventtype.js';\nimport _ol_MapBrowserPointerEvent_ from '../mapbrowserpointerevent.js';\nimport _ol_array_ from '../array.js';\nimport _ol_coordinate_ from '../coordinate.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_Event_ from '../events/event.js';\nimport _ol_events_EventType_ from '../events/eventtype.js';\nimport _ol_events_condition_ from '../events/condition.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_geom_Point_ from '../geom/point.js';\nimport _ol_interaction_ModifyEventType_ from '../interaction/modifyeventtype.js';\nimport _ol_interaction_Pointer_ from '../interaction/pointer.js';\nimport _ol_layer_Vector_ from '../layer/vector.js';\nimport _ol_source_Vector_ from '../source/vector.js';\nimport _ol_source_VectorEventType_ from '../source/vectoreventtype.js';\nimport _ol_structs_RBush_ from '../structs/rbush.js';\nimport _ol_style_Style_ from '../style/style.js';\n\n/**\n * @classdesc\n * Interaction for modifying feature geometries.  To modify features that have\n * been added to an existing source, construct the modify interaction with the\n * `source` option.  If you want to modify features in a collection (for example,\n * the collection used by a select interaction), construct the interaction with\n * the `features` option.  The interaction must be constructed with either a\n * `source` or `features` option.\n *\n * By default, the interaction will allow deletion of vertices when the `alt`\n * key is pressed.  To configure the interaction with a different condition\n * for deletion, use the `deleteCondition` option.\n *\n * @constructor\n * @extends {ol.interaction.Pointer}\n * @param {olx.interaction.ModifyOptions} options Options.\n * @fires ol.interaction.Modify.Event\n * @api\n */\nvar _ol_interaction_Modify_ = function(options) {\n\n  _ol_interaction_Pointer_.call(this, {\n    handleDownEvent: _ol_interaction_Modify_.handleDownEvent_,\n    handleDragEvent: _ol_interaction_Modify_.handleDragEvent_,\n    handleEvent: _ol_interaction_Modify_.handleEvent,\n    handleUpEvent: _ol_interaction_Modify_.handleUpEvent_\n  });\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.condition_ = options.condition ?\n    options.condition : _ol_events_condition_.primaryAction;\n\n\n  /**\n   * @private\n   * @param {ol.MapBrowserEvent} mapBrowserEvent Browser event.\n   * @return {boolean} Combined condition result.\n   */\n  this.defaultDeleteCondition_ = function(mapBrowserEvent) {\n    return _ol_events_condition_.altKeyOnly(mapBrowserEvent) &&\n      _ol_events_condition_.singleClick(mapBrowserEvent);\n  };\n\n  /**\n   * @type {ol.EventsConditionType}\n   * @private\n   */\n  this.deleteCondition_ = options.deleteCondition ?\n    options.deleteCondition : this.defaultDeleteCondition_;\n\n  /**\n   * @type {ol.EventsConditionType}\n   * @private\n   */\n  this.insertVertexCondition_ = options.insertVertexCondition ?\n    options.insertVertexCondition : _ol_events_condition_.always;\n\n  /**\n   * Editing vertex.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.vertexFeature_ = null;\n\n  /**\n   * Segments intersecting {@link this.vertexFeature_} by segment uid.\n   * @type {Object.<string, boolean>}\n   * @private\n   */\n  this.vertexSegments_ = null;\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.lastPixel_ = [0, 0];\n\n  /**\n   * Tracks if the next `singleclick` event should be ignored to prevent\n   * accidental deletion right after vertex creation.\n   * @type {boolean}\n   * @private\n   */\n  this.ignoreNextSingleClick_ = false;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.modified_ = false;\n\n  /**\n   * Segment RTree for each layer\n   * @type {ol.structs.RBush.<ol.ModifySegmentDataType>}\n   * @private\n   */\n  this.rBush_ = new _ol_structs_RBush_();\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n    options.pixelTolerance : 10;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.snappedToVertex_ = false;\n\n  /**\n   * Indicate whether the interaction is currently changing a feature's\n   * coordinates.\n   * @type {boolean}\n   * @private\n   */\n  this.changingFeature_ = false;\n\n  /**\n   * @type {Array}\n   * @private\n   */\n  this.dragSegments_ = [];\n\n  /**\n   * Draw overlay where sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.overlay_ = new _ol_layer_Vector_({\n    source: new _ol_source_Vector_({\n      useSpatialIndex: false,\n      wrapX: !!options.wrapX\n    }),\n    style: options.style ? options.style :\n      _ol_interaction_Modify_.getDefaultStyleFunction(),\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n  * @const\n  * @private\n  * @type {Object.<string, function(ol.Feature, ol.geom.Geometry)>}\n  */\n  this.SEGMENT_WRITERS_ = {\n    'Point': this.writePointGeometry_,\n    'LineString': this.writeLineStringGeometry_,\n    'LinearRing': this.writeLineStringGeometry_,\n    'Polygon': this.writePolygonGeometry_,\n    'MultiPoint': this.writeMultiPointGeometry_,\n    'MultiLineString': this.writeMultiLineStringGeometry_,\n    'MultiPolygon': this.writeMultiPolygonGeometry_,\n    'Circle': this.writeCircleGeometry_,\n    'GeometryCollection': this.writeGeometryCollectionGeometry_\n  };\n\n\n  /**\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = null;\n\n  var features;\n  if (options.source) {\n    this.source_ = options.source;\n    features = new _ol_Collection_(this.source_.getFeatures());\n    _ol_events_.listen(this.source_, _ol_source_VectorEventType_.ADDFEATURE,\n        this.handleSourceAdd_, this);\n    _ol_events_.listen(this.source_, _ol_source_VectorEventType_.REMOVEFEATURE,\n        this.handleSourceRemove_, this);\n  } else {\n    features = options.features;\n  }\n  if (!features) {\n    throw new Error('The modify interaction requires features or a source');\n  }\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = features;\n\n  this.features_.forEach(this.addFeature_, this);\n  _ol_events_.listen(this.features_, _ol_CollectionEventType_.ADD,\n      this.handleFeatureAdd_, this);\n  _ol_events_.listen(this.features_, _ol_CollectionEventType_.REMOVE,\n      this.handleFeatureRemove_, this);\n\n  /**\n   * @type {ol.MapBrowserPointerEvent}\n   * @private\n   */\n  this.lastPointerEvent_ = null;\n\n};\n\n_ol_.inherits(_ol_interaction_Modify_, _ol_interaction_Pointer_);\n\n\n/**\n * @define {number} The segment index assigned to a circle's center when\n * breaking up a cicrle into ModifySegmentDataType segments.\n */\n_ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX = 0;\n\n/**\n * @define {number} The segment index assigned to a circle's circumference when\n * breaking up a circle into ModifySegmentDataType segments.\n */\n_ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX = 1;\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\n_ol_interaction_Modify_.prototype.addFeature_ = function(feature) {\n  var geometry = feature.getGeometry();\n  if (geometry && geometry.getType() in this.SEGMENT_WRITERS_) {\n    this.SEGMENT_WRITERS_[geometry.getType()].call(this, feature, geometry);\n  }\n  var map = this.getMap();\n  if (map && map.isRendered() && this.getActive()) {\n    this.handlePointerAtPixel_(this.lastPixel_, map);\n  }\n  _ol_events_.listen(feature, _ol_events_EventType_.CHANGE,\n      this.handleFeatureChange_, this);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Map browser event\n * @private\n */\n_ol_interaction_Modify_.prototype.willModifyFeatures_ = function(evt) {\n  if (!this.modified_) {\n    this.modified_ = true;\n    this.dispatchEvent(new _ol_interaction_Modify_.Event(\n        _ol_interaction_ModifyEventType_.MODIFYSTART, this.features_, evt));\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\n_ol_interaction_Modify_.prototype.removeFeature_ = function(feature) {\n  this.removeFeatureSegmentData_(feature);\n  // Remove the vertex feature if the collection of canditate features\n  // is empty.\n  if (this.vertexFeature_ && this.features_.getLength() === 0) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n  _ol_events_.unlisten(feature, _ol_events_EventType_.CHANGE,\n      this.handleFeatureChange_, this);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\n_ol_interaction_Modify_.prototype.removeFeatureSegmentData_ = function(feature) {\n  var rBush = this.rBush_;\n  var /** @type {Array.<ol.ModifySegmentDataType>} */ nodesToRemove = [];\n  rBush.forEach(\n      /**\n       * @param {ol.ModifySegmentDataType} node RTree node.\n       */\n      function(node) {\n        if (feature === node.feature) {\n          nodesToRemove.push(node);\n        }\n      });\n  for (var i = nodesToRemove.length - 1; i >= 0; --i) {\n    rBush.remove(nodesToRemove[i]);\n  }\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_interaction_Modify_.prototype.setActive = function(active) {\n  if (this.vertexFeature_ && !active) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n  _ol_interaction_Pointer_.prototype.setActive.call(this, active);\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_interaction_Modify_.prototype.setMap = function(map) {\n  this.overlay_.setMap(map);\n  _ol_interaction_Pointer_.prototype.setMap.call(this, map);\n};\n\n\n/**\n * @param {ol.source.Vector.Event} event Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleSourceAdd_ = function(event) {\n  if (event.feature) {\n    this.features_.push(event.feature);\n  }\n};\n\n\n/**\n * @param {ol.source.Vector.Event} event Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleSourceRemove_ = function(event) {\n  if (event.feature) {\n    this.features_.remove(event.feature);\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleFeatureAdd_ = function(evt) {\n  this.addFeature_(/** @type {ol.Feature} */ (evt.element));\n};\n\n\n/**\n * @param {ol.events.Event} evt Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleFeatureChange_ = function(evt) {\n  if (!this.changingFeature_) {\n    var feature = /** @type {ol.Feature} */ (evt.target);\n    this.removeFeature_(feature);\n    this.addFeature_(feature);\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleFeatureRemove_ = function(evt) {\n  var feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature_(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Point} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writePointGeometry_ = function(feature, geometry) {\n  var coordinates = geometry.getCoordinates();\n  var segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    segment: [coordinates, coordinates]\n  });\n  this.rBush_.insert(geometry.getExtent(), segmentData);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiPoint} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeMultiPointGeometry_ = function(feature, geometry) {\n  var points = geometry.getCoordinates();\n  var coordinates, i, ii, segmentData;\n  for (i = 0, ii = points.length; i < ii; ++i) {\n    coordinates = points[i];\n    segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n      feature: feature,\n      geometry: geometry,\n      depth: [i],\n      index: i,\n      segment: [coordinates, coordinates]\n    });\n    this.rBush_.insert(geometry.getExtent(), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.LineString} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeLineStringGeometry_ = function(feature, geometry) {\n  var coordinates = geometry.getCoordinates();\n  var i, ii, segment, segmentData;\n  for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n    segment = coordinates.slice(i, i + 2);\n    segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n      feature: feature,\n      geometry: geometry,\n      index: i,\n      segment: segment\n    });\n    this.rBush_.insert(_ol_extent_.boundingExtent(segment), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiLineString} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeMultiLineStringGeometry_ = function(feature, geometry) {\n  var lines = geometry.getCoordinates();\n  var coordinates, i, ii, j, jj, segment, segmentData;\n  for (j = 0, jj = lines.length; j < jj; ++j) {\n    coordinates = lines[j];\n    for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      segment = coordinates.slice(i, i + 2);\n      segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n        feature: feature,\n        geometry: geometry,\n        depth: [j],\n        index: i,\n        segment: segment\n      });\n      this.rBush_.insert(_ol_extent_.boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Polygon} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writePolygonGeometry_ = function(feature, geometry) {\n  var rings = geometry.getCoordinates();\n  var coordinates, i, ii, j, jj, segment, segmentData;\n  for (j = 0, jj = rings.length; j < jj; ++j) {\n    coordinates = rings[j];\n    for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      segment = coordinates.slice(i, i + 2);\n      segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n        feature: feature,\n        geometry: geometry,\n        depth: [j],\n        index: i,\n        segment: segment\n      });\n      this.rBush_.insert(_ol_extent_.boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiPolygon} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeMultiPolygonGeometry_ = function(feature, geometry) {\n  var polygons = geometry.getCoordinates();\n  var coordinates, i, ii, j, jj, k, kk, rings, segment, segmentData;\n  for (k = 0, kk = polygons.length; k < kk; ++k) {\n    rings = polygons[k];\n    for (j = 0, jj = rings.length; j < jj; ++j) {\n      coordinates = rings[j];\n      for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        segment = coordinates.slice(i, i + 2);\n        segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n          feature: feature,\n          geometry: geometry,\n          depth: [j, k],\n          index: i,\n          segment: segment\n        });\n        this.rBush_.insert(_ol_extent_.boundingExtent(segment), segmentData);\n      }\n    }\n  }\n};\n\n\n/**\n * We convert a circle into two segments.  The segment at index\n * {@link ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX} is the\n * circle's center (a point).  The segment at index\n * {@link ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX} is\n * the circumference, and is not a line segment.\n *\n * @param {ol.Feature} feature Feature.\n * @param {ol.geom.Circle} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeCircleGeometry_ = function(feature, geometry) {\n  var coordinates = geometry.getCenter();\n  var centerSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    index: _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,\n    segment: [coordinates, coordinates]\n  });\n  var circumferenceSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    index: _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,\n    segment: [coordinates, coordinates]\n  });\n  var featureSegments = [centerSegmentData, circumferenceSegmentData];\n  centerSegmentData.featureSegments = circumferenceSegmentData.featureSegments = featureSegments;\n  this.rBush_.insert(_ol_extent_.createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n  this.rBush_.insert(geometry.getExtent(), circumferenceSegmentData);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.GeometryCollection} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeGeometryCollectionGeometry_ = function(feature, geometry) {\n  var i, geometries = geometry.getGeometriesArray();\n  for (i = 0; i < geometries.length; ++i) {\n    this.SEGMENT_WRITERS_[geometries[i].getType()].call(\n        this, feature, geometries[i]);\n  }\n};\n\n\n/**\n * @param {ol.Coordinate} coordinates Coordinates.\n * @return {ol.Feature} Vertex feature.\n * @private\n */\n_ol_interaction_Modify_.prototype.createOrUpdateVertexFeature_ = function(coordinates) {\n  var vertexFeature = this.vertexFeature_;\n  if (!vertexFeature) {\n    vertexFeature = new _ol_Feature_(new _ol_geom_Point_(coordinates));\n    this.vertexFeature_ = vertexFeature;\n    this.overlay_.getSource().addFeature(vertexFeature);\n  } else {\n    var geometry = /** @type {ol.geom.Point} */ (vertexFeature.getGeometry());\n    geometry.setCoordinates(coordinates);\n  }\n  return vertexFeature;\n};\n\n\n/**\n * @param {ol.ModifySegmentDataType} a The first segment data.\n * @param {ol.ModifySegmentDataType} b The second segment data.\n * @return {number} The difference in indexes.\n * @private\n */\n_ol_interaction_Modify_.compareIndexes_ = function(a, b) {\n  return a.index - b.index;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Start drag sequence?\n * @this {ol.interaction.Modify}\n * @private\n */\n_ol_interaction_Modify_.handleDownEvent_ = function(evt) {\n  if (!this.condition_(evt)) {\n    return false;\n  }\n  this.handlePointerAtPixel_(evt.pixel, evt.map);\n  var pixelCoordinate = evt.map.getCoordinateFromPixel(evt.pixel);\n  this.dragSegments_.length = 0;\n  this.modified_ = false;\n  var vertexFeature = this.vertexFeature_;\n  if (vertexFeature) {\n    var insertVertices = [];\n    var geometry = /** @type {ol.geom.Point} */ (vertexFeature.getGeometry());\n    var vertex = geometry.getCoordinates();\n    var vertexExtent = _ol_extent_.boundingExtent([vertex]);\n    var segmentDataMatches = this.rBush_.getInExtent(vertexExtent);\n    var componentSegments = {};\n    segmentDataMatches.sort(_ol_interaction_Modify_.compareIndexes_);\n    for (var i = 0, ii = segmentDataMatches.length; i < ii; ++i) {\n      var segmentDataMatch = segmentDataMatches[i];\n      var segment = segmentDataMatch.segment;\n      var uid = _ol_.getUid(segmentDataMatch.feature);\n      var depth = segmentDataMatch.depth;\n      if (depth) {\n        uid += '-' + depth.join('-'); // separate feature components\n      }\n      if (!componentSegments[uid]) {\n        componentSegments[uid] = new Array(2);\n      }\n      if (segmentDataMatch.geometry.getType() === _ol_geom_GeometryType_.CIRCLE &&\n      segmentDataMatch.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n\n        var closestVertex = _ol_interaction_Modify_.closestOnSegmentData_(pixelCoordinate, segmentDataMatch);\n        if (_ol_coordinate_.equals(closestVertex, vertex) && !componentSegments[uid][0]) {\n          this.dragSegments_.push([segmentDataMatch, 0]);\n          componentSegments[uid][0] = segmentDataMatch;\n        }\n      } else if (_ol_coordinate_.equals(segment[0], vertex) &&\n          !componentSegments[uid][0]) {\n        this.dragSegments_.push([segmentDataMatch, 0]);\n        componentSegments[uid][0] = segmentDataMatch;\n      } else if (_ol_coordinate_.equals(segment[1], vertex) &&\n          !componentSegments[uid][1]) {\n\n        // prevent dragging closed linestrings by the connecting node\n        if ((segmentDataMatch.geometry.getType() ===\n            _ol_geom_GeometryType_.LINE_STRING ||\n            segmentDataMatch.geometry.getType() ===\n            _ol_geom_GeometryType_.MULTI_LINE_STRING) &&\n            componentSegments[uid][0] &&\n            componentSegments[uid][0].index === 0) {\n          continue;\n        }\n\n        this.dragSegments_.push([segmentDataMatch, 1]);\n        componentSegments[uid][1] = segmentDataMatch;\n      } else if (this.insertVertexCondition_(evt) && _ol_.getUid(segment) in this.vertexSegments_ &&\n          (!componentSegments[uid][0] && !componentSegments[uid][1])) {\n        insertVertices.push([segmentDataMatch, vertex]);\n      }\n    }\n    if (insertVertices.length) {\n      this.willModifyFeatures_(evt);\n    }\n    for (var j = insertVertices.length - 1; j >= 0; --j) {\n      this.insertVertex_.apply(this, insertVertices[j]);\n    }\n  }\n  return !!this.vertexFeature_;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @this {ol.interaction.Modify}\n * @private\n */\n_ol_interaction_Modify_.handleDragEvent_ = function(evt) {\n  this.ignoreNextSingleClick_ = false;\n  this.willModifyFeatures_(evt);\n\n  var vertex = evt.coordinate;\n  for (var i = 0, ii = this.dragSegments_.length; i < ii; ++i) {\n    var dragSegment = this.dragSegments_[i];\n    var segmentData = dragSegment[0];\n    var depth = segmentData.depth;\n    var geometry = segmentData.geometry;\n    var coordinates;\n    var segment = segmentData.segment;\n    var index = dragSegment[1];\n\n    while (vertex.length < geometry.getStride()) {\n      vertex.push(segment[index][vertex.length]);\n    }\n\n    switch (geometry.getType()) {\n      case _ol_geom_GeometryType_.POINT:\n        coordinates = vertex;\n        segment[0] = segment[1] = vertex;\n        break;\n      case _ol_geom_GeometryType_.MULTI_POINT:\n        coordinates = geometry.getCoordinates();\n        coordinates[segmentData.index] = vertex;\n        segment[0] = segment[1] = vertex;\n        break;\n      case _ol_geom_GeometryType_.LINE_STRING:\n        coordinates = geometry.getCoordinates();\n        coordinates[segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case _ol_geom_GeometryType_.MULTI_LINE_STRING:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case _ol_geom_GeometryType_.POLYGON:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case _ol_geom_GeometryType_.MULTI_POLYGON:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[1]][depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case _ol_geom_GeometryType_.CIRCLE:\n        segment[0] = segment[1] = vertex;\n        if (segmentData.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX) {\n          this.changingFeature_ = true;\n          geometry.setCenter(vertex);\n          this.changingFeature_ = false;\n        } else { // We're dragging the circle's circumference:\n          this.changingFeature_ = true;\n          geometry.setRadius(_ol_coordinate_.distance(geometry.getCenter(), vertex));\n          this.changingFeature_ = false;\n        }\n        break;\n      default:\n        // pass\n    }\n\n    if (coordinates) {\n      this.setGeometryCoordinates_(geometry, coordinates);\n    }\n  }\n  this.createOrUpdateVertexFeature_(vertex);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Stop drag sequence?\n * @this {ol.interaction.Modify}\n * @private\n */\n_ol_interaction_Modify_.handleUpEvent_ = function(evt) {\n  var segmentData;\n  var geometry;\n  for (var i = this.dragSegments_.length - 1; i >= 0; --i) {\n    segmentData = this.dragSegments_[i][0];\n    geometry = segmentData.geometry;\n    if (geometry.getType() === _ol_geom_GeometryType_.CIRCLE) {\n      // Update a circle object in the R* bush:\n      var coordinates = geometry.getCenter();\n      var centerSegmentData = segmentData.featureSegments[0];\n      var circumferenceSegmentData = segmentData.featureSegments[1];\n      centerSegmentData.segment[0] = centerSegmentData.segment[1] = coordinates;\n      circumferenceSegmentData.segment[0] = circumferenceSegmentData.segment[1] = coordinates;\n      this.rBush_.update(_ol_extent_.createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n      this.rBush_.update(geometry.getExtent(), circumferenceSegmentData);\n    } else {\n      this.rBush_.update(_ol_extent_.boundingExtent(segmentData.segment),\n          segmentData);\n    }\n  }\n  if (this.modified_) {\n    this.dispatchEvent(new _ol_interaction_Modify_.Event(\n        _ol_interaction_ModifyEventType_.MODIFYEND, this.features_, evt));\n    this.modified_ = false;\n  }\n  return false;\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may modify the\n * geometry.\n * @param {ol.MapBrowserEvent} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ol.interaction.Modify}\n * @api\n */\n_ol_interaction_Modify_.handleEvent = function(mapBrowserEvent) {\n  if (!(mapBrowserEvent instanceof _ol_MapBrowserPointerEvent_)) {\n    return true;\n  }\n  this.lastPointerEvent_ = mapBrowserEvent;\n\n  var handled;\n  if (!mapBrowserEvent.map.getView().getInteracting() &&\n      mapBrowserEvent.type == _ol_MapBrowserEventType_.POINTERMOVE &&\n      !this.handlingDownUpSequence) {\n    this.handlePointerMove_(mapBrowserEvent);\n  }\n  if (this.vertexFeature_ && this.deleteCondition_(mapBrowserEvent)) {\n    if (mapBrowserEvent.type != _ol_MapBrowserEventType_.SINGLECLICK ||\n        !this.ignoreNextSingleClick_) {\n      handled = this.removePoint();\n    } else {\n      handled = true;\n    }\n  }\n\n  if (mapBrowserEvent.type == _ol_MapBrowserEventType_.SINGLECLICK) {\n    this.ignoreNextSingleClick_ = false;\n  }\n\n  return _ol_interaction_Pointer_.handleEvent.call(this, mapBrowserEvent) &&\n      !handled;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} evt Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handlePointerMove_ = function(evt) {\n  this.lastPixel_ = evt.pixel;\n  this.handlePointerAtPixel_(evt.pixel, evt.map);\n};\n\n\n/**\n * @param {ol.Pixel} pixel Pixel\n * @param {ol.PluggableMap} map Map.\n * @private\n */\n_ol_interaction_Modify_.prototype.handlePointerAtPixel_ = function(pixel, map) {\n  var pixelCoordinate = map.getCoordinateFromPixel(pixel);\n  var sortByDistance = function(a, b) {\n    return _ol_interaction_Modify_.pointDistanceToSegmentDataSquared_(pixelCoordinate, a) -\n        _ol_interaction_Modify_.pointDistanceToSegmentDataSquared_(pixelCoordinate, b);\n  };\n\n  var box = _ol_extent_.buffer(\n      _ol_extent_.createOrUpdateFromCoordinate(pixelCoordinate),\n      map.getView().getResolution() * this.pixelTolerance_);\n\n  var rBush = this.rBush_;\n  var nodes = rBush.getInExtent(box);\n  if (nodes.length > 0) {\n    nodes.sort(sortByDistance);\n    var node = nodes[0];\n    var closestSegment = node.segment;\n    var vertex = _ol_interaction_Modify_.closestOnSegmentData_(pixelCoordinate, node);\n    var vertexPixel = map.getPixelFromCoordinate(vertex);\n    var dist = _ol_coordinate_.distance(pixel, vertexPixel);\n    if (dist <= this.pixelTolerance_) {\n      var vertexSegments = {};\n\n      if (node.geometry.getType() === _ol_geom_GeometryType_.CIRCLE &&\n      node.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n\n        this.snappedToVertex_ = true;\n        this.createOrUpdateVertexFeature_(vertex);\n      } else {\n        var pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n        var pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n        var squaredDist1 = _ol_coordinate_.squaredDistance(vertexPixel, pixel1);\n        var squaredDist2 = _ol_coordinate_.squaredDistance(vertexPixel, pixel2);\n        dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n        this.snappedToVertex_ = dist <= this.pixelTolerance_;\n        if (this.snappedToVertex_) {\n          vertex = squaredDist1 > squaredDist2 ?\n            closestSegment[1] : closestSegment[0];\n        }\n        this.createOrUpdateVertexFeature_(vertex);\n        var segment;\n        for (var i = 1, ii = nodes.length; i < ii; ++i) {\n          segment = nodes[i].segment;\n          if ((_ol_coordinate_.equals(closestSegment[0], segment[0]) &&\n              _ol_coordinate_.equals(closestSegment[1], segment[1]) ||\n              (_ol_coordinate_.equals(closestSegment[0], segment[1]) &&\n              _ol_coordinate_.equals(closestSegment[1], segment[0])))) {\n            vertexSegments[_ol_.getUid(segment)] = true;\n          } else {\n            break;\n          }\n        }\n      }\n\n      vertexSegments[_ol_.getUid(closestSegment)] = true;\n      this.vertexSegments_ = vertexSegments;\n      return;\n    }\n  }\n  if (this.vertexFeature_) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n};\n\n\n/**\n * Returns the distance from a point to a line segment.\n *\n * @param {ol.Coordinate} pointCoordinates The coordinates of the point from\n *        which to calculate the distance.\n * @param {ol.ModifySegmentDataType} segmentData The object describing the line\n *        segment we are calculating the distance to.\n * @return {number} The square of the distance between a point and a line segment.\n */\n_ol_interaction_Modify_.pointDistanceToSegmentDataSquared_ = function(pointCoordinates, segmentData) {\n  var geometry = segmentData.geometry;\n\n  if (geometry.getType() === _ol_geom_GeometryType_.CIRCLE) {\n    var circleGeometry = /** @type {ol.geom.Circle} */ (geometry);\n\n    if (segmentData.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n      var distanceToCenterSquared =\n            _ol_coordinate_.squaredDistance(circleGeometry.getCenter(), pointCoordinates);\n      var distanceToCircumference =\n            Math.sqrt(distanceToCenterSquared) - circleGeometry.getRadius();\n      return distanceToCircumference * distanceToCircumference;\n    }\n  }\n  return _ol_coordinate_.squaredDistanceToSegment(pointCoordinates, segmentData.segment);\n};\n\n/**\n * Returns the point closest to a given line segment.\n *\n * @param {ol.Coordinate} pointCoordinates The point to which a closest point\n *        should be found.\n * @param {ol.ModifySegmentDataType} segmentData The object describing the line\n *        segment which should contain the closest point.\n * @return {ol.Coordinate} The point closest to the specified line segment.\n */\n_ol_interaction_Modify_.closestOnSegmentData_ = function(pointCoordinates, segmentData) {\n  var geometry = segmentData.geometry;\n\n  if (geometry.getType() === _ol_geom_GeometryType_.CIRCLE &&\n  segmentData.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n    return geometry.getClosestPoint(pointCoordinates);\n  }\n  return _ol_coordinate_.closestOnSegment(pointCoordinates, segmentData.segment);\n};\n\n\n/**\n * @param {ol.ModifySegmentDataType} segmentData Segment data.\n * @param {ol.Coordinate} vertex Vertex.\n * @private\n */\n_ol_interaction_Modify_.prototype.insertVertex_ = function(segmentData, vertex) {\n  var segment = segmentData.segment;\n  var feature = segmentData.feature;\n  var geometry = segmentData.geometry;\n  var depth = segmentData.depth;\n  var index = /** @type {number} */ (segmentData.index);\n  var coordinates;\n\n  while (vertex.length < geometry.getStride()) {\n    vertex.push(0);\n  }\n\n  switch (geometry.getType()) {\n    case _ol_geom_GeometryType_.MULTI_LINE_STRING:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case _ol_geom_GeometryType_.POLYGON:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case _ol_geom_GeometryType_.MULTI_POLYGON:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[1]][depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case _ol_geom_GeometryType_.LINE_STRING:\n      coordinates = geometry.getCoordinates();\n      coordinates.splice(index + 1, 0, vertex);\n      break;\n    default:\n      return;\n  }\n\n  this.setGeometryCoordinates_(geometry, coordinates);\n  var rTree = this.rBush_;\n  rTree.remove(segmentData);\n  this.updateSegmentIndices_(geometry, index, depth, 1);\n  var newSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    segment: [segment[0], vertex],\n    feature: feature,\n    geometry: geometry,\n    depth: depth,\n    index: index\n  });\n  rTree.insert(_ol_extent_.boundingExtent(newSegmentData.segment),\n      newSegmentData);\n  this.dragSegments_.push([newSegmentData, 1]);\n\n  var newSegmentData2 = /** @type {ol.ModifySegmentDataType} */ ({\n    segment: [vertex, segment[1]],\n    feature: feature,\n    geometry: geometry,\n    depth: depth,\n    index: index + 1\n  });\n  rTree.insert(_ol_extent_.boundingExtent(newSegmentData2.segment),\n      newSegmentData2);\n  this.dragSegments_.push([newSegmentData2, 0]);\n  this.ignoreNextSingleClick_ = true;\n};\n\n/**\n * Removes the vertex currently being pointed.\n * @return {boolean} True when a vertex was removed.\n * @api\n */\n_ol_interaction_Modify_.prototype.removePoint = function() {\n  if (this.lastPointerEvent_ && this.lastPointerEvent_.type != _ol_MapBrowserEventType_.POINTERDRAG) {\n    var evt = this.lastPointerEvent_;\n    this.willModifyFeatures_(evt);\n    this.removeVertex_();\n    this.dispatchEvent(new _ol_interaction_Modify_.Event(\n        _ol_interaction_ModifyEventType_.MODIFYEND, this.features_, evt));\n    this.modified_ = false;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Removes a vertex from all matching features.\n * @return {boolean} True when a vertex was removed.\n * @private\n */\n_ol_interaction_Modify_.prototype.removeVertex_ = function() {\n  var dragSegments = this.dragSegments_;\n  var segmentsByFeature = {};\n  var deleted = false;\n  var component, coordinates, dragSegment, geometry, i, index, left;\n  var newIndex, right, segmentData, uid;\n  for (i = dragSegments.length - 1; i >= 0; --i) {\n    dragSegment = dragSegments[i];\n    segmentData = dragSegment[0];\n    uid = _ol_.getUid(segmentData.feature);\n    if (segmentData.depth) {\n      // separate feature components\n      uid += '-' + segmentData.depth.join('-');\n    }\n    if (!(uid in segmentsByFeature)) {\n      segmentsByFeature[uid] = {};\n    }\n    if (dragSegment[1] === 0) {\n      segmentsByFeature[uid].right = segmentData;\n      segmentsByFeature[uid].index = segmentData.index;\n    } else if (dragSegment[1] == 1) {\n      segmentsByFeature[uid].left = segmentData;\n      segmentsByFeature[uid].index = segmentData.index + 1;\n    }\n\n  }\n  for (uid in segmentsByFeature) {\n    right = segmentsByFeature[uid].right;\n    left = segmentsByFeature[uid].left;\n    index = segmentsByFeature[uid].index;\n    newIndex = index - 1;\n    if (left !== undefined) {\n      segmentData = left;\n    } else {\n      segmentData = right;\n    }\n    if (newIndex < 0) {\n      newIndex = 0;\n    }\n    geometry = segmentData.geometry;\n    coordinates = geometry.getCoordinates();\n    component = coordinates;\n    deleted = false;\n    switch (geometry.getType()) {\n      case _ol_geom_GeometryType_.MULTI_LINE_STRING:\n        if (coordinates[segmentData.depth[0]].length > 2) {\n          coordinates[segmentData.depth[0]].splice(index, 1);\n          deleted = true;\n        }\n        break;\n      case _ol_geom_GeometryType_.LINE_STRING:\n        if (coordinates.length > 2) {\n          coordinates.splice(index, 1);\n          deleted = true;\n        }\n        break;\n      case _ol_geom_GeometryType_.MULTI_POLYGON:\n        component = component[segmentData.depth[1]];\n        /* falls through */\n      case _ol_geom_GeometryType_.POLYGON:\n        component = component[segmentData.depth[0]];\n        if (component.length > 4) {\n          if (index == component.length - 1) {\n            index = 0;\n          }\n          component.splice(index, 1);\n          deleted = true;\n          if (index === 0) {\n            // close the ring again\n            component.pop();\n            component.push(component[0]);\n            newIndex = component.length - 1;\n          }\n        }\n        break;\n      default:\n        // pass\n    }\n\n    if (deleted) {\n      this.setGeometryCoordinates_(geometry, coordinates);\n      var segments = [];\n      if (left !== undefined) {\n        this.rBush_.remove(left);\n        segments.push(left.segment[0]);\n      }\n      if (right !== undefined) {\n        this.rBush_.remove(right);\n        segments.push(right.segment[1]);\n      }\n      if (left !== undefined && right !== undefined) {\n        var newSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n          depth: segmentData.depth,\n          feature: segmentData.feature,\n          geometry: segmentData.geometry,\n          index: newIndex,\n          segment: segments\n        });\n        this.rBush_.insert(_ol_extent_.boundingExtent(newSegmentData.segment),\n            newSegmentData);\n      }\n      this.updateSegmentIndices_(geometry, index, segmentData.depth, -1);\n      if (this.vertexFeature_) {\n        this.overlay_.getSource().removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n      dragSegments.length = 0;\n    }\n\n  }\n  return deleted;\n};\n\n\n/**\n * @param {ol.geom.SimpleGeometry} geometry Geometry.\n * @param {Array} coordinates Coordinates.\n * @private\n */\n_ol_interaction_Modify_.prototype.setGeometryCoordinates_ = function(geometry, coordinates) {\n  this.changingFeature_ = true;\n  geometry.setCoordinates(coordinates);\n  this.changingFeature_ = false;\n};\n\n\n/**\n * @param {ol.geom.SimpleGeometry} geometry Geometry.\n * @param {number} index Index.\n * @param {Array.<number>|undefined} depth Depth.\n * @param {number} delta Delta (1 or -1).\n * @private\n */\n_ol_interaction_Modify_.prototype.updateSegmentIndices_ = function(\n    geometry, index, depth, delta) {\n  this.rBush_.forEachInExtent(geometry.getExtent(), function(segmentDataMatch) {\n    if (segmentDataMatch.geometry === geometry &&\n        (depth === undefined || segmentDataMatch.depth === undefined ||\n        _ol_array_.equals(segmentDataMatch.depth, depth)) &&\n        segmentDataMatch.index > index) {\n      segmentDataMatch.index += delta;\n    }\n  });\n};\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\n_ol_interaction_Modify_.getDefaultStyleFunction = function() {\n  var style = _ol_style_Style_.createDefaultEditing();\n  return function(feature, resolution) {\n    return style[_ol_geom_GeometryType_.POINT];\n  };\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Modify} instances are instances of\n * this type.\n *\n * @constructor\n * @extends {ol.events.Event}\n * @implements {oli.ModifyEvent}\n * @param {ol.interaction.ModifyEventType} type Type.\n * @param {ol.Collection.<ol.Feature>} features The features modified.\n * @param {ol.MapBrowserPointerEvent} mapBrowserPointerEvent Associated\n *     {@link ol.MapBrowserPointerEvent}.\n */\n_ol_interaction_Modify_.Event = function(type, features, mapBrowserPointerEvent) {\n\n  _ol_events_Event_.call(this, type);\n\n  /**\n   * The features being modified.\n   * @type {ol.Collection.<ol.Feature>}\n   * @api\n   */\n  this.features = features;\n\n  /**\n   * Associated {@link ol.MapBrowserEvent}.\n   * @type {ol.MapBrowserEvent}\n   * @api\n   */\n  this.mapBrowserEvent = mapBrowserPointerEvent;\n};\n_ol_.inherits(_ol_interaction_Modify_.Event, _ol_events_Event_);\nexport default _ol_interaction_Modify_;\n","var getBuiltIn = require('../internals/get-built-in');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag(getBuiltIn('Symbol'), 'Symbol');\n","// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/es.symbol.constructor');\nrequire('../modules/es.symbol.for');\nrequire('../modules/es.symbol.key-for');\nrequire('../modules/es.json.stringify');\nrequire('../modules/es.object.get-own-property-symbols');\n","import _ol_ from '../index.js';\nimport _ol_array_ from '../array.js';\nimport _ol_proj_ from '../proj.js';\nimport _ol_tilegrid_TileGrid_ from '../tilegrid/tilegrid.js';\n\n/**\n * @classdesc\n * Set the grid pattern for sources accessing WMTS tiled-image servers.\n *\n * @constructor\n * @extends {ol.tilegrid.TileGrid}\n * @param {olx.tilegrid.WMTSOptions} options WMTS options.\n * @struct\n * @api\n */\nvar _ol_tilegrid_WMTS_ = function(options) {\n  /**\n   * @private\n   * @type {!Array.<string>}\n   */\n  this.matrixIds_ = options.matrixIds;\n  // FIXME: should the matrixIds become optional?\n\n  _ol_tilegrid_TileGrid_.call(this, {\n    extent: options.extent,\n    origin: options.origin,\n    origins: options.origins,\n    resolutions: options.resolutions,\n    tileSize: options.tileSize,\n    tileSizes: options.tileSizes,\n    sizes: options.sizes\n  });\n};\n\n_ol_.inherits(_ol_tilegrid_WMTS_, _ol_tilegrid_TileGrid_);\n\n\n/**\n * @param {number} z Z.\n * @return {string} MatrixId..\n */\n_ol_tilegrid_WMTS_.prototype.getMatrixId = function(z) {\n  return this.matrixIds_[z];\n};\n\n\n/**\n * Get the list of matrix identifiers.\n * @return {Array.<string>} MatrixIds.\n * @api\n */\n_ol_tilegrid_WMTS_.prototype.getMatrixIds = function() {\n  return this.matrixIds_;\n};\n\n\n/**\n * Create a tile grid from a WMTS capabilities matrix set and an\n * optional TileMatrixSetLimits.\n * @param {Object} matrixSet An object representing a matrixSet in the\n *     capabilities document.\n * @param {ol.Extent=} opt_extent An optional extent to restrict the tile\n *     ranges the server provides.\n * @param {Array.<Object>=} opt_matrixLimits An optional object representing\n *     the available matrices for tileGrid.\n * @return {ol.tilegrid.WMTS} WMTS tileGrid instance.\n * @api\n */\n_ol_tilegrid_WMTS_.createFromCapabilitiesMatrixSet = function(matrixSet, opt_extent,\n    opt_matrixLimits) {\n\n  /** @type {!Array.<number>} */\n  var resolutions = [];\n  /** @type {!Array.<string>} */\n  var matrixIds = [];\n  /** @type {!Array.<ol.Coordinate>} */\n  var origins = [];\n  /** @type {!Array.<ol.Size>} */\n  var tileSizes = [];\n  /** @type {!Array.<ol.Size>} */\n  var sizes = [];\n\n  var matrixLimits = opt_matrixLimits !== undefined ? opt_matrixLimits : [];\n\n  var supportedCRSPropName = 'SupportedCRS';\n  var matrixIdsPropName = 'TileMatrix';\n  var identifierPropName = 'Identifier';\n  var scaleDenominatorPropName = 'ScaleDenominator';\n  var topLeftCornerPropName = 'TopLeftCorner';\n  var tileWidthPropName = 'TileWidth';\n  var tileHeightPropName = 'TileHeight';\n\n  var code = matrixSet[supportedCRSPropName];\n  var projection = _ol_proj_.get(code.replace(/urn:ogc:def:crs:(\\w+):(.*:)?(\\w+)$/, '$1:$3')) ||\n      _ol_proj_.get(code);\n  var metersPerUnit = projection.getMetersPerUnit();\n  // swap origin x and y coordinates if axis orientation is lat/long\n  var switchOriginXY = projection.getAxisOrientation().substr(0, 2) == 'ne';\n\n  matrixSet[matrixIdsPropName].sort(function(a, b) {\n    return b[scaleDenominatorPropName] - a[scaleDenominatorPropName];\n  });\n\n  matrixSet[matrixIdsPropName].forEach(function(elt, index, array) {\n\n    var matrixAvailable;\n    // use of matrixLimits to filter TileMatrices from GetCapabilities\n    // TileMatrixSet from unavailable matrix levels.\n    if (matrixLimits.length > 0) {\n      matrixAvailable = _ol_array_.find(matrixLimits,\n          function(elt_ml, index_ml, array_ml) {\n            return elt[identifierPropName] == elt_ml[matrixIdsPropName];\n          });\n    } else {\n      matrixAvailable = true;\n    }\n\n    if (matrixAvailable) {\n      matrixIds.push(elt[identifierPropName]);\n      var resolution = elt[scaleDenominatorPropName] * 0.28E-3 / metersPerUnit;\n      var tileWidth = elt[tileWidthPropName];\n      var tileHeight = elt[tileHeightPropName];\n      if (switchOriginXY) {\n        origins.push([elt[topLeftCornerPropName][1],\n          elt[topLeftCornerPropName][0]]);\n      } else {\n        origins.push(elt[topLeftCornerPropName]);\n      }\n      resolutions.push(resolution);\n      tileSizes.push(tileWidth == tileHeight ?\n        tileWidth : [tileWidth, tileHeight]);\n      // top-left origin, so height is negative\n      sizes.push([elt['MatrixWidth'], -elt['MatrixHeight']]);\n    }\n  });\n\n  return new _ol_tilegrid_WMTS_({\n    extent: opt_extent,\n    origins: origins,\n    resolutions: resolutions,\n    matrixIds: matrixIds,\n    tileSizes: tileSizes,\n    sizes: sizes\n  });\n};\nexport default _ol_tilegrid_WMTS_;\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (Target, Source, key) {\n  key in Target || defineProperty(Target, key, {\n    configurable: true,\n    get: function () { return Source[key]; },\n    set: function (it) { Source[key] = it; }\n  });\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar toString = require('../internals/to-string');\nvar shared = require('../internals/shared');\nvar NATIVE_SYMBOL_REGISTRY = require('../internals/symbol-registry-detection');\n\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\n\n// `Symbol.for` method\n// https://tc39.es/ecma262/#sec-symbol.for\n$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {\n  'for': function (key) {\n    var string = toString(key);\n    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = getBuiltIn('Symbol')(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  }\n});\n","var defineWellKnownSymbol = require('../internals/well-known-symbol-define');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","// FIXME add minZoom support\n// FIXME add date line wrap (tile coord transform)\n// FIXME cannot be shared between maps with different projections\n\nimport _ol_ from '../index.js';\nimport _ol_asserts_ from '../asserts.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_obj_ from '../obj.js';\nimport _ol_math_ from '../math.js';\nimport _ol_proj_ from '../proj.js';\nimport _ol_reproj_ from '../reproj.js';\nimport _ol_size_ from '../size.js';\nimport _ol_source_TileImage_ from '../source/tileimage.js';\nimport _ol_source_WMSServerType_ from '../source/wmsservertype.js';\nimport _ol_tilecoord_ from '../tilecoord.js';\nimport _ol_string_ from '../string.js';\nimport _ol_uri_ from '../uri.js';\n\n/**\n * @classdesc\n * Layer source for tile data from WMS servers.\n *\n * @constructor\n * @extends {ol.source.TileImage}\n * @param {olx.source.TileWMSOptions=} opt_options Tile WMS options.\n * @api\n */\nvar _ol_source_TileWMS_ = function(opt_options) {\n\n  var options = opt_options || {};\n\n  var params = options.params || {};\n\n  var transparent = 'TRANSPARENT' in params ? params['TRANSPARENT'] : true;\n\n  _ol_source_TileImage_.call(this, {\n    attributions: options.attributions,\n    cacheSize: options.cacheSize,\n    crossOrigin: options.crossOrigin,\n    logo: options.logo,\n    opaque: !transparent,\n    projection: options.projection,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileClass: options.tileClass,\n    tileGrid: options.tileGrid,\n    tileLoadFunction: options.tileLoadFunction,\n    url: options.url,\n    urls: options.urls,\n    wrapX: options.wrapX !== undefined ? options.wrapX : true,\n    transition: options.transition\n  });\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.gutter_ = options.gutter !== undefined ? options.gutter : 0;\n\n  /**\n   * @private\n   * @type {!Object}\n   */\n  this.params_ = params;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.v13_ = true;\n\n  /**\n   * @private\n   * @type {ol.source.WMSServerType|undefined}\n   */\n  this.serverType_ = /** @type {ol.source.WMSServerType|undefined} */ (options.serverType);\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\n\n  /**\n   * @private\n   * @type {ol.Extent}\n   */\n  this.tmpExtent_ = _ol_extent_.createEmpty();\n\n  this.updateV13_();\n  this.setKey(this.getKeyForParams_());\n\n};\n\n_ol_.inherits(_ol_source_TileWMS_, _ol_source_TileImage_);\n\n\n/**\n * Return the GetFeatureInfo URL for the passed coordinate, resolution, and\n * projection. Return `undefined` if the GetFeatureInfo URL cannot be\n * constructed.\n * @param {ol.Coordinate} coordinate Coordinate.\n * @param {number} resolution Resolution.\n * @param {ol.ProjectionLike} projection Projection.\n * @param {!Object} params GetFeatureInfo params. `INFO_FORMAT` at least should\n *     be provided. If `QUERY_LAYERS` is not provided then the layers specified\n *     in the `LAYERS` parameter will be used. `VERSION` should not be\n *     specified here.\n * @return {string|undefined} GetFeatureInfo URL.\n * @api\n */\n_ol_source_TileWMS_.prototype.getGetFeatureInfoUrl = function(coordinate, resolution, projection, params) {\n  var projectionObj = _ol_proj_.get(projection);\n  var sourceProjectionObj = this.getProjection();\n\n  var tileGrid = this.getTileGrid();\n  if (!tileGrid) {\n    tileGrid = this.getTileGridForProjection(projectionObj);\n  }\n\n  var tileCoord = tileGrid.getTileCoordForCoordAndResolution(coordinate, resolution);\n\n  if (tileGrid.getResolutions().length <= tileCoord[0]) {\n    return undefined;\n  }\n\n  var tileResolution = tileGrid.getResolution(tileCoord[0]);\n  var tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent_);\n  var tileSize = _ol_size_.toSize(tileGrid.getTileSize(tileCoord[0]), this.tmpSize);\n\n\n  var gutter = this.gutter_;\n  if (gutter !== 0) {\n    tileSize = _ol_size_.buffer(tileSize, gutter, this.tmpSize);\n    tileExtent = _ol_extent_.buffer(tileExtent, tileResolution * gutter, tileExtent);\n  }\n\n  if (sourceProjectionObj && sourceProjectionObj !== projectionObj) {\n    tileResolution = _ol_reproj_.calculateSourceResolution(sourceProjectionObj, projectionObj, coordinate, tileResolution);\n    tileExtent = _ol_proj_.transformExtent(tileExtent, projectionObj, sourceProjectionObj);\n    coordinate = _ol_proj_.transform(coordinate, projectionObj, sourceProjectionObj);\n  }\n\n  var baseParams = {\n    'SERVICE': 'WMS',\n    'VERSION': _ol_.DEFAULT_WMS_VERSION,\n    'REQUEST': 'GetFeatureInfo',\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true,\n    'QUERY_LAYERS': this.params_['LAYERS']\n  };\n  _ol_obj_.assign(baseParams, this.params_, params);\n\n  var x = Math.floor((coordinate[0] - tileExtent[0]) / tileResolution);\n  var y = Math.floor((tileExtent[3] - coordinate[1]) / tileResolution);\n\n  baseParams[this.v13_ ? 'I' : 'X'] = x;\n  baseParams[this.v13_ ? 'J' : 'Y'] = y;\n\n  return this.getRequestUrl_(tileCoord, tileSize, tileExtent,\n      1, sourceProjectionObj || projectionObj, baseParams);\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_source_TileWMS_.prototype.getGutterInternal = function() {\n  return this.gutter_;\n};\n\n\n/**\n * Get the user-provided params, i.e. those passed to the constructor through\n * the \"params\" option, and possibly updated using the updateParams method.\n * @return {Object} Params.\n * @api\n */\n_ol_source_TileWMS_.prototype.getParams = function() {\n  return this.params_;\n};\n\n\n/**\n * @param {ol.TileCoord} tileCoord Tile coordinate.\n * @param {ol.Size} tileSize Tile size.\n * @param {ol.Extent} tileExtent Tile extent.\n * @param {number} pixelRatio Pixel ratio.\n * @param {ol.proj.Projection} projection Projection.\n * @param {Object} params Params.\n * @return {string|undefined} Request URL.\n * @private\n */\n_ol_source_TileWMS_.prototype.getRequestUrl_ = function(tileCoord, tileSize, tileExtent,\n    pixelRatio, projection, params) {\n\n  var urls = this.urls;\n  if (!urls) {\n    return undefined;\n  }\n\n  params['WIDTH'] = tileSize[0];\n  params['HEIGHT'] = tileSize[1];\n\n  params[this.v13_ ? 'CRS' : 'SRS'] = projection.getCode();\n\n  if (!('STYLES' in this.params_)) {\n    params['STYLES'] = '';\n  }\n\n  if (pixelRatio != 1) {\n    switch (this.serverType_) {\n      case _ol_source_WMSServerType_.GEOSERVER:\n        var dpi = (90 * pixelRatio + 0.5) | 0;\n        if ('FORMAT_OPTIONS' in params) {\n          params['FORMAT_OPTIONS'] += ';dpi:' + dpi;\n        } else {\n          params['FORMAT_OPTIONS'] = 'dpi:' + dpi;\n        }\n        break;\n      case _ol_source_WMSServerType_.MAPSERVER:\n        params['MAP_RESOLUTION'] = 90 * pixelRatio;\n        break;\n      case _ol_source_WMSServerType_.CARMENTA_SERVER:\n      case _ol_source_WMSServerType_.QGIS:\n        params['DPI'] = 90 * pixelRatio;\n        break;\n      default:\n        _ol_asserts_.assert(false, 52); // Unknown `serverType` configured\n        break;\n    }\n  }\n\n  var axisOrientation = projection.getAxisOrientation();\n  var bbox = tileExtent;\n  if (this.v13_ && axisOrientation.substr(0, 2) == 'ne') {\n    var tmp;\n    tmp = tileExtent[0];\n    bbox[0] = tileExtent[1];\n    bbox[1] = tmp;\n    tmp = tileExtent[2];\n    bbox[2] = tileExtent[3];\n    bbox[3] = tmp;\n  }\n  params['BBOX'] = bbox.join(',');\n\n  var url;\n  if (urls.length == 1) {\n    url = urls[0];\n  } else {\n    var index = _ol_math_.modulo(_ol_tilecoord_.hash(tileCoord), urls.length);\n    url = urls[index];\n  }\n  return _ol_uri_.appendParams(url, params);\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_source_TileWMS_.prototype.getTilePixelRatio = function(pixelRatio) {\n  return (!this.hidpi_ || this.serverType_ === undefined) ? 1 :\n  /** @type {number} */ (pixelRatio);\n};\n\n\n/**\n * @private\n * @return {string} The key for the current params.\n */\n_ol_source_TileWMS_.prototype.getKeyForParams_ = function() {\n  var i = 0;\n  var res = [];\n  for (var key in this.params_) {\n    res[i++] = key + '-' + this.params_[key];\n  }\n  return res.join('/');\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_source_TileWMS_.prototype.fixedTileUrlFunction = function(tileCoord, pixelRatio, projection) {\n\n  var tileGrid = this.getTileGrid();\n  if (!tileGrid) {\n    tileGrid = this.getTileGridForProjection(projection);\n  }\n\n  if (tileGrid.getResolutions().length <= tileCoord[0]) {\n    return undefined;\n  }\n\n  if (pixelRatio != 1 && (!this.hidpi_ || this.serverType_ === undefined)) {\n    pixelRatio = 1;\n  }\n\n  var tileResolution = tileGrid.getResolution(tileCoord[0]);\n  var tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent_);\n  var tileSize = _ol_size_.toSize(\n      tileGrid.getTileSize(tileCoord[0]), this.tmpSize);\n\n  var gutter = this.gutter_;\n  if (gutter !== 0) {\n    tileSize = _ol_size_.buffer(tileSize, gutter, this.tmpSize);\n    tileExtent = _ol_extent_.buffer(tileExtent,\n        tileResolution * gutter, tileExtent);\n  }\n\n  if (pixelRatio != 1) {\n    tileSize = _ol_size_.scale(tileSize, pixelRatio, this.tmpSize);\n  }\n\n  var baseParams = {\n    'SERVICE': 'WMS',\n    'VERSION': _ol_.DEFAULT_WMS_VERSION,\n    'REQUEST': 'GetMap',\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true\n  };\n  _ol_obj_.assign(baseParams, this.params_);\n\n  return this.getRequestUrl_(tileCoord, tileSize, tileExtent,\n      pixelRatio, projection, baseParams);\n};\n\n/**\n * Update the user-provided params.\n * @param {Object} params Params.\n * @api\n */\n_ol_source_TileWMS_.prototype.updateParams = function(params) {\n  _ol_obj_.assign(this.params_, params);\n  this.updateV13_();\n  this.setKey(this.getKeyForParams_());\n};\n\n\n/**\n * @private\n */\n_ol_source_TileWMS_.prototype.updateV13_ = function() {\n  var version = this.params_['VERSION'] || _ol_.DEFAULT_WMS_VERSION;\n  this.v13_ = _ol_string_.compareVersions(version, '1.3') >= 0;\n};\nexport default _ol_source_TileWMS_;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffAnalysis.vue?vue&type=style&index=0&id=6dc25300&prod&lang=css&\"","var $ = require('../internals/export');\nvar hasOwn = require('../internals/has-own-property');\nvar isSymbol = require('../internals/is-symbol');\nvar tryToString = require('../internals/try-to-string');\nvar shared = require('../internals/shared');\nvar NATIVE_SYMBOL_REGISTRY = require('../internals/symbol-registry-detection');\n\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\n\n// `Symbol.keyFor` method\n// https://tc39.es/ecma262/#sec-symbol.keyfor\n$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(tryToString(sym) + ' is not a symbol');\n    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  }\n});\n","var _ol_uri_ = {};\n\n\n/**\n * Appends query parameters to a URI.\n *\n * @param {string} uri The original URI, which may already have query data.\n * @param {!Object} params An object where keys are URI-encoded parameter keys,\n *     and the values are arbitrary types or arrays.\n * @return {string} The new URI.\n */\n_ol_uri_.appendParams = function(uri, params) {\n  var keyParams = [];\n  // Skip any null or undefined parameter values\n  Object.keys(params).forEach(function(k) {\n    if (params[k] !== null && params[k] !== undefined) {\n      keyParams.push(k + '=' + encodeURIComponent(params[k]));\n    }\n  });\n  var qs = keyParams.join('&');\n  // remove any trailing ? or &\n  uri = uri.replace(/[?&]$/, '');\n  // append ? or & depending on whether uri has existing parameters\n  uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n  return uri + qs;\n};\nexport default _ol_uri_;\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","var defineWellKnownSymbol = require('../internals/well-known-symbol-define');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, constructor: true, arity: 1, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, constructor: true, arity: 1, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar $toString = require('../internals/to-string');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar defineSymbolToPrimitive = require('../internals/symbol-define-to-primitive');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\n\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\n\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];\nvar TypeError = global.TypeError;\nvar QObject = global.QObject;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar push = uncurryThis([].push);\n\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar WellKnownSymbolsStore = shared('wks');\n\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPropertyKey(P);\n  anObject(Attributes);\n  if (hasOwn(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPropertyKey(V);\n  var enumerable = call(nativePropertyIsEnumerable, this, P);\n  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]\n    ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPropertyKey(P);\n  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function (O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {\n      push(result, AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (isPrototypeOf(SymbolPrototype, this)) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);\n      if (hasOwn(this, HIDDEN) && hasOwn(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  SymbolPrototype = $Symbol[PROTOTYPE];\n\n  defineBuiltIn(SymbolPrototype, 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  defineBuiltIn($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  definePropertiesModule.f = $defineProperties;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty(SymbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      defineBuiltIn(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames\n});\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\ndefineSymbolToPrimitive();\n\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var thisSymbolValue = uncurryThis(SymbolPrototype.valueOf);\n  var symbolDescriptiveString = uncurryThis(SymbolPrototype.toString);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = thisSymbolValue(this);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var string = symbolDescriptiveString(symbol);\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, constructor: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var path = require('../internals/path');\nvar hasOwn = require('../internals/has-own-property');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar proxyAccessor = require('../internals/proxy-accessor');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var STACK_TRACE_LIMIT = 'stackTraceLimit';\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  } else if (DESCRIPTORS && STACK_TRACE_LIMIT in OriginalError) {\n    proxyAccessor(WrappedError, OriginalError, STACK_TRACE_LIMIT);\n    proxyAccessor(WrappedError, OriginalError, 'prepareStackTrace');\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar arraySlice = require('../internals/array-slice');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {\n  var symbol = getBuiltIn('Symbol')();\n  // MS Edge converts symbol values to JSON as {}\n  return $stringify([symbol]) != '[null]'\n    // WebKit converts symbol values to JSON as null\n    || $stringify({ a: symbol }) != '{}'\n    // V8 throws on boxed symbols\n    || $stringify(Object(symbol)) != '{}';\n});\n\n// https://github.com/tc39/proposal-well-formed-stringify\nvar ILL_FORMED_UNICODE = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nvar stringifyWithSymbolsFix = function (it, replacer) {\n  var args = arraySlice(arguments);\n  var $replacer = replacer;\n  if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n  if (!isArray(replacer)) replacer = function (key, value) {\n    if (isCallable($replacer)) value = call($replacer, this, key, value);\n    if (!isSymbol(value)) return value;\n  };\n  args[1] = replacer;\n  return apply($stringify, null, args);\n};\n\nvar fixIllFormed = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = arraySlice(arguments);\n      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);\n      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;\n    }\n  });\n}\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar nativeSlice = require('../internals/array-slice');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = lengthOfArrayLike(O);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === $Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === $Array || Constructor === undefined) {\n        return nativeSlice(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? $Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}