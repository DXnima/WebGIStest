(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42aa1406"],{a15b:function(e,t,a){"use strict";var r=a("23e7"),o=a("e330"),i=a("44ad"),n=a("fc6a"),s=a("a640"),c=o([].join),u=i!==Object,l=u||!s("join",",");r({target:"Array",proto:!0,forced:l},{join:function(e){return c(n(this),void 0===e?",":e)}})},f9f3:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("GeoServer")]),t("el-breadcrumb-item",[e._v("WFS")]),t("el-breadcrumb-item",[e._v("WFS查询数据")])],1),t("el-card",[t("div",{attrs:{id:"map"}})])],1)},o=[],i=(a("a15b"),a("d3b7"),a("e9c4"),a("43df")),n=a("332e"),s=a("e671"),c=a("02df"),u=a("169c"),l=a("14c4"),w=a("5b00"),f=a("3e31"),d=a("29ae"),m=a("3110"),p=a("715e"),v=a("92cf"),b={data:function(){return{geoserverData:{wsName:"webgistest",uri:"http://www.openplans.org/webgistest",wfsURL:"http://localhost:28081/geoserver/wfs?",layer:"port"},wfsFilter:null}},created:function(){},mounted:function(){this.initMap()},methods:{initMap:function(){var e=this,t=new c["a"]({format:new u["a"],url:function(t){return e.geoserverData.wfsURL+"service=WFS&version=1.1.0&request=GetFeature&typeName="+e.geoserverData.wsName+":"+e.geoserverData.layer+"&outputFormat=application/json&srsname=EPSG:3857&bbox="+t.join(",")+",EPSG:3857"},strategy:p["a"].bbox}),a=new s["a"]({title:"add WFS",source:t,style:new f["a"]({image:new d["a"]({radius:5,fill:new m["a"]({color:"#389BCD",opacity:.5})})})}),r=new s["a"]({source:new c["a"],style:new f["a"]({image:new d["a"]({radius:5,fill:new m["a"]({color:"#d90000",opacity:.5})})})}),o=[Object(v["d"])("vec_w"),Object(v["d"])("cva_w"),a,r];new i["a"]({target:"map",layers:o,view:new n["a"]({projection:"EPSG:3857",center:[12233037.3,4861921.87],zoom:4})});this.wfsFilter=r,this.findData()},findData:function(){var e=this,t={srcName:"EPSG:4326",featureNS:this.geoserverData.uri,featurePrefix:this.geoserverData.wsName,featureTypes:[this.geoserverData.layer],outputFormat:"application/json",filter:w["a"].and(w["a"].like("porttype","沿海"),w["a"].equalTo("name","珠海港"))},a=(new l["a"]).writeGetFeature(t);fetch(e.geoserverData.wfsURL,{method:"POST",body:(new XMLSerializer).serializeToString(a)}).then((function(e){return e.json()})).then((function(t){console.log(JSON.stringify(t,null,"\t"));var a=new u["a"]({geometryName:"geom"}).readFeatures(t);e.wfsFilter&&e.wfsFilter.getSource().addFeatures(a)}))}}},g=b,h=a("2877"),y=Object(h["a"])(g,r,o,!1,null,"7d7e344a",null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-42aa1406.42244669.js.map