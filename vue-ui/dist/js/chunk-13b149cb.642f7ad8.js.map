{"version":3,"sources":["webpack:///./node_modules/ol/overlaypositioning.js","webpack:///./node_modules/ol/overlay.js","webpack:///./src/components/openlayers/ShowPopup.vue?b740","webpack:///./src/components/openlayers/ShowPopup.vue","webpack:///src/components/openlayers/ShowPopup.vue","webpack:///./src/components/openlayers/ShowPopup.vue?a1c8","webpack:///./src/components/openlayers/ShowPopup.vue?81ec"],"names":["_ol_OverlayPositioning_","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","CENTER_LEFT","CENTER_CENTER","CENTER_RIGHT","TOP_LEFT","TOP_CENTER","TOP_RIGHT","_ol_Overlay_","options","call","this","id","insertFirst","undefined","stopEvent","element","document","createElement","className","CLASS_SELECTABLE","style","position","autoPan","autoPanAnimation","autoPanMargin","rendered","bottom_","left_","right_","top_","visible","mapPostrenderListenerKey","listen","getChangeEventType","Property","ELEMENT","handleElementChanged","MAP","handleMapChanged","OFFSET","handleOffsetChanged","POSITION","handlePositionChanged","POSITIONING","handlePositioningChanged","setElement","setOffset","offset","setPositioning","positioning","setPosition","inherits","prototype","getElement","get","getId","getMap","getOffset","getPosition","getPositioning","removeChildren","appendChild","removeNode","unlistenByKey","map","POSTRENDER","render","updatePixelPosition","container","getOverlayContainerStopEvent","getOverlayContainer","insertBefore","childNodes","panIntoView","set","setMap","getTargetElement","mapRect","getRect","getSize","overlayRect","outerWidth","outerHeight","margin","containsExtent","offsetLeft","offsetRight","offsetTop","offsetBottom","delta","Math","abs","center","getView","getCenter","centerPx","getPixelFromCoordinate","newCenterPx","animate","getCoordinateFromPixel","duration","easing","size","box","getBoundingClientRect","offsetX","left","window","pageXOffset","offsetY","top","pageYOffset","setVisible","display","isRendered","pixel","mapSize","updateRenderedPosition","right","round","offsetWidth","bottom","offsetHeight","getOptions","_vm","_c","_self","attrs","path","_v","staticClass","staticRenderFns","data","overlay","created","mounted","initMap","methods","view","View","zoom","proj","transform","Map","controls","control","defaults","attribution","extend","target","layers","getTdtLayer","closer","getElementById","Overlay","addOverlay","onclick","blur","that","on","evt","hdms","coordinate","toStringHDMS","info","showInfo","title","content","innerHTML","component"],"mappings":"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","file":"js/chunk-13b149cb.642f7ad8.js","sourcesContent":["/**\n * Overlay position: `'bottom-left'`, `'bottom-center'`,  `'bottom-right'`,\n * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n * `'top-center'`, `'top-right'`\n * @enum {string}\n */\nvar _ol_OverlayPositioning_ = {\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_CENTER: 'bottom-center',\n  BOTTOM_RIGHT: 'bottom-right',\n  CENTER_LEFT: 'center-left',\n  CENTER_CENTER: 'center-center',\n  CENTER_RIGHT: 'center-right',\n  TOP_LEFT: 'top-left',\n  TOP_CENTER: 'top-center',\n  TOP_RIGHT: 'top-right'\n};\n\nexport default _ol_OverlayPositioning_;\n","import _ol_ from './index.js';\nimport _ol_MapEventType_ from './mapeventtype.js';\nimport _ol_Object_ from './object.js';\nimport _ol_OverlayPositioning_ from './overlaypositioning.js';\nimport _ol_css_ from './css.js';\nimport _ol_dom_ from './dom.js';\nimport _ol_events_ from './events.js';\nimport _ol_extent_ from './extent.js';\n\n/**\n * @classdesc\n * An element to be displayed over the map and attached to a single map\n * location.  Like {@link ol.control.Control}, Overlays are visible widgets.\n * Unlike Controls, they are not in a fixed position on the screen, but are tied\n * to a geographical coordinate, so panning the map will move an Overlay but not\n * a Control.\n *\n * Example:\n *\n *     var popup = new ol.Overlay({\n *       element: document.getElementById('popup')\n *     });\n *     popup.setPosition(coordinate);\n *     map.addOverlay(popup);\n *\n * @constructor\n * @extends {ol.Object}\n * @param {olx.OverlayOptions} options Overlay options.\n * @api\n */\nvar _ol_Overlay_ = function(options) {\n\n  _ol_Object_.call(this);\n\n  /**\n   * @protected\n   * @type {olx.OverlayOptions}\n   */\n  this.options = options;\n\n  /**\n   * @protected\n   * @type {number|string|undefined}\n   */\n  this.id = options.id;\n\n  /**\n   * @protected\n   * @type {boolean}\n   */\n  this.insertFirst = options.insertFirst !== undefined ?\n    options.insertFirst : true;\n\n  /**\n   * @protected\n   * @type {boolean}\n   */\n  this.stopEvent = options.stopEvent !== undefined ? options.stopEvent : true;\n\n  /**\n   * @protected\n   * @type {Element}\n   */\n  this.element = document.createElement('DIV');\n  this.element.className = options.className !== undefined ?\n    options.className : 'ol-overlay-container ' + _ol_css_.CLASS_SELECTABLE;\n  this.element.style.position = 'absolute';\n\n  /**\n   * @protected\n   * @type {boolean}\n   */\n  this.autoPan = options.autoPan !== undefined ? options.autoPan : false;\n\n  /**\n   * @protected\n   * @type {olx.OverlayPanOptions}\n   */\n  this.autoPanAnimation = options.autoPanAnimation ||\n    /** @type {olx.OverlayPanOptions} */ ({});\n\n  /**\n   * @protected\n   * @type {number}\n   */\n  this.autoPanMargin = options.autoPanMargin !== undefined ?\n    options.autoPanMargin : 20;\n\n  /**\n   * @protected\n   * @type {{bottom_: string,\n   *         left_: string,\n   *         right_: string,\n   *         top_: string,\n   *         visible: boolean}}\n   */\n  this.rendered = {\n    bottom_: '',\n    left_: '',\n    right_: '',\n    top_: '',\n    visible: true\n  };\n\n  /**\n   * @protected\n   * @type {?ol.EventsKey}\n   */\n  this.mapPostrenderListenerKey = null;\n\n  _ol_events_.listen(\n      this, _ol_Object_.getChangeEventType(_ol_Overlay_.Property.ELEMENT),\n      this.handleElementChanged, this);\n\n  _ol_events_.listen(\n      this, _ol_Object_.getChangeEventType(_ol_Overlay_.Property.MAP),\n      this.handleMapChanged, this);\n\n  _ol_events_.listen(\n      this, _ol_Object_.getChangeEventType(_ol_Overlay_.Property.OFFSET),\n      this.handleOffsetChanged, this);\n\n  _ol_events_.listen(\n      this, _ol_Object_.getChangeEventType(_ol_Overlay_.Property.POSITION),\n      this.handlePositionChanged, this);\n\n  _ol_events_.listen(\n      this, _ol_Object_.getChangeEventType(_ol_Overlay_.Property.POSITIONING),\n      this.handlePositioningChanged, this);\n\n  if (options.element !== undefined) {\n    this.setElement(options.element);\n  }\n\n  this.setOffset(options.offset !== undefined ? options.offset : [0, 0]);\n\n  this.setPositioning(options.positioning !== undefined ?\n    /** @type {ol.OverlayPositioning} */ (options.positioning) :\n    _ol_OverlayPositioning_.TOP_LEFT);\n\n  if (options.position !== undefined) {\n    this.setPosition(options.position);\n  }\n\n};\n\n_ol_.inherits(_ol_Overlay_, _ol_Object_);\n\n\n/**\n * Get the DOM element of this overlay.\n * @return {Element|undefined} The Element containing the overlay.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.getElement = function() {\n  return (\n    /** @type {Element|undefined} */ this.get(_ol_Overlay_.Property.ELEMENT)\n  );\n};\n\n\n/**\n * Get the overlay identifier which is set on constructor.\n * @return {number|string|undefined} Id.\n * @api\n */\n_ol_Overlay_.prototype.getId = function() {\n  return this.id;\n};\n\n\n/**\n * Get the map associated with this overlay.\n * @return {ol.PluggableMap|undefined} The map that the overlay is part of.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.getMap = function() {\n  return (\n    /** @type {ol.PluggableMap|undefined} */ this.get(_ol_Overlay_.Property.MAP)\n  );\n};\n\n\n/**\n * Get the offset of this overlay.\n * @return {Array.<number>} The offset.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.getOffset = function() {\n  return (\n    /** @type {Array.<number>} */ this.get(_ol_Overlay_.Property.OFFSET)\n  );\n};\n\n\n/**\n * Get the current position of this overlay.\n * @return {ol.Coordinate|undefined} The spatial point that the overlay is\n *     anchored at.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.getPosition = function() {\n  return (\n    /** @type {ol.Coordinate|undefined} */ this.get(_ol_Overlay_.Property.POSITION)\n  );\n};\n\n\n/**\n * Get the current positioning of this overlay.\n * @return {ol.OverlayPositioning} How the overlay is positioned\n *     relative to its point on the map.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.getPositioning = function() {\n  return (\n    /** @type {ol.OverlayPositioning} */ this.get(_ol_Overlay_.Property.POSITIONING)\n  );\n};\n\n\n/**\n * @protected\n */\n_ol_Overlay_.prototype.handleElementChanged = function() {\n  _ol_dom_.removeChildren(this.element);\n  var element = this.getElement();\n  if (element) {\n    this.element.appendChild(element);\n  }\n};\n\n\n/**\n * @protected\n */\n_ol_Overlay_.prototype.handleMapChanged = function() {\n  if (this.mapPostrenderListenerKey) {\n    _ol_dom_.removeNode(this.element);\n    _ol_events_.unlistenByKey(this.mapPostrenderListenerKey);\n    this.mapPostrenderListenerKey = null;\n  }\n  var map = this.getMap();\n  if (map) {\n    this.mapPostrenderListenerKey = _ol_events_.listen(map,\n        _ol_MapEventType_.POSTRENDER, this.render, this);\n    this.updatePixelPosition();\n    var container = this.stopEvent ?\n      map.getOverlayContainerStopEvent() : map.getOverlayContainer();\n    if (this.insertFirst) {\n      container.insertBefore(this.element, container.childNodes[0] || null);\n    } else {\n      container.appendChild(this.element);\n    }\n  }\n};\n\n\n/**\n * @protected\n */\n_ol_Overlay_.prototype.render = function() {\n  this.updatePixelPosition();\n};\n\n\n/**\n * @protected\n */\n_ol_Overlay_.prototype.handleOffsetChanged = function() {\n  this.updatePixelPosition();\n};\n\n\n/**\n * @protected\n */\n_ol_Overlay_.prototype.handlePositionChanged = function() {\n  this.updatePixelPosition();\n  if (this.get(_ol_Overlay_.Property.POSITION) && this.autoPan) {\n    this.panIntoView();\n  }\n};\n\n\n/**\n * @protected\n */\n_ol_Overlay_.prototype.handlePositioningChanged = function() {\n  this.updatePixelPosition();\n};\n\n\n/**\n * Set the DOM element to be associated with this overlay.\n * @param {Element|undefined} element The Element containing the overlay.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.setElement = function(element) {\n  this.set(_ol_Overlay_.Property.ELEMENT, element);\n};\n\n\n/**\n * Set the map to be associated with this overlay.\n * @param {ol.PluggableMap|undefined} map The map that the overlay is part of.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.setMap = function(map) {\n  this.set(_ol_Overlay_.Property.MAP, map);\n};\n\n\n/**\n * Set the offset for this overlay.\n * @param {Array.<number>} offset Offset.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.setOffset = function(offset) {\n  this.set(_ol_Overlay_.Property.OFFSET, offset);\n};\n\n\n/**\n * Set the position for this overlay. If the position is `undefined` the\n * overlay is hidden.\n * @param {ol.Coordinate|undefined} position The spatial point that the overlay\n *     is anchored at.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.setPosition = function(position) {\n  this.set(_ol_Overlay_.Property.POSITION, position);\n};\n\n\n/**\n * Pan the map so that the overlay is entirely visible in the current viewport\n * (if necessary).\n * @protected\n */\n_ol_Overlay_.prototype.panIntoView = function() {\n  var map = this.getMap();\n\n  if (!map || !map.getTargetElement()) {\n    return;\n  }\n\n  var mapRect = this.getRect(map.getTargetElement(), map.getSize());\n  var element = /** @type {!Element} */ (this.getElement());\n  var overlayRect = this.getRect(element,\n      [_ol_dom_.outerWidth(element), _ol_dom_.outerHeight(element)]);\n\n  var margin = this.autoPanMargin;\n  if (!_ol_extent_.containsExtent(mapRect, overlayRect)) {\n    // the overlay is not completely inside the viewport, so pan the map\n    var offsetLeft = overlayRect[0] - mapRect[0];\n    var offsetRight = mapRect[2] - overlayRect[2];\n    var offsetTop = overlayRect[1] - mapRect[1];\n    var offsetBottom = mapRect[3] - overlayRect[3];\n\n    var delta = [0, 0];\n    if (offsetLeft < 0) {\n      // move map to the left\n      delta[0] = offsetLeft - margin;\n    } else if (offsetRight < 0) {\n      // move map to the right\n      delta[0] = Math.abs(offsetRight) + margin;\n    }\n    if (offsetTop < 0) {\n      // move map up\n      delta[1] = offsetTop - margin;\n    } else if (offsetBottom < 0) {\n      // move map down\n      delta[1] = Math.abs(offsetBottom) + margin;\n    }\n\n    if (delta[0] !== 0 || delta[1] !== 0) {\n      var center = /** @type {ol.Coordinate} */ (map.getView().getCenter());\n      var centerPx = map.getPixelFromCoordinate(center);\n      var newCenterPx = [\n        centerPx[0] + delta[0],\n        centerPx[1] + delta[1]\n      ];\n\n      map.getView().animate({\n        center: map.getCoordinateFromPixel(newCenterPx),\n        duration: this.autoPanAnimation.duration,\n        easing: this.autoPanAnimation.easing\n      });\n    }\n  }\n};\n\n\n/**\n * Get the extent of an element relative to the document\n * @param {Element|undefined} element The element.\n * @param {ol.Size|undefined} size The size of the element.\n * @return {ol.Extent} The extent.\n * @protected\n */\n_ol_Overlay_.prototype.getRect = function(element, size) {\n  var box = element.getBoundingClientRect();\n  var offsetX = box.left + window.pageXOffset;\n  var offsetY = box.top + window.pageYOffset;\n  return [\n    offsetX,\n    offsetY,\n    offsetX + size[0],\n    offsetY + size[1]\n  ];\n};\n\n\n/**\n * Set the positioning for this overlay.\n * @param {ol.OverlayPositioning} positioning how the overlay is\n *     positioned relative to its point on the map.\n * @observable\n * @api\n */\n_ol_Overlay_.prototype.setPositioning = function(positioning) {\n  this.set(_ol_Overlay_.Property.POSITIONING, positioning);\n};\n\n\n/**\n * Modify the visibility of the element.\n * @param {boolean} visible Element visibility.\n * @protected\n */\n_ol_Overlay_.prototype.setVisible = function(visible) {\n  if (this.rendered.visible !== visible) {\n    this.element.style.display = visible ? '' : 'none';\n    this.rendered.visible = visible;\n  }\n};\n\n\n/**\n * Update pixel position.\n * @protected\n */\n_ol_Overlay_.prototype.updatePixelPosition = function() {\n  var map = this.getMap();\n  var position = this.getPosition();\n  if (!map || !map.isRendered() || !position) {\n    this.setVisible(false);\n    return;\n  }\n\n  var pixel = map.getPixelFromCoordinate(position);\n  var mapSize = map.getSize();\n  this.updateRenderedPosition(pixel, mapSize);\n};\n\n\n/**\n * @param {ol.Pixel} pixel The pixel location.\n * @param {ol.Size|undefined} mapSize The map size.\n * @protected\n */\n_ol_Overlay_.prototype.updateRenderedPosition = function(pixel, mapSize) {\n  var style = this.element.style;\n  var offset = this.getOffset();\n\n  var positioning = this.getPositioning();\n\n  this.setVisible(true);\n\n  var offsetX = offset[0];\n  var offsetY = offset[1];\n  if (positioning == _ol_OverlayPositioning_.BOTTOM_RIGHT ||\n      positioning == _ol_OverlayPositioning_.CENTER_RIGHT ||\n      positioning == _ol_OverlayPositioning_.TOP_RIGHT) {\n    if (this.rendered.left_ !== '') {\n      this.rendered.left_ = style.left = '';\n    }\n    var right = Math.round(mapSize[0] - pixel[0] - offsetX) + 'px';\n    if (this.rendered.right_ != right) {\n      this.rendered.right_ = style.right = right;\n    }\n  } else {\n    if (this.rendered.right_ !== '') {\n      this.rendered.right_ = style.right = '';\n    }\n    if (positioning == _ol_OverlayPositioning_.BOTTOM_CENTER ||\n        positioning == _ol_OverlayPositioning_.CENTER_CENTER ||\n        positioning == _ol_OverlayPositioning_.TOP_CENTER) {\n      offsetX -= this.element.offsetWidth / 2;\n    }\n    var left = Math.round(pixel[0] + offsetX) + 'px';\n    if (this.rendered.left_ != left) {\n      this.rendered.left_ = style.left = left;\n    }\n  }\n  if (positioning == _ol_OverlayPositioning_.BOTTOM_LEFT ||\n      positioning == _ol_OverlayPositioning_.BOTTOM_CENTER ||\n      positioning == _ol_OverlayPositioning_.BOTTOM_RIGHT) {\n    if (this.rendered.top_ !== '') {\n      this.rendered.top_ = style.top = '';\n    }\n    var bottom = Math.round(mapSize[1] - pixel[1] - offsetY) + 'px';\n    if (this.rendered.bottom_ != bottom) {\n      this.rendered.bottom_ = style.bottom = bottom;\n    }\n  } else {\n    if (this.rendered.bottom_ !== '') {\n      this.rendered.bottom_ = style.bottom = '';\n    }\n    if (positioning == _ol_OverlayPositioning_.CENTER_LEFT ||\n        positioning == _ol_OverlayPositioning_.CENTER_CENTER ||\n        positioning == _ol_OverlayPositioning_.CENTER_RIGHT) {\n      offsetY -= this.element.offsetHeight / 2;\n    }\n    var top = Math.round(pixel[1] + offsetY) + 'px';\n    if (this.rendered.top_ != top) {\n      this.rendered.top_ = style.top = top;\n    }\n  }\n};\n\n\n/**\n * returns the options this Overlay has been created with\n * @public\n * @return {olx.OverlayOptions} overlay options\n */\n_ol_Overlay_.prototype.getOptions = function() {\n  return this.options;\n};\n\n\n/**\n * @enum {string}\n * @protected\n */\n_ol_Overlay_.Property = {\n  ELEMENT: 'element',\n  MAP: 'map',\n  OFFSET: 'offset',\n  POSITION: 'position',\n  POSITIONING: 'positioning'\n};\nexport default _ol_Overlay_;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowPopup.vue?vue&type=style&index=0&id=876b8086&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"OpenLayers\")]),_c('el-breadcrumb-item',[_vm._v(\"地图弹窗\")])],1),_c('el-card',[_c('div',{attrs:{\"id\":\"map\"}},[_c('div',{staticClass:\"ol-popup\",attrs:{\"id\":\"popup\"}},[_c('a',{staticClass:\"ol-popup-closer\",attrs:{\"href\":\"#\",\"id\":\"popup-closer\"}}),_c('div',{staticClass:\"popup-title\",attrs:{\"id\":\"popup-title\"}}),_c('div',{staticClass:\"popup-content\",attrs:{\"id\":\"popup-content\"}})])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--面包屑导航区域-->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>OpenLayers</el-breadcrumb-item>\r\n      <el-breadcrumb-item>地图弹窗</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--卡片区域-->\r\n    <el-card>\r\n      <div id=\"map\">\r\n        <div id=\"popup\" class=\"ol-popup\">\r\n          <a href=\"#\" id=\"popup-closer\" class=\"ol-popup-closer\"></a>\r\n          <div id=\"popup-title\" class=\"popup-title\"></div>\r\n          <div id=\"popup-content\" class=\"popup-content\"></div>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Map from 'ol/map';\r\nimport View from 'ol/view';\r\nimport Overlay from 'ol/overlay';\r\nimport control from 'ol/control';\r\nimport proj from 'ol/proj';\r\nimport coordinate from 'ol/coordinate';\r\nimport {getTdtLayer} from \"../../utils/searchUtils\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      overlay: null\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    this.initMap()\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      let view = new View({\r\n        zoom: 4,\r\n        center: proj.transform([110, 39], \"EPSG:4326\", \"EPSG:3857\")\r\n      });\r\n\r\n      let map = new Map({\r\n        controls: control.defaults({\r\n          attribution: false\r\n        }).extend([]),\r\n        target: \"map\",\r\n        layers: [\r\n          getTdtLayer(\"vec_w\"),\r\n          getTdtLayer(\"cva_w\")\r\n        ],\r\n        view: view\r\n      });\r\n      let closer = document.getElementById('popup-closer');\r\n      let container = document.getElementById('popup');\r\n      let overlay = new Overlay({\r\n        element: container\r\n      });\r\n      this.overlay = overlay\r\n      map.addOverlay(overlay);\r\n      closer.onclick = function () {\r\n        container.style.display = 'none';\r\n        closer.blur();\r\n        return false;\r\n      };\r\n      const that = this\r\n      map.on('click', function (evt) {\r\n        let hdms = coordinate.toStringHDMS(proj.transform(\r\n          evt.coordinate, 'EPSG:4326', 'EPSG:4326'));\r\n        let info = '<p>You clicked here:</p><code>' + hdms + '</code>';\r\n        that.showInfo(evt.coordinate, info);\r\n      });\r\n    },\r\n    showInfo(coordinate, info) {\r\n      let title = document.getElementById('popup-title');\r\n      let content = document.getElementById('popup-content');\r\n      let container = document.getElementById('popup');\r\n      title.innerHTML = \"提示信息\";\r\n      content.innerHTML = info;\r\n      title.style.display = \"block\";\r\n      container.style.display = \"block\";\r\n      this.overlay.setPosition(coordinate);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.ol-popup {\r\n  display: none;\r\n  position: absolute;\r\n  background-color: white;\r\n  -moz-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\r\n  -webkit-filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n  filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\r\n  border: 1px solid #cccccc;\r\n  bottom: 12px;\r\n  left: -100px;\r\n  width: 200px;\r\n}\r\n\r\n.ol-popup:after,\r\n.ol-popup:before {\r\n  top: 100%;\r\n  border: solid transparent;\r\n  content: \" \";\r\n  height: 0;\r\n  width: 0;\r\n  position: absolute;\r\n  pointer-events: none;\r\n}\r\n\r\n.ol-popup:after {\r\n  border-top-color: white;\r\n  border-width: 10px;\r\n  left: 100px;\r\n  margin-left: -10px;\r\n}\r\n\r\n.ol-popup:before {\r\n  border-top-color: #cccccc;\r\n  border-width: 11px;\r\n  left: 100px;\r\n  margin-left: -11px;\r\n}\r\n\r\n.ol-popup .popup-title {\r\n  font-weight: bold;\r\n  border-bottom: 1px solid #cccccc;\r\n  padding: 5px 8px;\r\n}\r\n\r\n.ol-popup .popup-content {\r\n  padding: 5px 8px;\r\n}\r\n\r\n.ol-popup .ol-popup-closer {\r\n  text-decoration: none;\r\n  position: absolute;\r\n  top: 6px;\r\n  right: 6px;\r\n}\r\n\r\n.ol-popup .ol-popup-closer:after {\r\n  content: \"×\";\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShowPopup.vue?vue&type=template&id=876b8086&scoped=true&\"\nimport script from \"./ShowPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./ShowPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShowPopup.vue?vue&type=style&index=0&id=876b8086&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"876b8086\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}