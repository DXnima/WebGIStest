(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0329fc"],{"05b1":function(e,t,i){"use strict";var r=i("9d79"),n=i("9cff"),o=i("9f5e"),a=i("0af5"),s=i("38f3"),c=i("256f"),u=i("40f5"),l={KVP:"KVP",REST:"REST"},d=l,f=i("a8d0"),p=i("c721"),h=function(e){this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style;var t=e.urls;void 0===t&&void 0!==e.url&&(t=n["a"].expandUrl(e.url)),this.requestEncoding_=void 0!==e.requestEncoding?e.requestEncoding:d.KVP;var i=this.requestEncoding_,r=e.tileGrid,o={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};i==d.KVP&&s["a"].assign(o,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});var a=this.dimensions_;this.createFromWMTSTemplate_=function(e){return e=i==d.KVP?p["a"].appendParams(e,o):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in o?o[t.toLowerCase()]:e})),function(t,n,o){if(t){var c={TileMatrix:r.getMatrixId(t[0]),TileCol:t[1],TileRow:-t[2]-1};s["a"].assign(c,a);var u=e;return u=i==d.KVP?p["a"].appendParams(u,c):u.replace(/\{(\w+?)\}/g,(function(e,t){return c[t]})),u}}};var c=t&&t.length>0?n["a"].createFromTileUrlFunctions(t.map(this.createFromWMTSTemplate_)):n["a"].nullTileUrlFunction;u["a"].call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:c,urls:t,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.setKey(this.getKeyForDimensions_())};r["a"].inherits(h,u["a"]),h.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):n["a"].createFromTileUrlFunctions(e.map(this.createFromWMTSTemplate_.bind(this))),t)},h.prototype.getDimensions=function(){return this.dimensions_},h.prototype.getFormat=function(){return this.format_},h.prototype.getLayer=function(){return this.layer_},h.prototype.getMatrixSet=function(){return this.matrixSet_},h.prototype.getRequestEncoding=function(){return this.requestEncoding_},h.prototype.getStyle=function(){return this.style_},h.prototype.getVersion=function(){return this.version_},h.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var i in this.dimensions_)t[e++]=i+"-"+this.dimensions_[i];return t.join("/")},h.prototype.updateDimensions=function(e){s["a"].assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},h.optionsFromCapabilities=function(e,t){var i=e["Contents"]["Layer"],r=o["a"].find(i,(function(e,i,r){return e["Identifier"]==t["layer"]}));if(null===r)return null;var n,s,u,l=e["Contents"]["TileMatrixSet"];n=r["TileMatrixSetLink"].length>1?"projection"in t?o["a"].findIndex(r["TileMatrixSetLink"],(function(e,i,r){var n=o["a"].find(l,(function(t){return t["Identifier"]==e["TileMatrixSet"]})),a=n["SupportedCRS"],s=c["a"].get(a.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||c["a"].get(a),u=c["a"].get(t["projection"]);return s&&u?c["a"].equivalent(s,u):a==t["projection"]})):o["a"].findIndex(r["TileMatrixSetLink"],(function(e,i,r){return e["TileMatrixSet"]==t["matrixSet"]})):0,n<0&&(n=0),s=r["TileMatrixSetLink"][n]["TileMatrixSet"],u=r["TileMatrixSetLink"][n]["TileMatrixSetLimits"];var p=r["Format"][0];"format"in t&&(p=t["format"]),n=o["a"].findIndex(r["Style"],(function(e,i,r){return"style"in t?e["Title"]==t["style"]:e["isDefault"]})),n<0&&(n=0);var h=r["Style"][n]["Identifier"],S={};"Dimension"in r&&r["Dimension"].forEach((function(e,t,i){var r=e["Identifier"],n=e["Default"];void 0===n&&(n=e["Value"][0]),S[r]=n}));var m,g=e["Contents"]["TileMatrixSet"],v=o["a"].find(g,(function(e,t,i){return e["Identifier"]==s})),T=v["SupportedCRS"];if(T&&(m=c["a"].get(T.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||c["a"].get(T)),"projection"in t){var E=c["a"].get(t["projection"]);E&&(m&&!c["a"].equivalent(E,m)||(m=E))}var x,y,M=r["WGS84BoundingBox"];if(void 0!==M){var P=c["a"].get("EPSG:4326").getExtent();y=M[0]==P[0]&&M[2]==P[2],x=c["a"].transformExtent(M,"EPSG:4326",m);var _=m.getExtent();_&&(a["a"].containsExtent(_,x)||(x=void 0))}var w=f["a"].createFromCapabilitiesMatrixSet(v,x,u),b=[],I=t["requestEncoding"];if(I=void 0!==I?I:"","OperationsMetadata"in e&&"GetTile"in e["OperationsMetadata"])for(var G=e["OperationsMetadata"]["GetTile"]["DCP"]["HTTP"]["Get"],R=0,L=G.length;R<L;++R)if(G[R]["Constraint"]){var F=o["a"].find(G[R]["Constraint"],(function(e){return"GetEncoding"==e["name"]})),j=F["AllowedValues"]["Value"];if(""===I&&(I=j[0]),I!==d.KVP)break;o["a"].includes(j,d.KVP)&&b.push(G[R]["href"])}else G[R]["href"]&&(I=d.KVP,b.push(G[R]["href"]));return 0===b.length&&(I=d.REST,r["ResourceURL"].forEach((function(e){"tile"===e["resourceType"]&&(p=e["format"],b.push(e["template"]))}))),{urls:b,layer:t["layer"],matrixSet:s,format:p,projection:m,requestEncoding:I,tileGrid:w,style:h,dimensions:S,wrapX:y,crossOrigin:t["crossOrigin"]}};t["a"]=h},a044:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("GeoServer")]),t("el-breadcrumb-item",[e._v("加载WMTS")])],1),t("el-card",[t("div",{attrs:{id:"map"}})])],1)},n=[],o=(i("fb6a"),i("43df")),a=i("332e"),s=i("4ca6"),c=i("a8d0"),u=i("05b1"),l=i("170b"),d=i("21bc"),f=i("92cf"),p={data:function(){return{projection:null}},created:function(){},mounted:function(){this.initMap()},methods:{initMap:function(){var e=new l["a"]({code:"EPSG:4326",units:"degrees",axisOrientation:"neu"}),t=new a["a"]({zoom:2,center:[-97,38],projection:e});new o["a"]({controls:d["a"].defaults({attribution:!1}).extend([]),target:"map",layers:[Object(f["d"])("vec_w"),Object(f["d"])("cva_w"),this.getTileLayer("topp:states")],view:t});this.projection=e},getTileLayer:function(e){var t="EPSG:4326",i=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18"],r="http://119.91.20.243:28081/geoserver/gwc/service/wmts",n="image/png",o=e,a=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21],l=["VERSION","LAYER","STYLE","TILEMATRIX","TILEMATRIXSET","SERVICE","FORMAT"],d={VERSION:"1.0.0",LAYER:o,TILEMATRIX:i,TILEMATRIXSET:t,SERVICE:"WMTS",FORMAT:n},f=r+"?";for(var p in d)l.indexOf(p.toUpperCase())<0&&(f=f+p+"="+d[p]+"&");f=f.slice(0,-1);var h=new u["a"]({url:f,layer:d["LAYER"],matrixSet:d["TILEMATRIXSET"],format:d["FORMAT"],projection:this.projection,tileGrid:new c["a"]({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:a,matrixIds:d["TILEMATRIX"]}),style:d["STYLE"],wrapX:!0}),S=new s["a"]({source:h});return S}}},h=p,S=i("2877"),m=Object(S["a"])(h,r,n,!1,null,"0bce7076",null);t["default"]=m.exports},a8d0:function(e,t,i){"use strict";var r=i("9d79"),n=i("9f5e"),o=i("256f"),a=i("97ab"),s=function(e){this.matrixIds_=e.matrixIds,a["a"].call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})};r["a"].inherits(s,a["a"]),s.prototype.getMatrixId=function(e){return this.matrixIds_[e]},s.prototype.getMatrixIds=function(){return this.matrixIds_},s.createFromCapabilitiesMatrixSet=function(e,t,i){var r=[],a=[],c=[],u=[],l=[],d=void 0!==i?i:[],f="SupportedCRS",p="TileMatrix",h="Identifier",S="ScaleDenominator",m="TopLeftCorner",g="TileWidth",v="TileHeight",T=e[f],E=o["a"].get(T.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||o["a"].get(T),x=E.getMetersPerUnit(),y="ne"==E.getAxisOrientation().substr(0,2);return e[p].sort((function(e,t){return t[S]-e[S]})),e[p].forEach((function(e,t,i){var o;if(o=!(d.length>0)||n["a"].find(d,(function(t,i,r){return e[h]==t[p]})),o){a.push(e[h]);var s=28e-5*e[S]/x,f=e[g],T=e[v];y?c.push([e[m][1],e[m][0]]):c.push(e[m]),r.push(s),u.push(f==T?f:[f,T]),l.push([e["MatrixWidth"],-e["MatrixHeight"]])}})),new s({extent:t,origins:c,resolutions:r,matrixIds:a,tileSizes:u,sizes:l})},t["a"]=s},c721:function(e,t,i){"use strict";var r={appendParams:function(e,t){var i=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&i.push(e+"="+encodeURIComponent(t[e]))}));var r=i.join("&");return e=e.replace(/[?&]$/,""),e=-1===e.indexOf("?")?e+"?":e+"&",e+r}};t["a"]=r},fb6a:function(e,t,i){"use strict";var r=i("23e7"),n=i("e8b5"),o=i("68ee"),a=i("861d"),s=i("23cb"),c=i("07fa"),u=i("fc6a"),l=i("8418"),d=i("b622"),f=i("1dde"),p=i("f36a"),h=f("slice"),S=d("species"),m=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var i,r,d,f=u(this),h=c(f),v=s(e,h),T=s(void 0===t?h:t,h);if(n(f)&&(i=f.constructor,o(i)&&(i===m||n(i.prototype))?i=void 0:a(i)&&(i=i[S],null===i&&(i=void 0)),i===m||void 0===i))return p(f,v,T);for(r=new(void 0===i?m:i)(g(T-v,0)),d=0;v<T;v++,d++)v in f&&l(r,d,f[v]);return r.length=d,r}})}}]);
//# sourceMappingURL=chunk-2d0329fc.47f84f52.js.map