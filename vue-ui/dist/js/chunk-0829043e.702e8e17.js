(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0829043e"],{a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("e330"),i=r("44ad"),o=r("fc6a"),u=r("a640"),s=n([].join),c=i!=Object,f=u("join",",");a({target:"Array",proto:!0,forced:c||!f},{join:function(e){return s(o(this),void 0===e?",":e)}})},e9c4:function(e,t,r){var a=r("23e7"),n=r("d066"),i=r("2ba4"),o=r("c65b"),u=r("e330"),s=r("d039"),c=r("e8b5"),f=r("1626"),l=r("861d"),d=r("d9b5"),w=r("f36a"),v=r("04f8"),b=n("JSON","stringify"),p=u(/./.exec),m=u("".charAt),g=u("".charCodeAt),h=u("".replace),F=u(1..toString),y=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,j=!v||s((function(){var e=n("Symbol")();return"[null]"!=b([e])||"{}"!=b({a:e})||"{}"!=b(Object(e))})),N=s((function(){return'"\\udf06\\ud834"'!==b("\udf06\ud834")||'"\\udead"'!==b("\udead")})),O=function(e,t){var r=w(arguments),a=t;if((l(t)||void 0!==e)&&!d(e))return c(t)||(t=function(e,t){if(f(a)&&(t=o(a,this,e,t)),!d(t))return t}),r[1]=t,i(b,null,r)},_=function(e,t,r){var a=m(r,t-1),n=m(r,t+1);return p(S,e)&&!p(D,n)||p(D,e)&&!p(S,a)?"\\u"+F(g(e,0),16):e};b&&a({target:"JSON",stat:!0,arity:3,forced:j||N},{stringify:function(e,t,r){var a=w(arguments),n=i(j?O:b,null,a);return N&&"string"==typeof n?h(n,y,_):n}})},f9f3:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("GeoServer")]),t("el-breadcrumb-item",[e._v("WFS")]),t("el-breadcrumb-item",[e._v("WFS查询数据")])],1),t("el-card",[t("div",{attrs:{id:"map"}})])],1)},n=[],i=(r("a15b"),r("d3b7"),r("e9c4"),r("43df")),o=r("332e"),u=r("e671"),s=r("02df"),c=r("169c"),f=r("14c4"),l=r("5b00"),d=r("3e31"),w=r("29ae"),v=r("3110"),b=r("715e"),p=r("92cf"),m={data:function(){return{geoserverData:{wsName:"webgistest",uri:"http://www.openplans.org/webgistest",wfsURL:"http://localhost:28081/geoserver/wfs?",layer:"port"},wfsFilter:null}},created:function(){},mounted:function(){this.initMap()},methods:{initMap:function(){var e=this,t=new s["a"]({format:new c["a"],url:function(t){return e.geoserverData.wfsURL+"service=WFS&version=1.1.0&request=GetFeature&typeName="+e.geoserverData.wsName+":"+e.geoserverData.layer+"&outputFormat=application/json&srsname=EPSG:4326&bbox="+t.join(",")+",EPSG:4326"},strategy:b["a"].bbox}),r=new u["a"]({title:"add WFS",source:t,style:new d["a"]({image:new w["a"]({radius:5,fill:new v["a"]({color:"#389BCD",opacity:.5})})})}),a=new u["a"]({source:new s["a"],style:new d["a"]({image:new w["a"]({radius:5,fill:new v["a"]({color:"#d90000",opacity:.5})})})}),n=[Object(p["d"])("vec_w"),Object(p["d"])("cva_w"),r,a];new i["a"]({target:"map",layers:n,view:new o["a"]({projection:"EPSG:4326",center:[114,31],zoom:4})});this.wfsFilter=a,this.findData()},findData:function(){var e=this,t={srcName:"EPSG:4326",featureNS:this.geoserverData.uri,featurePrefix:this.geoserverData.wsName,featureTypes:[this.geoserverData.layer],outputFormat:"application/json",filter:l["a"].and(l["a"].like("porttype","沿海"),l["a"].equalTo("name","珠海港"))},r=(new f["a"]).writeGetFeature(t);fetch(e.geoserverData.wfsURL,{method:"POST",body:(new XMLSerializer).serializeToString(r)}).then((function(e){return e.json()})).then((function(t){console.log(JSON.stringify(t,null,"\t"));var r=new c["a"]({geometryName:"geom"}).readFeatures(t);e.wfsFilter&&e.wfsFilter.getSource().addFeatures(r)}))}}},g=m,h=r("2877"),F=Object(h["a"])(g,a,n,!1,null,"73da8e9a",null);t["default"]=F.exports}}]);
//# sourceMappingURL=chunk-0829043e.702e8e17.js.map