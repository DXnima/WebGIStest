{"version":3,"sources":["webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/core-js/internals/symbol-registry-detection.js","webpack:///./node_modules/core-js/modules/es.json.to-string-tag.js","webpack:///./node_modules/core-js/internals/error-stack-clear.js","webpack:///./node_modules/ol/interaction/draweventtype.js","webpack:///./node_modules/ol/interaction/draw.js","webpack:///./node_modules/core-js/modules/es.object.set-prototype-of.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/core-js/modules/es.object.proto.js","webpack:///./node_modules/core-js/modules/es.math.to-string-tag.js","webpack:///./node_modules/ol/geom/circle.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/array-slice-simple.js","webpack:///./node_modules/core-js/internals/symbol-define-to-primitive.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-symbols.js","webpack:///./src/components/geoserver/wfs/AllWFS.vue","webpack:///src/components/geoserver/wfs/AllWFS.vue","webpack:///./src/components/geoserver/wfs/AllWFS.vue?879e","webpack:///./src/components/geoserver/wfs/AllWFS.vue?1632","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/ol/interaction/select.js","webpack:///./node_modules/ol/interaction/modifyeventtype.js","webpack:///./node_modules/ol/interaction/modify.js","webpack:///./node_modules/core-js/modules/es.symbol.to-string-tag.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/internals/install-error-cause.js","webpack:///./node_modules/core-js/internals/proxy-accessor.js","webpack:///./node_modules/core-js/modules/es.symbol.for.js","webpack:///./node_modules/core-js/modules/es.symbol.async-iterator.js","webpack:///./node_modules/core-js/internals/error-stack-installable.js","webpack:///./node_modules/core-js/modules/es.symbol.key-for.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.error.cause.js","webpack:///./node_modules/core-js/modules/es.symbol.constructor.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/well-known-symbol-define.js","webpack:///./node_modules/core-js/internals/normalize-string-argument.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack:///./node_modules/core-js/modules/es.json.stringify.js","webpack:///./node_modules/core-js/internals/define-built-in-accessor.js","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["classof","toIndexedObject","$getOwnPropertyNames","f","arraySlice","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","module","exports","NATIVE_SYMBOL","Symbol","keyFor","global","setToStringTag","JSON","uncurryThis","$Error","Error","replace","TEST","arg","String","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","dropEntries","prepareStackTrace","_ol_interaction_DrawEventType_","DRAWSTART","DRAWEND","_ol_interaction_Draw_","options","call","this","handleDownEvent","handleDownEvent_","handleEvent","handleUpEvent","handleUpEvent_","shouldHandle_","downPx_","freehand_","source_","source","features_","features","snapTolerance_","snapTolerance","type_","mode_","getMode_","stopClick_","stopClick","minPoints_","minPoints","Mode_","POLYGON","maxPoints_","maxPoints","Infinity","finishCondition_","finishCondition","TRUE","geometryFunction","CIRCLE","coordinates","opt_geometry","circle","NaN","squaredLength","squaredDistance","setCenterAndRadius","Math","sqrt","Constructor","mode","POINT","LINE_STRING","geometry","length","setCoordinates","concat","geometryFunction_","finishCoordinate_","sketchFeature_","sketchPoint_","sketchCoords_","sketchLine_","sketchLineCoords_","squaredClickTolerance_","clickTolerance","overlay_","useSpatialIndex","wrapX","style","getDefaultStyleFunction","geometryName_","geometryName","condition_","condition","noModifierKeys","freehandCondition_","freehand","always","freehandCondition","shiftKeyOnly","listen","getChangeEventType","ACTIVE","updateState_","inherits","styles","createDefaultEditing","feature","resolution","getGeometry","getType","prototype","setMap","map","event","pass","type","POINTERDRAG","addToDrawing_","POINTERDOWN","POINTERMOVE","handlePointerMove_","DBLCLICK","pixel","startDrawing_","circleMode","finishDrawing","atFinish_","abortDrawing_","stopPropagation","downPx","clickPx","dx","dy","modifyDrawing_","createOrUpdateSketchPoint_","at","potentiallyDone","potentiallyFinishCoordinates","i","ii","finishCoordinate","finishPixel","getPixelFromCoordinate","coordinate","slice","sketchPointGeom","updateSketchFeatures_","start","setGeometryName","setGeometry","dispatchEvent","Event","last","sketchLineGeom","ring","getLinearRing","setFlatCoordinates","getLayout","getFlatCoordinates","done","pop","push","removeLastPoint","splice","sketchFeature","getCoordinates","MULTI_POINT","MULTI_LINE_STRING","MULTI_POLYGON","addFeature","getSource","clear","extend","lineString","shouldStopEvent","FALSE","sketchFeatures","overlaySource","addFeatures","getMap","active","getActive","createRegularPolygon","opt_sides","opt_angle","center","end","radius","fromCircle","angle","atan","makeRegular","createBox","extent","boundingExtent","getBottomLeft","getBottomRight","getTopRight","getTopLeft","$","setPrototypeOf","target","stat","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","info","value","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","DESCRIPTORS","defineBuiltInAccessor","isObject","toObject","requireObjectCoercible","getPrototypeOf","ObjectPrototype","PROTO","configurable","get","set","proto","O","_ol_geom_Circle_","opt_radius","opt_layout","clone","layout","flatCoordinates","closestPointXY","x","y","closestPoint","minSquaredDistance","stride","delta","getRadius","containsXY","getRadiusSquared_","getCenter","computeExtent","createOrUpdate","intersectsExtent","circleExtent","getExtent","intersects","forEachCorner","intersectsCoordinate","setCenter","setLayout","offset","changed","XY","setFlatCoordinatesInternal","setRadius","transform","fails","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","forced","sham","toAbsoluteIndex","lengthOfArrayLike","createProperty","$Array","Array","max","k","fin","result","n","getBuiltIn","wellKnownSymbol","defineBuiltIn","SymbolPrototype","valueOf","TO_PRIMITIVE","hint","arity","getOwnPropertySymbolsModule","FORCED","getOwnPropertySymbols","$getOwnPropertySymbols","render","_vm","_c","_self","attrs","path","_v","on","insertClick","updateClick","deleteClick","endClick","staticRenderFns","data","geoserverData","wsName","uri","wfsURL","layer","select","edit","draw","created","mounted","methods","initMap","format","url","that","strategy","title","getTdtLayer","layers","view","projection","zoom","image","fill","color","sendWFS","ft","id","properties","WFSTSerializer","_this","featureNS","featurePrefix","featureType","srsName","geom","featObject","serializer","featString","headers","res","console","alert","component","isCallable","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","_ol_interaction_Select_","opt_options","singleClick","addCondition_","addCondition","never","removeCondition_","removeCondition","toggleCondition_","toggleCondition","multi_","multi","filter_","filter","hitTolerance_","hitTolerance","layerFilter","featureOverlay","updateWhileAnimating","updateWhileInteracting","featureOverlay_","includes","layerFilter_","featureLayerAssociation_","getFeaturesCollection","ADD","addFeature_","REMOVE","removeFeature_","addFeatureLayerAssociation_","getUid","getFeatures","getHitTolerance","getLayer","mapBrowserEvent","add","remove","toggle","deselected","selected","forEachFeatureAtPixel","bind","getLength","item","index","indexOf","j","getArray","removeFeatureLayerAssociation_","EventType_","SELECT","pointerMove","setHitTolerance","currentMap","selectedFeatures","forEach","unskipFeature","skipFeature","GEOMETRY_COLLECTION","evt","_ol_interaction_ModifyEventType_","MODIFYSTART","MODIFYEND","_ol_interaction_Modify_","handleDragEvent","handleDragEvent_","primaryAction","defaultDeleteCondition_","altKeyOnly","deleteCondition_","deleteCondition","insertVertexCondition_","insertVertexCondition","vertexFeature_","vertexSegments_","lastPixel_","ignoreNextSingleClick_","modified_","rBush_","pixelTolerance_","pixelTolerance","snappedToVertex_","changingFeature_","dragSegments_","SEGMENT_WRITERS_","writePointGeometry_","writeLineStringGeometry_","writePolygonGeometry_","writeMultiPointGeometry_","writeMultiLineStringGeometry_","writeMultiPolygonGeometry_","writeCircleGeometry_","writeGeometryCollectionGeometry_","ADDFEATURE","handleSourceAdd_","REMOVEFEATURE","handleSourceRemove_","handleFeatureAdd_","handleFeatureRemove_","lastPointerEvent_","MODIFY_SEGMENT_CIRCLE_CENTER_INDEX","MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX","isRendered","handlePointerAtPixel_","CHANGE","handleFeatureChange_","willModifyFeatures_","removeFeatureSegmentData_","removeFeature","unlisten","rBush","nodesToRemove","node","setActive","segmentData","segment","insert","points","depth","jj","lines","rings","kk","polygons","centerSegmentData","circumferenceSegmentData","featureSegments","createOrUpdateFromCoordinate","geometries","getGeometriesArray","createOrUpdateVertexFeature_","vertexFeature","compareIndexes_","a","b","pixelCoordinate","getCoordinateFromPixel","insertVertices","vertex","vertexExtent","segmentDataMatches","getInExtent","componentSegments","sort","segmentDataMatch","uid","join","closestVertex","closestOnSegmentData_","equals","insertVertex_","dragSegment","getStride","distance","setGeometryCoordinates_","update","getView","getInteracting","handlingDownUpSequence","handled","SINGLECLICK","removePoint","sortByDistance","pointDistanceToSegmentDataSquared_","box","buffer","getResolution","nodes","closestSegment","vertexPixel","dist","vertexSegments","pixel1","pixel2","squaredDist1","squaredDist2","min","pointCoordinates","circleGeometry","distanceToCenterSquared","distanceToCircumference","squaredDistanceToSegment","getClosestPoint","closestOnSegment","rTree","updateSegmentIndices_","newSegmentData","newSegmentData2","removeVertex_","left","newIndex","right","dragSegments","segmentsByFeature","deleted","segments","forEachInExtent","mapBrowserPointerEvent","defineWellKnownSymbol","IndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","separator","createNonEnumerableProperty","cause","defineProperty","Target","Source","hasOwn","toString","shared","NATIVE_SYMBOL_REGISTRY","StringToSymbolRegistry","SymbolToStringRegistry","string","symbol","createPropertyDescriptor","isSymbol","tryToString","sym","TypeError","_typeof","obj","iterator","_regeneratorRuntime","Op","hasOwnProperty","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","name","mark","__proto__","awrap","async","iter","keys","val","object","reverse","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","exportGlobalErrorCauseWrapper","ERROR_NAME","wrapper","exportWebAssemblyErrorCauseWrapper","init","message","IS_PURE","isPrototypeOf","anObject","toPropertyKey","$toString","nativeObjectCreate","objectKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertyDescriptorModule","definePropertyModule","definePropertiesModule","propertyIsEnumerableModule","sharedKey","hiddenKeys","wrappedWellKnownSymbolModule","defineSymbolToPrimitive","InternalStateModule","$forEach","HIDDEN","SYMBOL","PROTOTYPE","setInternalState","getInternalState","getterFor","QObject","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","WellKnownSymbolsStore","USE_SETTER","findChild","setSymbolDescriptor","P","Attributes","ObjectPrototypeDescriptor","tag","description","$defineProperty","$defineProperties","Properties","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","descriptor","names","IS_OBJECT_PROTOTYPE","setter","unsafe","useSetter","useSimple","defineProperties","getOwnPropertyDescriptor","copyConstructorProperties","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","thisSymbolValue","symbolDescriptiveString","regexp","stringSlice","NAME","argument","$default","proxyAccessor","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","FULL_NAME","IS_AGGREGATE_ERROR","STACK_TRACE_LIMIT","OPTIONS_POSITION","split","OriginalError","OriginalErrorPrototype","BaseError","WrappedError","isArray","$stringify","exec","charCodeAt","numberToString","tester","low","hi","WRONG_SYMBOLS_CONVERSION","ILL_FORMED_UNICODE","stringifyWithSymbolsFix","replacer","$replacer","fixIllFormed","match","stringify","space","makeBuiltIn","getter","isConstructor","arrayMethodHasSpeciesSupport","nativeSlice","HAS_SPECIES_SUPPORT","SPECIES"],"mappings":"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","file":"js/chunk-f74764e4.d457c54c.js","sourcesContent":["/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar classof = require('../internals/classof-raw');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar arraySlice = require('../internals/array-slice-simple');\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return arraySlice(windowNames);\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && classof(it) == 'Window'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","var NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\n/* eslint-disable es/no-symbol -- safe */\nmodule.exports = NATIVE_SYMBOL && !!Symbol['for'] && !!Symbol.keyFor;\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","/**\n * @enum {string}\n */\nvar _ol_interaction_DrawEventType_ = {\n  /**\n   * Triggered upon feature draw start\n   * @event ol.interaction.Draw.Event#drawstart\n   * @api\n   */\n  DRAWSTART: 'drawstart',\n  /**\n   * Triggered upon feature draw end\n   * @event ol.interaction.Draw.Event#drawend\n   * @api\n   */\n  DRAWEND: 'drawend'\n};\n\nexport default _ol_interaction_DrawEventType_;\n","import _ol_ from '../index.js';\nimport _ol_Feature_ from '../feature.js';\nimport _ol_MapBrowserEventType_ from '../mapbrowsereventtype.js';\nimport _ol_Object_ from '../object.js';\nimport _ol_coordinate_ from '../coordinate.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_Event_ from '../events/event.js';\nimport _ol_events_condition_ from '../events/condition.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_functions_ from '../functions.js';\nimport _ol_geom_Circle_ from '../geom/circle.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_geom_LineString_ from '../geom/linestring.js';\nimport _ol_geom_MultiLineString_ from '../geom/multilinestring.js';\nimport _ol_geom_MultiPoint_ from '../geom/multipoint.js';\nimport _ol_geom_MultiPolygon_ from '../geom/multipolygon.js';\nimport _ol_geom_Point_ from '../geom/point.js';\nimport _ol_geom_Polygon_ from '../geom/polygon.js';\nimport _ol_interaction_DrawEventType_ from '../interaction/draweventtype.js';\nimport _ol_interaction_Pointer_ from '../interaction/pointer.js';\nimport _ol_interaction_Property_ from '../interaction/property.js';\nimport _ol_layer_Vector_ from '../layer/vector.js';\nimport _ol_source_Vector_ from '../source/vector.js';\nimport _ol_style_Style_ from '../style/style.js';\n\n/**\n * @classdesc\n * Interaction for drawing feature geometries.\n *\n * @constructor\n * @extends {ol.interaction.Pointer}\n * @fires ol.interaction.Draw.Event\n * @param {olx.interaction.DrawOptions} options Options.\n * @api\n */\nvar _ol_interaction_Draw_ = function(options) {\n\n  _ol_interaction_Pointer_.call(this, {\n    handleDownEvent: _ol_interaction_Draw_.handleDownEvent_,\n    handleEvent: _ol_interaction_Draw_.handleEvent,\n    handleUpEvent: _ol_interaction_Draw_.handleUpEvent_\n  });\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.shouldHandle_ = false;\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.downPx_ = null;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.freehand_ = false;\n\n  /**\n   * Target source for drawn features.\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = options.source ? options.source : null;\n\n  /**\n   * Target collection for drawn features.\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features ? options.features : null;\n\n  /**\n   * Pixel distance for snapping.\n   * @type {number}\n   * @private\n   */\n  this.snapTolerance_ = options.snapTolerance ? options.snapTolerance : 12;\n\n  /**\n   * Geometry type.\n   * @type {ol.geom.GeometryType}\n   * @private\n   */\n  this.type_ = /** @type {ol.geom.GeometryType} */ (options.type);\n\n  /**\n   * Drawing mode (derived from geometry type.\n   * @type {ol.interaction.Draw.Mode_}\n   * @private\n   */\n  this.mode_ = _ol_interaction_Draw_.getMode_(this.type_);\n\n  /**\n   * Stop click, singleclick, and doubleclick events from firing during drawing.\n   * Default is `false`.\n   * @type {boolean}\n   * @private\n   */\n  this.stopClick_ = !!options.stopClick;\n\n  /**\n   * The number of points that must be drawn before a polygon ring or line\n   * string can be finished.  The default is 3 for polygon rings and 2 for\n   * line strings.\n   * @type {number}\n   * @private\n   */\n  this.minPoints_ = options.minPoints ?\n    options.minPoints :\n    (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON ? 3 : 2);\n\n  /**\n   * The number of points that can be drawn before a polygon ring or line string\n   * is finished. The default is no restriction.\n   * @type {number}\n   * @private\n   */\n  this.maxPoints_ = options.maxPoints ? options.maxPoints : Infinity;\n\n  /**\n   * A function to decide if a potential finish coordinate is permissible\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.finishCondition_ = options.finishCondition ? options.finishCondition : _ol_functions_.TRUE;\n\n  var geometryFunction = options.geometryFunction;\n  if (!geometryFunction) {\n    if (this.type_ === _ol_geom_GeometryType_.CIRCLE) {\n      /**\n       * @param {!Array.<ol.Coordinate>} coordinates\n       *     The coordinates.\n       * @param {ol.geom.SimpleGeometry=} opt_geometry Optional geometry.\n       * @return {ol.geom.SimpleGeometry} A geometry.\n       */\n      geometryFunction = function(coordinates, opt_geometry) {\n        var circle = opt_geometry ? /** @type {ol.geom.Circle} */ (opt_geometry) :\n          new _ol_geom_Circle_([NaN, NaN]);\n        var squaredLength = _ol_coordinate_.squaredDistance(\n            coordinates[0], coordinates[1]);\n        circle.setCenterAndRadius(coordinates[0], Math.sqrt(squaredLength));\n        return circle;\n      };\n    } else {\n      var Constructor;\n      var mode = this.mode_;\n      if (mode === _ol_interaction_Draw_.Mode_.POINT) {\n        Constructor = _ol_geom_Point_;\n      } else if (mode === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n        Constructor = _ol_geom_LineString_;\n      } else if (mode === _ol_interaction_Draw_.Mode_.POLYGON) {\n        Constructor = _ol_geom_Polygon_;\n      }\n      /**\n       * @param {!Array.<ol.Coordinate>} coordinates\n       *     The coordinates.\n       * @param {ol.geom.SimpleGeometry=} opt_geometry Optional geometry.\n       * @return {ol.geom.SimpleGeometry} A geometry.\n       */\n      geometryFunction = function(coordinates, opt_geometry) {\n        var geometry = opt_geometry;\n        if (geometry) {\n          if (mode === _ol_interaction_Draw_.Mode_.POLYGON) {\n            if (coordinates[0].length) {\n              // Add a closing coordinate to match the first\n              geometry.setCoordinates([coordinates[0].concat([coordinates[0][0]])]);\n            } else {\n              geometry.setCoordinates([]);\n            }\n          } else {\n            geometry.setCoordinates(coordinates);\n          }\n        } else {\n          geometry = new Constructor(coordinates);\n        }\n        return geometry;\n      };\n    }\n  }\n\n  /**\n   * @type {ol.DrawGeometryFunctionType}\n   * @private\n   */\n  this.geometryFunction_ = geometryFunction;\n\n  /**\n   * Finish coordinate for the feature (first point for polygons, last point for\n   * linestrings).\n   * @type {ol.Coordinate}\n   * @private\n   */\n  this.finishCoordinate_ = null;\n\n  /**\n   * Sketch feature.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchFeature_ = null;\n\n  /**\n   * Sketch point.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchPoint_ = null;\n\n  /**\n   * Sketch coordinates. Used when drawing a line or polygon.\n   * @type {ol.Coordinate|Array.<ol.Coordinate>|Array.<Array.<ol.Coordinate>>}\n   * @private\n   */\n  this.sketchCoords_ = null;\n\n  /**\n   * Sketch line. Used when drawing polygon.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchLine_ = null;\n\n  /**\n   * Sketch line coordinates. Used when drawing a polygon or circle.\n   * @type {Array.<ol.Coordinate>}\n   * @private\n   */\n  this.sketchLineCoords_ = null;\n\n  /**\n   * Squared tolerance for handling up events.  If the squared distance\n   * between a down and up event is greater than this tolerance, up events\n   * will not be handled.\n   * @type {number}\n   * @private\n   */\n  this.squaredClickTolerance_ = options.clickTolerance ?\n    options.clickTolerance * options.clickTolerance : 36;\n\n  /**\n   * Draw overlay where our sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.overlay_ = new _ol_layer_Vector_({\n    source: new _ol_source_Vector_({\n      useSpatialIndex: false,\n      wrapX: options.wrapX ? options.wrapX : false\n    }),\n    style: options.style ? options.style :\n      _ol_interaction_Draw_.getDefaultStyleFunction()\n  });\n\n  /**\n   * Name of the geometry attribute for newly created features.\n   * @type {string|undefined}\n   * @private\n   */\n  this.geometryName_ = options.geometryName;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.condition_ = options.condition ?\n    options.condition : _ol_events_condition_.noModifierKeys;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.freehandCondition_;\n  if (options.freehand) {\n    this.freehandCondition_ = _ol_events_condition_.always;\n  } else {\n    this.freehandCondition_ = options.freehandCondition ?\n      options.freehandCondition : _ol_events_condition_.shiftKeyOnly;\n  }\n\n  _ol_events_.listen(this,\n      _ol_Object_.getChangeEventType(_ol_interaction_Property_.ACTIVE),\n      this.updateState_, this);\n\n};\n\n_ol_.inherits(_ol_interaction_Draw_, _ol_interaction_Pointer_);\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\n_ol_interaction_Draw_.getDefaultStyleFunction = function() {\n  var styles = _ol_style_Style_.createDefaultEditing();\n  return function(feature, resolution) {\n    return styles[feature.getGeometry().getType()];\n  };\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_interaction_Draw_.prototype.setMap = function(map) {\n  _ol_interaction_Pointer_.prototype.setMap.call(this, map);\n  this.updateState_();\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may actually\n * draw or finish the drawing.\n * @param {ol.MapBrowserEvent} event Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ol.interaction.Draw}\n * @api\n */\n_ol_interaction_Draw_.handleEvent = function(event) {\n  this.freehand_ = this.mode_ !== _ol_interaction_Draw_.Mode_.POINT && this.freehandCondition_(event);\n  var pass = true;\n  if (this.freehand_ &&\n      event.type === _ol_MapBrowserEventType_.POINTERDRAG &&\n      this.sketchFeature_ !== null) {\n    this.addToDrawing_(event);\n    pass = false;\n  } else if (this.freehand_ &&\n      event.type === _ol_MapBrowserEventType_.POINTERDOWN) {\n    pass = false;\n  } else if (event.type === _ol_MapBrowserEventType_.POINTERMOVE) {\n    pass = this.handlePointerMove_(event);\n  } else if (event.type === _ol_MapBrowserEventType_.DBLCLICK) {\n    pass = false;\n  }\n  return _ol_interaction_Pointer_.handleEvent.call(this, event) && pass;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Start drag sequence?\n * @this {ol.interaction.Draw}\n * @private\n */\n_ol_interaction_Draw_.handleDownEvent_ = function(event) {\n  this.shouldHandle_ = !this.freehand_;\n\n  if (this.freehand_) {\n    this.downPx_ = event.pixel;\n    if (!this.finishCoordinate_) {\n      this.startDrawing_(event);\n    }\n    return true;\n  } else if (this.condition_(event)) {\n    this.downPx_ = event.pixel;\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Stop drag sequence?\n * @this {ol.interaction.Draw}\n * @private\n */\n_ol_interaction_Draw_.handleUpEvent_ = function(event) {\n  var pass = true;\n\n  this.handlePointerMove_(event);\n\n  var circleMode = this.mode_ === _ol_interaction_Draw_.Mode_.CIRCLE;\n\n  if (this.shouldHandle_) {\n    if (!this.finishCoordinate_) {\n      this.startDrawing_(event);\n      if (this.mode_ === _ol_interaction_Draw_.Mode_.POINT) {\n        this.finishDrawing();\n      }\n    } else if (this.freehand_ || circleMode) {\n      this.finishDrawing();\n    } else if (this.atFinish_(event)) {\n      if (this.finishCondition_(event)) {\n        this.finishDrawing();\n      }\n    } else {\n      this.addToDrawing_(event);\n    }\n    pass = false;\n  } else if (this.freehand_) {\n    this.finishCoordinate_ = null;\n    this.abortDrawing_();\n  }\n  if (!pass && this.stopClick_) {\n    event.stopPropagation();\n  }\n  return pass;\n};\n\n\n/**\n * Handle move events.\n * @param {ol.MapBrowserEvent} event A move event.\n * @return {boolean} Pass the event to other interactions.\n * @private\n */\n_ol_interaction_Draw_.prototype.handlePointerMove_ = function(event) {\n  if (this.downPx_ &&\n      ((!this.freehand_ && this.shouldHandle_) ||\n      (this.freehand_ && !this.shouldHandle_))) {\n    var downPx = this.downPx_;\n    var clickPx = event.pixel;\n    var dx = downPx[0] - clickPx[0];\n    var dy = downPx[1] - clickPx[1];\n    var squaredDistance = dx * dx + dy * dy;\n    this.shouldHandle_ = this.freehand_ ?\n      squaredDistance > this.squaredClickTolerance_ :\n      squaredDistance <= this.squaredClickTolerance_;\n  }\n\n  if (this.finishCoordinate_) {\n    this.modifyDrawing_(event);\n  } else {\n    this.createOrUpdateSketchPoint_(event);\n  }\n  return true;\n};\n\n\n/**\n * Determine if an event is within the snapping tolerance of the start coord.\n * @param {ol.MapBrowserEvent} event Event.\n * @return {boolean} The event is within the snapping tolerance of the start.\n * @private\n */\n_ol_interaction_Draw_.prototype.atFinish_ = function(event) {\n  var at = false;\n  if (this.sketchFeature_) {\n    var potentiallyDone = false;\n    var potentiallyFinishCoordinates = [this.finishCoordinate_];\n    if (this.mode_ === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n      potentiallyDone = this.sketchCoords_.length > this.minPoints_;\n    } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n      potentiallyDone = this.sketchCoords_[0].length >\n          this.minPoints_;\n      potentiallyFinishCoordinates = [this.sketchCoords_[0][0],\n        this.sketchCoords_[0][this.sketchCoords_[0].length - 2]];\n    }\n    if (potentiallyDone) {\n      var map = event.map;\n      for (var i = 0, ii = potentiallyFinishCoordinates.length; i < ii; i++) {\n        var finishCoordinate = potentiallyFinishCoordinates[i];\n        var finishPixel = map.getPixelFromCoordinate(finishCoordinate);\n        var pixel = event.pixel;\n        var dx = pixel[0] - finishPixel[0];\n        var dy = pixel[1] - finishPixel[1];\n        var snapTolerance = this.freehand_ ? 1 : this.snapTolerance_;\n        at = Math.sqrt(dx * dx + dy * dy) <= snapTolerance;\n        if (at) {\n          this.finishCoordinate_ = finishCoordinate;\n          break;\n        }\n      }\n    }\n  }\n  return at;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\n_ol_interaction_Draw_.prototype.createOrUpdateSketchPoint_ = function(event) {\n  var coordinates = event.coordinate.slice();\n  if (!this.sketchPoint_) {\n    this.sketchPoint_ = new _ol_Feature_(new _ol_geom_Point_(coordinates));\n    this.updateSketchFeatures_();\n  } else {\n    var sketchPointGeom = /** @type {ol.geom.Point} */ (this.sketchPoint_.getGeometry());\n    sketchPointGeom.setCoordinates(coordinates);\n  }\n};\n\n\n/**\n * Start the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\n_ol_interaction_Draw_.prototype.startDrawing_ = function(event) {\n  var start = event.coordinate;\n  this.finishCoordinate_ = start;\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.POINT) {\n    this.sketchCoords_ = start.slice();\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    this.sketchCoords_ = [[start.slice(), start.slice()]];\n    this.sketchLineCoords_ = this.sketchCoords_[0];\n  } else {\n    this.sketchCoords_ = [start.slice(), start.slice()];\n    if (this.mode_ === _ol_interaction_Draw_.Mode_.CIRCLE) {\n      this.sketchLineCoords_ = this.sketchCoords_;\n    }\n  }\n  if (this.sketchLineCoords_) {\n    this.sketchLine_ = new _ol_Feature_(\n        new _ol_geom_LineString_(this.sketchLineCoords_));\n  }\n  var geometry = this.geometryFunction_(this.sketchCoords_);\n  this.sketchFeature_ = new _ol_Feature_();\n  if (this.geometryName_) {\n    this.sketchFeature_.setGeometryName(this.geometryName_);\n  }\n  this.sketchFeature_.setGeometry(geometry);\n  this.updateSketchFeatures_();\n  this.dispatchEvent(new _ol_interaction_Draw_.Event(\n      _ol_interaction_DrawEventType_.DRAWSTART, this.sketchFeature_));\n};\n\n\n/**\n * Modify the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\n_ol_interaction_Draw_.prototype.modifyDrawing_ = function(event) {\n  var coordinate = event.coordinate;\n  var geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  var coordinates, last;\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.POINT) {\n    last = this.sketchCoords_;\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    last = coordinates[coordinates.length - 1];\n    if (this.atFinish_(event)) {\n      // snap to finish\n      coordinate = this.finishCoordinate_.slice();\n    }\n  } else {\n    coordinates = this.sketchCoords_;\n    last = coordinates[coordinates.length - 1];\n  }\n  last[0] = coordinate[0];\n  last[1] = coordinate[1];\n  this.geometryFunction_(/** @type {!Array.<ol.Coordinate>} */ (this.sketchCoords_), geometry);\n  if (this.sketchPoint_) {\n    var sketchPointGeom = /** @type {ol.geom.Point} */ (this.sketchPoint_.getGeometry());\n    sketchPointGeom.setCoordinates(coordinate);\n  }\n  var sketchLineGeom;\n  if (geometry instanceof _ol_geom_Polygon_ &&\n      this.mode_ !== _ol_interaction_Draw_.Mode_.POLYGON) {\n    if (!this.sketchLine_) {\n      this.sketchLine_ = new _ol_Feature_(new _ol_geom_LineString_(null));\n    }\n    var ring = geometry.getLinearRing(0);\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setFlatCoordinates(\n        ring.getLayout(), ring.getFlatCoordinates());\n  } else if (this.sketchLineCoords_) {\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setCoordinates(this.sketchLineCoords_);\n  }\n  this.updateSketchFeatures_();\n};\n\n\n/**\n * Add a new coordinate to the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\n_ol_interaction_Draw_.prototype.addToDrawing_ = function(event) {\n  var coordinate = event.coordinate;\n  var geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  var done;\n  var coordinates;\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n    this.finishCoordinate_ = coordinate.slice();\n    coordinates = this.sketchCoords_;\n    if (coordinates.length >= this.maxPoints_) {\n      if (this.freehand_) {\n        coordinates.pop();\n      } else {\n        done = true;\n      }\n    }\n    coordinates.push(coordinate.slice());\n    this.geometryFunction_(coordinates, geometry);\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    if (coordinates.length >= this.maxPoints_) {\n      if (this.freehand_) {\n        coordinates.pop();\n      } else {\n        done = true;\n      }\n    }\n    coordinates.push(coordinate.slice());\n    if (done) {\n      this.finishCoordinate_ = coordinates[0];\n    }\n    this.geometryFunction_(this.sketchCoords_, geometry);\n  }\n  this.updateSketchFeatures_();\n  if (done) {\n    this.finishDrawing();\n  }\n};\n\n\n/**\n * Remove last point of the feature currently being drawn.\n * @api\n */\n_ol_interaction_Draw_.prototype.removeLastPoint = function() {\n  if (!this.sketchFeature_) {\n    return;\n  }\n  var geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  var coordinates, sketchLineGeom;\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n    coordinates = this.sketchCoords_;\n    coordinates.splice(-2, 1);\n    this.geometryFunction_(coordinates, geometry);\n    if (coordinates.length >= 2) {\n      this.finishCoordinate_ = coordinates[coordinates.length - 2].slice();\n    }\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    coordinates.splice(-2, 1);\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setCoordinates(coordinates);\n    this.geometryFunction_(this.sketchCoords_, geometry);\n  }\n\n  if (coordinates.length === 0) {\n    this.finishCoordinate_ = null;\n  }\n\n  this.updateSketchFeatures_();\n};\n\n\n/**\n * Stop drawing and add the sketch feature to the target layer.\n * The {@link ol.interaction.DrawEventType.DRAWEND} event is dispatched before\n * inserting the feature.\n * @api\n */\n_ol_interaction_Draw_.prototype.finishDrawing = function() {\n  var sketchFeature = this.abortDrawing_();\n  var coordinates = this.sketchCoords_;\n  var geometry = /** @type {ol.geom.SimpleGeometry} */ (sketchFeature.getGeometry());\n  if (this.mode_ === _ol_interaction_Draw_.Mode_.LINE_STRING) {\n    // remove the redundant last point\n    coordinates.pop();\n    this.geometryFunction_(coordinates, geometry);\n  } else if (this.mode_ === _ol_interaction_Draw_.Mode_.POLYGON) {\n    // remove the redundant last point in ring\n    coordinates[0].pop();\n    this.geometryFunction_(coordinates, geometry);\n    coordinates = geometry.getCoordinates();\n  }\n\n  // cast multi-part geometries\n  if (this.type_ === _ol_geom_GeometryType_.MULTI_POINT) {\n    sketchFeature.setGeometry(new _ol_geom_MultiPoint_([coordinates]));\n  } else if (this.type_ === _ol_geom_GeometryType_.MULTI_LINE_STRING) {\n    sketchFeature.setGeometry(new _ol_geom_MultiLineString_([coordinates]));\n  } else if (this.type_ === _ol_geom_GeometryType_.MULTI_POLYGON) {\n    sketchFeature.setGeometry(new _ol_geom_MultiPolygon_([coordinates]));\n  }\n\n  // First dispatch event to allow full set up of feature\n  this.dispatchEvent(new _ol_interaction_Draw_.Event(\n      _ol_interaction_DrawEventType_.DRAWEND, sketchFeature));\n\n  // Then insert feature\n  if (this.features_) {\n    this.features_.push(sketchFeature);\n  }\n  if (this.source_) {\n    this.source_.addFeature(sketchFeature);\n  }\n};\n\n\n/**\n * Stop drawing without adding the sketch feature to the target layer.\n * @return {ol.Feature} The sketch feature (or null if none).\n * @private\n */\n_ol_interaction_Draw_.prototype.abortDrawing_ = function() {\n  this.finishCoordinate_ = null;\n  var sketchFeature = this.sketchFeature_;\n  if (sketchFeature) {\n    this.sketchFeature_ = null;\n    this.sketchPoint_ = null;\n    this.sketchLine_ = null;\n    this.overlay_.getSource().clear(true);\n  }\n  return sketchFeature;\n};\n\n\n/**\n * Extend an existing geometry by adding additional points. This only works\n * on features with `LineString` geometries, where the interaction will\n * extend lines by adding points to the end of the coordinates array.\n * @param {!ol.Feature} feature Feature to be extended.\n * @api\n */\n_ol_interaction_Draw_.prototype.extend = function(feature) {\n  var geometry = feature.getGeometry();\n  var lineString = /** @type {ol.geom.LineString} */ (geometry);\n  this.sketchFeature_ = feature;\n  this.sketchCoords_ = lineString.getCoordinates();\n  var last = this.sketchCoords_[this.sketchCoords_.length - 1];\n  this.finishCoordinate_ = last.slice();\n  this.sketchCoords_.push(last.slice());\n  this.updateSketchFeatures_();\n  this.dispatchEvent(new _ol_interaction_Draw_.Event(\n      _ol_interaction_DrawEventType_.DRAWSTART, this.sketchFeature_));\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_interaction_Draw_.prototype.shouldStopEvent = _ol_functions_.FALSE;\n\n\n/**\n * Redraw the sketch features.\n * @private\n */\n_ol_interaction_Draw_.prototype.updateSketchFeatures_ = function() {\n  var sketchFeatures = [];\n  if (this.sketchFeature_) {\n    sketchFeatures.push(this.sketchFeature_);\n  }\n  if (this.sketchLine_) {\n    sketchFeatures.push(this.sketchLine_);\n  }\n  if (this.sketchPoint_) {\n    sketchFeatures.push(this.sketchPoint_);\n  }\n  var overlaySource = this.overlay_.getSource();\n  overlaySource.clear(true);\n  overlaySource.addFeatures(sketchFeatures);\n};\n\n\n/**\n * @private\n */\n_ol_interaction_Draw_.prototype.updateState_ = function() {\n  var map = this.getMap();\n  var active = this.getActive();\n  if (!map || !active) {\n    this.abortDrawing_();\n  }\n  this.overlay_.setMap(active ? map : null);\n};\n\n\n/**\n * Create a `geometryFunction` for `type: 'Circle'` that will create a regular\n * polygon with a user specified number of sides and start angle instead of an\n * `ol.geom.Circle` geometry.\n * @param {number=} opt_sides Number of sides of the regular polygon. Default is\n *     32.\n * @param {number=} opt_angle Angle of the first point in radians. 0 means East.\n *     Default is the angle defined by the heading from the center of the\n *     regular polygon to the current pointer position.\n * @return {ol.DrawGeometryFunctionType} Function that draws a\n *     polygon.\n * @api\n */\n_ol_interaction_Draw_.createRegularPolygon = function(opt_sides, opt_angle) {\n  return (\n    /**\n         * @param {ol.Coordinate|Array.<ol.Coordinate>|Array.<Array.<ol.Coordinate>>} coordinates\n         * @param {ol.geom.SimpleGeometry=} opt_geometry\n         * @return {ol.geom.SimpleGeometry}\n         */\n    function(coordinates, opt_geometry) {\n      var center = coordinates[0];\n      var end = coordinates[1];\n      var radius = Math.sqrt(\n          _ol_coordinate_.squaredDistance(center, end));\n      var geometry = opt_geometry ? /** @type {ol.geom.Polygon} */ (opt_geometry) :\n        _ol_geom_Polygon_.fromCircle(new _ol_geom_Circle_(center), opt_sides);\n      var angle = opt_angle ? opt_angle :\n        Math.atan((end[1] - center[1]) / (end[0] - center[0]));\n      _ol_geom_Polygon_.makeRegular(geometry, center, radius, angle);\n      return geometry;\n    }\n  );\n};\n\n\n/**\n * Create a `geometryFunction` that will create a box-shaped polygon (aligned\n * with the coordinate system axes).  Use this with the draw interaction and\n * `type: 'Circle'` to return a box instead of a circle geometry.\n * @return {ol.DrawGeometryFunctionType} Function that draws a box-shaped polygon.\n * @api\n */\n_ol_interaction_Draw_.createBox = function() {\n  return (\n    /**\n     * @param {Array.<ol.Coordinate>} coordinates\n     * @param {ol.geom.SimpleGeometry=} opt_geometry\n     * @return {ol.geom.SimpleGeometry}\n     */\n    function(coordinates, opt_geometry) {\n      var extent = _ol_extent_.boundingExtent(coordinates);\n      var geometry = opt_geometry || new _ol_geom_Polygon_(null);\n      geometry.setCoordinates([[\n        _ol_extent_.getBottomLeft(extent),\n        _ol_extent_.getBottomRight(extent),\n        _ol_extent_.getTopRight(extent),\n        _ol_extent_.getTopLeft(extent),\n        _ol_extent_.getBottomLeft(extent)\n      ]]);\n      return geometry;\n    }\n  );\n};\n\n\n/**\n * Get the drawing mode.  The mode for mult-part geometries is the same as for\n * their single-part cousins.\n * @param {ol.geom.GeometryType} type Geometry type.\n * @return {ol.interaction.Draw.Mode_} Drawing mode.\n * @private\n */\n_ol_interaction_Draw_.getMode_ = function(type) {\n  var mode;\n  if (type === _ol_geom_GeometryType_.POINT ||\n      type === _ol_geom_GeometryType_.MULTI_POINT) {\n    mode = _ol_interaction_Draw_.Mode_.POINT;\n  } else if (type === _ol_geom_GeometryType_.LINE_STRING ||\n      type === _ol_geom_GeometryType_.MULTI_LINE_STRING) {\n    mode = _ol_interaction_Draw_.Mode_.LINE_STRING;\n  } else if (type === _ol_geom_GeometryType_.POLYGON ||\n      type === _ol_geom_GeometryType_.MULTI_POLYGON) {\n    mode = _ol_interaction_Draw_.Mode_.POLYGON;\n  } else if (type === _ol_geom_GeometryType_.CIRCLE) {\n    mode = _ol_interaction_Draw_.Mode_.CIRCLE;\n  }\n  return /** @type {!ol.interaction.Draw.Mode_} */ (mode);\n};\n\n\n/**\n * Draw mode.  This collapses multi-part geometry types with their single-part\n * cousins.\n * @enum {string}\n * @private\n */\n_ol_interaction_Draw_.Mode_ = {\n  POINT: 'Point',\n  LINE_STRING: 'LineString',\n  POLYGON: 'Polygon',\n  CIRCLE: 'Circle'\n};\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Draw} instances are instances of\n * this type.\n *\n * @constructor\n * @extends {ol.events.Event}\n * @implements {oli.DrawEvent}\n * @param {ol.interaction.DrawEventType} type Type.\n * @param {ol.Feature} feature The feature drawn.\n */\n_ol_interaction_Draw_.Event = function(type, feature) {\n\n  _ol_events_Event_.call(this, type);\n\n  /**\n   * The feature being drawn.\n   * @type {ol.Feature}\n   * @api\n   */\n  this.feature = feature;\n\n};\n_ol_.inherits(_ol_interaction_Draw_.Event, _ol_events_Event_);\nexport default _ol_interaction_Draw_;\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nvar getPrototypeOf = Object.getPrototypeOf;\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nvar setPrototypeOf = Object.setPrototypeOf;\nvar ObjectPrototype = Object.prototype;\nvar PROTO = '__proto__';\n\n// `Object.prototype.__proto__` accessor\n// https://tc39.es/ecma262/#sec-object.prototype.__proto__\nif (DESCRIPTORS && getPrototypeOf && setPrototypeOf && !(PROTO in ObjectPrototype)) try {\n  defineBuiltInAccessor(ObjectPrototype, PROTO, {\n    configurable: true,\n    get: function __proto__() {\n      return getPrototypeOf(toObject(this));\n    },\n    set: function __proto__(proto) {\n      var O = requireObjectCoercible(this);\n      if (!isObject(proto) && proto !== null || !isObject(O)) return;\n      setPrototypeOf(O, proto);\n    }\n  });\n} catch (error) { /* empty */ }\n","var setToStringTag = require('../internals/set-to-string-tag');\n\n// Math[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-math-@@tostringtag\nsetToStringTag(Math, 'Math', true);\n","import _ol_ from '../index.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_geom_GeometryLayout_ from '../geom/geometrylayout.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_geom_SimpleGeometry_ from '../geom/simplegeometry.js';\nimport _ol_geom_flat_deflate_ from '../geom/flat/deflate.js';\n\n/**\n * @classdesc\n * Circle geometry.\n *\n * @constructor\n * @extends {ol.geom.SimpleGeometry}\n * @param {ol.Coordinate} center Center.\n * @param {number=} opt_radius Radius.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\nvar _ol_geom_Circle_ = function(center, opt_radius, opt_layout) {\n  _ol_geom_SimpleGeometry_.call(this);\n  var radius = opt_radius ? opt_radius : 0;\n  this.setCenterAndRadius(center, radius, opt_layout);\n};\n\n_ol_.inherits(_ol_geom_Circle_, _ol_geom_SimpleGeometry_);\n\n\n/**\n * Make a complete copy of the geometry.\n * @return {!ol.geom.Circle} Clone.\n * @override\n * @api\n */\n_ol_geom_Circle_.prototype.clone = function() {\n  var circle = new _ol_geom_Circle_(null);\n  circle.setFlatCoordinates(this.layout, this.flatCoordinates.slice());\n  return circle;\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.closestPointXY = function(x, y, closestPoint, minSquaredDistance) {\n  var flatCoordinates = this.flatCoordinates;\n  var dx = x - flatCoordinates[0];\n  var dy = y - flatCoordinates[1];\n  var squaredDistance = dx * dx + dy * dy;\n  if (squaredDistance < minSquaredDistance) {\n    var i;\n    if (squaredDistance === 0) {\n      for (i = 0; i < this.stride; ++i) {\n        closestPoint[i] = flatCoordinates[i];\n      }\n    } else {\n      var delta = this.getRadius() / Math.sqrt(squaredDistance);\n      closestPoint[0] = flatCoordinates[0] + delta * dx;\n      closestPoint[1] = flatCoordinates[1] + delta * dy;\n      for (i = 2; i < this.stride; ++i) {\n        closestPoint[i] = flatCoordinates[i];\n      }\n    }\n    closestPoint.length = this.stride;\n    return squaredDistance;\n  } else {\n    return minSquaredDistance;\n  }\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.containsXY = function(x, y) {\n  var flatCoordinates = this.flatCoordinates;\n  var dx = x - flatCoordinates[0];\n  var dy = y - flatCoordinates[1];\n  return dx * dx + dy * dy <= this.getRadiusSquared_();\n};\n\n\n/**\n * Return the center of the circle as {@link ol.Coordinate coordinate}.\n * @return {ol.Coordinate} Center.\n * @api\n */\n_ol_geom_Circle_.prototype.getCenter = function() {\n  return this.flatCoordinates.slice(0, this.stride);\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.computeExtent = function(extent) {\n  var flatCoordinates = this.flatCoordinates;\n  var radius = flatCoordinates[this.stride] - flatCoordinates[0];\n  return _ol_extent_.createOrUpdate(\n      flatCoordinates[0] - radius, flatCoordinates[1] - radius,\n      flatCoordinates[0] + radius, flatCoordinates[1] + radius,\n      extent);\n};\n\n\n/**\n * Return the radius of the circle.\n * @return {number} Radius.\n * @api\n */\n_ol_geom_Circle_.prototype.getRadius = function() {\n  return Math.sqrt(this.getRadiusSquared_());\n};\n\n\n/**\n * @private\n * @return {number} Radius squared.\n */\n_ol_geom_Circle_.prototype.getRadiusSquared_ = function() {\n  var dx = this.flatCoordinates[this.stride] - this.flatCoordinates[0];\n  var dy = this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1];\n  return dx * dx + dy * dy;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_geom_Circle_.prototype.getType = function() {\n  return _ol_geom_GeometryType_.CIRCLE;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_geom_Circle_.prototype.intersectsExtent = function(extent) {\n  var circleExtent = this.getExtent();\n  if (_ol_extent_.intersects(extent, circleExtent)) {\n    var center = this.getCenter();\n\n    if (extent[0] <= center[0] && extent[2] >= center[0]) {\n      return true;\n    }\n    if (extent[1] <= center[1] && extent[3] >= center[1]) {\n      return true;\n    }\n\n    return _ol_extent_.forEachCorner(extent, this.intersectsCoordinate, this);\n  }\n  return false;\n\n};\n\n\n/**\n * Set the center of the circle as {@link ol.Coordinate coordinate}.\n * @param {ol.Coordinate} center Center.\n * @api\n */\n_ol_geom_Circle_.prototype.setCenter = function(center) {\n  var stride = this.stride;\n  var radius = this.flatCoordinates[stride] - this.flatCoordinates[0];\n  var flatCoordinates = center.slice();\n  flatCoordinates[stride] = flatCoordinates[0] + radius;\n  var i;\n  for (i = 1; i < stride; ++i) {\n    flatCoordinates[stride + i] = center[i];\n  }\n  this.setFlatCoordinates(this.layout, flatCoordinates);\n};\n\n\n/**\n * Set the center (as {@link ol.Coordinate coordinate}) and the radius (as\n * number) of the circle.\n * @param {ol.Coordinate} center Center.\n * @param {number} radius Radius.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\n_ol_geom_Circle_.prototype.setCenterAndRadius = function(center, radius, opt_layout) {\n  if (!center) {\n    this.setFlatCoordinates(_ol_geom_GeometryLayout_.XY, null);\n  } else {\n    this.setLayout(opt_layout, center, 0);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    /** @type {Array.<number>} */\n    var flatCoordinates = this.flatCoordinates;\n    var offset = _ol_geom_flat_deflate_.coordinate(\n        flatCoordinates, 0, center, this.stride);\n    flatCoordinates[offset++] = flatCoordinates[0] + radius;\n    var i, ii;\n    for (i = 1, ii = this.stride; i < ii; ++i) {\n      flatCoordinates[offset++] = flatCoordinates[i];\n    }\n    flatCoordinates.length = offset;\n    this.changed();\n  }\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.getCoordinates = function() {};\n\n\n/**\n * @inheritDoc\n */\n_ol_geom_Circle_.prototype.setCoordinates = function(coordinates, opt_layout) {};\n\n\n/**\n * @param {ol.geom.GeometryLayout} layout Layout.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n */\n_ol_geom_Circle_.prototype.setFlatCoordinates = function(layout, flatCoordinates) {\n  this.setFlatCoordinatesInternal(layout, flatCoordinates);\n  this.changed();\n};\n\n\n/**\n * Set the radius of the circle. The radius is in the units of the projection.\n * @param {number} radius Radius.\n * @api\n */\n_ol_geom_Circle_.prototype.setRadius = function(radius) {\n  this.flatCoordinates[this.stride] = this.flatCoordinates[0] + radius;\n  this.changed();\n};\n\n\n/**\n * Transform each coordinate of the circle from one coordinate reference system\n * to another. The geometry is modified in place.\n * If you do not want the geometry modified in place, first clone() it and\n * then use this function on the clone.\n *\n * Internally a circle is currently represented by two points: the center of\n * the circle `[cx, cy]`, and the point to the right of the circle\n * `[cx + r, cy]`. This `transform` function just transforms these two points.\n * So the resulting geometry is also a circle, and that circle does not\n * correspond to the shape that would be obtained by transforming every point\n * of the original circle.\n *\n * @param {ol.ProjectionLike} source The current projection.  Can be a\n *     string identifier or a {@link ol.proj.Projection} object.\n * @param {ol.ProjectionLike} destination The desired projection.  Can be a\n *     string identifier or a {@link ol.proj.Projection} object.\n * @return {ol.geom.Circle} This geometry.  Note that original geometry is\n *     modified in place.\n * @function\n * @api\n */\n_ol_geom_Circle_.prototype.transform;\nexport default _ol_geom_Circle_;\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\n\nvar $Array = Array;\nvar max = Math.max;\n\nmodule.exports = function (O, start, end) {\n  var length = lengthOfArrayLike(O);\n  var k = toAbsoluteIndex(start, length);\n  var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n  var result = $Array(max(fin - k, 0));\n  for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);\n  result.length = n;\n  return result;\n};\n","var call = require('../internals/function-call');\nvar getBuiltIn = require('../internals/get-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function () {\n  var Symbol = getBuiltIn('Symbol');\n  var SymbolPrototype = Symbol && Symbol.prototype;\n  var valueOf = SymbolPrototype && SymbolPrototype.valueOf;\n  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n  if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {\n    // `Symbol.prototype[@@toPrimitive]` method\n    // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\n    // eslint-disable-next-line no-unused-vars -- required for .length\n    defineBuiltIn(SymbolPrototype, TO_PRIMITIVE, function (hint) {\n      return call(valueOf, this);\n    }, { arity: 1 });\n  }\n};\n","var $ = require('../internals/export');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar fails = require('../internals/fails');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar toObject = require('../internals/to-object');\n\n// V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FORCED = !NATIVE_SYMBOL || fails(function () { getOwnPropertySymbolsModule.f(1); });\n\n// `Object.getOwnPropertySymbols` method\n// https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n$({ target: 'Object', stat: true, forced: FORCED }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    var $getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n    return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject(it)) : [];\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"GeoServer\")]),_c('el-breadcrumb-item',[_vm._v(\"WFS\")]),_c('el-breadcrumb-item',[_vm._v(\"WFS综合操作\")])],1),_c('el-card',[_c('button',{attrs:{\"id\":\"insert\"},on:{\"click\":_vm.insertClick}},[_vm._v(\"添加\")]),_c('button',{attrs:{\"id\":\"update\"},on:{\"click\":_vm.updateClick}},[_vm._v(\"修改\")]),_c('button',{attrs:{\"id\":\"delete\"},on:{\"click\":_vm.deleteClick}},[_vm._v(\"删除\")]),_c('button',{attrs:{\"id\":\"end\"},on:{\"click\":_vm.endClick}},[_vm._v(\"结束操作\")]),_c('div',{attrs:{\"id\":\"map\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!--面包屑导航区域-->\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>GeoServer</el-breadcrumb-item>\r\n            <el-breadcrumb-item>WFS</el-breadcrumb-item>\r\n            <el-breadcrumb-item>WFS综合操作</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <!--卡片区域-->\r\n        <el-card>\r\n            <button id=\"insert\" @click=\"insertClick\">添加</button>\r\n            <button id=\"update\" @click=\"updateClick\">修改</button>\r\n            <button id=\"delete\" @click=\"deleteClick\">删除</button>\r\n            <button id=\"end\" @click=\"endClick\">结束操作</button>\r\n            <div id=\"map\"></div>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Map from 'ol/map';\r\nimport View from 'ol/view';\r\nimport Point from 'ol/geom/point';\r\nimport VectorLayer from 'ol/layer/vector';\r\nimport Vector from 'ol/source/vector';\r\nimport GeoJSON from 'ol/format/geojson';\r\nimport WFS from 'ol/format/wfs';\r\nimport Draw from 'ol/interaction/draw';\r\nimport Select from 'ol/interaction/select';\r\nimport Modify from 'ol/interaction/modify';\r\nimport Style from 'ol/style/style';\r\nimport Circle from 'ol/style/circle';\r\nimport Fill from 'ol/style/fill';\r\nimport loadingstrategy from 'ol/loadingstrategy';\r\nimport {getTdtLayer} from \"../../../utils/searchUtils\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            // 服务配置，命名空间、图层、服务地址等\r\n            geoserverData: {\r\n                wsName: 'webgistest',\r\n                uri: 'http://www.openplans.org/webgistest',\r\n                wfsURL: 'http://localhost:28081/geoserver/wfs?',\r\n                layer: 'port'\r\n            },\r\n            select: null,\r\n            edit: null,\r\n            draw: null\r\n        }\r\n    },\r\n    created() {\r\n    },\r\n    mounted() {\r\n        this.initMap()\r\n    },\r\n    methods: {\r\n        initMap() {\r\n            const that = this\r\n            //测试数据 添加WFS数据  添加所有\r\n            var wfsSource = new Vector({\r\n                format: new GeoJSON(),\r\n                url: function (extent) {\r\n                    return (\r\n                        that.geoserverData.wfsURL + 'service=WFS&version=1.1.0&request=GetFeature&typeName=' +\r\n                        that.geoserverData.wsName + \":\" +\r\n                        that.geoserverData.layer + '&' + 'outputFormat=application/json&srsname=EPSG:4326&bbox=' +\r\n                        extent.join(',') + ',EPSG:4326');\r\n                },\r\n                strategy: loadingstrategy.bbox\r\n            });\r\n\r\n            let wfsLayer = new VectorLayer({\r\n                title: 'add Layer',\r\n                source: wfsSource\r\n            })\r\n\r\n            var layers = [\r\n              getTdtLayer(\"vec_w\"),\r\n              getTdtLayer(\"cva_w\"), wfsLayer\r\n            ];\r\n\r\n            var map = new Map({\r\n                target: 'map',\r\n                layers: layers,\r\n                view: new View({\r\n                    projection: \"EPSG:4326\",\r\n                    center: [114, 31],\r\n                    zoom: 4\r\n                })\r\n            });\r\n\r\n            map.on('pointermove', function (evt) {\r\n                if (map.hasFeatureAtPixel(evt.pixel)) {\r\n                    map.getTargetElement().style.cursor = \"pointer\"\r\n                } else {\r\n                    map.getTargetElement().style.cursor = \"default\"\r\n                }\r\n            });\r\n\r\n            let select = new Select({\r\n                layers: [wfsLayer],\r\n                style: new Style({\r\n                    image: new Circle({\r\n                        radius: 8,\r\n                        fill: new Fill({\r\n                            color: \"#f00\"\r\n                        })\r\n                    })\r\n                })\r\n            });\r\n\r\n            let edit = new Modify({\r\n                features: select.getFeatures()\r\n            });\r\n\r\n            var draw = new Draw({\r\n                source: new Vector({\r\n                    features: []\r\n                }),\r\n                type: 'Point',\r\n                freehand: false,//自由手绘,\r\n                stopClick: true\r\n            });\r\n\r\n            map.addInteraction(select);\r\n            map.addInteraction(edit);\r\n            map.addInteraction(draw);\r\n            edit.setActive(false);\r\n            draw.setActive(false);\r\n            select.setActive(false);\r\n\r\n            draw.on(\"drawend\", function (e) {\r\n                var feature = e.feature;\r\n                that.sendWFS(feature, \"insert\");\r\n            });\r\n            select.on(\"select\", function (e) {\r\n                var features = e.selected;\r\n                if (features.length > 0) {\r\n                    let feature = features[0];\r\n                    if (!edit.getActive()) {\r\n                        that.sendWFS(feature, \"delete\");\r\n                    }\r\n                }\r\n            });\r\n\r\n            edit.on(\"modifyend\", function (e) {\r\n                // 把修改完成的feature暂存起来\r\n                var features = e.features;\r\n                var feature = features.item(0);\r\n                that.sendWFS(feature, \"update\");\r\n            });\r\n            this.select = select\r\n            this.edit = edit\r\n            this.draw = draw\r\n        },\r\n        insertClick() {\r\n            this.select.setActive(false)\r\n            this.edit.setActive(false)\r\n            this.draw.setActive(true);\r\n        },\r\n        updateClick() {\r\n            this.draw.setActive(false)\r\n            this.edit.setActive(true);\r\n            this.select.setActive(true);\r\n        },\r\n        deleteClick() {\r\n            this.draw.setActive(false)\r\n            this.edit.setActive(false)\r\n            this.select.setActive(true);\r\n        },\r\n        endClick() {\r\n            this.draw.setActive(false)\r\n            this.select.setActive(false)\r\n            this.edit.setActive(false)\r\n        },\r\n        async sendWFS(feature, type) {\r\n            //发送WFS 请求 ，type 分别为insert update delect\r\n            // 1、构造Feature\r\n            let ft = feature.clone()\r\n            // 更新操作必须要有id\r\n            let id = feature.getId()\r\n            let properties = ft.getProperties()\r\n            var featObject;\r\n            var WFSTSerializer = new WFS();\r\n            var _this = this.geoserverData;\r\n            let options = {\r\n                featureNS: _this.uri,\r\n                featurePrefix: _this.wsName, //工作空间名称\r\n                featureType: _this.layer, //图层名称\r\n                srsName: 'EPSG:4326'\r\n            };\r\n            if (type === \"insert\") {\r\n                properties.address = \"测试要素添加\"\r\n                properties.name = \"添加\"\r\n                properties.porttype = \"wnm添加\"\r\n                properties.province = \"wnm添加\"\r\n                let coordinates = ft.getGeometry().getCoordinates()\r\n                properties.lng = coordinates[0]\r\n                properties.lat = coordinates[1]\r\n                ft.setProperties(properties)\r\n\r\n                let geom = ft.getGeometry()\r\n                geom.applyTransform((flatCoordinates, flatCoordinates2, stride) => {\r\n                    for (var j = 0; j < flatCoordinates.length; j += stride) {\r\n                        var y = flatCoordinates[j]\r\n                        var x = flatCoordinates[j + 1]\r\n                        flatCoordinates[j] = x\r\n                        flatCoordinates[j + 1] = y\r\n                    }\r\n                })\r\n                ft.setGeometryName('geom') // postgis字段为geom、shp字段名为the_geom\r\n                ft.setGeometry(geom)\r\n\r\n                featObject = WFSTSerializer.writeTransaction([ft], null, null, options);\r\n            } else if (type === \"update\") {\r\n                ft.setId(id)\r\n                properties.address = \"测试要素修改\"\r\n                properties.name = \"修改\"\r\n\r\n                let coordinates = ft.getGeometry().getCoordinates()\r\n                properties.lng = coordinates[0]\r\n                properties.lat = coordinates[1]\r\n                ft.setProperties(properties)\r\n\r\n                ft.getGeometry().applyTransform((flatCoordinates, flatCoordinates2, stride) => {\r\n                    for (var j = 0; j < flatCoordinates.length; j += stride) {\r\n                        var y = flatCoordinates[j]\r\n                        var x = flatCoordinates[j + 1]\r\n                        flatCoordinates[j] = x\r\n                        flatCoordinates[j + 1] = y\r\n                    }\r\n                })\r\n                ft.setGeometryName('geom')// postgis字段为geom、shp字段名为the_geom\r\n\r\n                featObject = WFSTSerializer.writeTransaction(null, [ft], null, options);\r\n            } else if (type === \"delete\") {\r\n                ft.setId(id)\r\n                featObject = WFSTSerializer.writeTransaction(null, null, [ft], options);\r\n            }\r\n            var serializer = new XMLSerializer();\r\n            var featString = serializer.serializeToString(featObject);\r\n            const { data: res } = await this.$http.post(this.geoserverData.wfsURL,\r\n                featString,\r\n                {\r\n                    headers: {\r\n                        //根据接扣文档需要加的请求头\r\n                        \"Content-Type\": \"application/xml\"\r\n                    }\r\n                })\r\n            if (res.indexOf(\"Exception\") != -1) {\r\n                console.log(res);\r\n                alert(\"添加失败！\" + res)\r\n            }\r\n            else {\r\n                alert(\"添加成功！\")\r\n                window.location.reload();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllWFS.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AllWFS.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AllWFS.vue?vue&type=template&id=42700142&scoped=true&\"\nimport script from \"./AllWFS.vue?vue&type=script&lang=js&\"\nexport * from \"./AllWFS.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42700142\",\n  null\n  \n)\n\nexport default component.exports","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","import _ol_ from '../index.js';\nimport _ol_CollectionEventType_ from '../collectioneventtype.js';\nimport _ol_array_ from '../array.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_Event_ from '../events/event.js';\nimport _ol_events_condition_ from '../events/condition.js';\nimport _ol_functions_ from '../functions.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_interaction_Interaction_ from '../interaction/interaction.js';\nimport _ol_layer_Vector_ from '../layer/vector.js';\nimport _ol_obj_ from '../obj.js';\nimport _ol_source_Vector_ from '../source/vector.js';\nimport _ol_style_Style_ from '../style/style.js';\n\n/**\n * @classdesc\n * Interaction for selecting vector features. By default, selected features are\n * styled differently, so this interaction can be used for visual highlighting,\n * as well as selecting features for other actions, such as modification or\n * output. There are three ways of controlling which features are selected:\n * using the browser event as defined by the `condition` and optionally the\n * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n * further feature filter using the `filter` option.\n *\n * Selected features are added to an internal unmanaged layer.\n *\n * @constructor\n * @extends {ol.interaction.Interaction}\n * @param {olx.interaction.SelectOptions=} opt_options Options.\n * @fires ol.interaction.Select.Event\n * @api\n */\nvar _ol_interaction_Select_ = function(opt_options) {\n\n  _ol_interaction_Interaction_.call(this, {\n    handleEvent: _ol_interaction_Select_.handleEvent\n  });\n\n  var options = opt_options ? opt_options : {};\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.condition_ = options.condition ?\n    options.condition : _ol_events_condition_.singleClick;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.addCondition_ = options.addCondition ?\n    options.addCondition : _ol_events_condition_.never;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.removeCondition_ = options.removeCondition ?\n    options.removeCondition : _ol_events_condition_.never;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.toggleCondition_ = options.toggleCondition ?\n    options.toggleCondition : _ol_events_condition_.shiftKeyOnly;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.multi_ = options.multi ? options.multi : false;\n\n  /**\n   * @private\n   * @type {ol.SelectFilterFunction}\n   */\n  this.filter_ = options.filter ? options.filter :\n    _ol_functions_.TRUE;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n  var featureOverlay = new _ol_layer_Vector_({\n    source: new _ol_source_Vector_({\n      useSpatialIndex: false,\n      features: options.features,\n      wrapX: options.wrapX\n    }),\n    style: options.style ? options.style :\n      _ol_interaction_Select_.getDefaultStyleFunction(),\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n   * @private\n   * @type {ol.layer.Vector}\n   */\n  this.featureOverlay_ = featureOverlay;\n\n  /** @type {function(ol.layer.Layer): boolean} */\n  var layerFilter;\n  if (options.layers) {\n    if (typeof options.layers === 'function') {\n      layerFilter = options.layers;\n    } else {\n      var layers = options.layers;\n      layerFilter = function(layer) {\n        return _ol_array_.includes(layers, layer);\n      };\n    }\n  } else {\n    layerFilter = _ol_functions_.TRUE;\n  }\n\n  /**\n   * @private\n   * @type {function(ol.layer.Layer): boolean}\n   */\n  this.layerFilter_ = layerFilter;\n\n  /**\n   * An association between selected feature (key)\n   * and layer (value)\n   * @private\n   * @type {Object.<number, ol.layer.Layer>}\n   */\n  this.featureLayerAssociation_ = {};\n\n  var features = this.featureOverlay_.getSource().getFeaturesCollection();\n  _ol_events_.listen(features, _ol_CollectionEventType_.ADD,\n      this.addFeature_, this);\n  _ol_events_.listen(features, _ol_CollectionEventType_.REMOVE,\n      this.removeFeature_, this);\n\n};\n\n_ol_.inherits(_ol_interaction_Select_, _ol_interaction_Interaction_);\n\n\n/**\n * @param {ol.Feature|ol.render.Feature} feature Feature.\n * @param {ol.layer.Layer} layer Layer.\n * @private\n */\n_ol_interaction_Select_.prototype.addFeatureLayerAssociation_ = function(feature, layer) {\n  var key = _ol_.getUid(feature);\n  this.featureLayerAssociation_[key] = layer;\n};\n\n\n/**\n * Get the selected features.\n * @return {ol.Collection.<ol.Feature>} Features collection.\n * @api\n */\n_ol_interaction_Select_.prototype.getFeatures = function() {\n  return this.featureOverlay_.getSource().getFeaturesCollection();\n};\n\n\n/**\n * Returns the Hit-detection tolerance.\n * @returns {number} Hit tolerance in pixels.\n * @api\n */\n_ol_interaction_Select_.prototype.getHitTolerance = function() {\n  return this.hitTolerance_;\n};\n\n\n/**\n * Returns the associated {@link ol.layer.Vector vectorlayer} of\n * the (last) selected feature. Note that this will not work with any\n * programmatic method like pushing features to\n * {@link ol.interaction.Select#getFeatures collection}.\n * @param {ol.Feature|ol.render.Feature} feature Feature\n * @return {ol.layer.Vector} Layer.\n * @api\n */\n_ol_interaction_Select_.prototype.getLayer = function(feature) {\n  var key = _ol_.getUid(feature);\n  return /** @type {ol.layer.Vector} */ (this.featureLayerAssociation_[key]);\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may change the\n * selected state of features.\n * @param {ol.MapBrowserEvent} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ol.interaction.Select}\n * @api\n */\n_ol_interaction_Select_.handleEvent = function(mapBrowserEvent) {\n  if (!this.condition_(mapBrowserEvent)) {\n    return true;\n  }\n  var add = this.addCondition_(mapBrowserEvent);\n  var remove = this.removeCondition_(mapBrowserEvent);\n  var toggle = this.toggleCondition_(mapBrowserEvent);\n  var set = !add && !remove && !toggle;\n  var map = mapBrowserEvent.map;\n  var features = this.featureOverlay_.getSource().getFeaturesCollection();\n  var deselected = [];\n  var selected = [];\n  if (set) {\n    // Replace the currently selected feature(s) with the feature(s) at the\n    // pixel, or clear the selected feature(s) if there is no feature at\n    // the pixel.\n    _ol_obj_.clear(this.featureLayerAssociation_);\n    map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        (\n          /**\n           * @param {ol.Feature|ol.render.Feature} feature Feature.\n           * @param {ol.layer.Layer} layer Layer.\n           * @return {boolean|undefined} Continue to iterate over the features.\n           */\n          function(feature, layer) {\n            if (this.filter_(feature, layer)) {\n              selected.push(feature);\n              this.addFeatureLayerAssociation_(feature, layer);\n              return !this.multi_;\n            }\n          }).bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n    var i;\n    for (i = features.getLength() - 1; i >= 0; --i) {\n      var feature = features.item(i);\n      var index = selected.indexOf(feature);\n      if (index > -1) {\n        // feature is already selected\n        selected.splice(index, 1);\n      } else {\n        features.remove(feature);\n        deselected.push(feature);\n      }\n    }\n    if (selected.length !== 0) {\n      features.extend(selected);\n    }\n  } else {\n    // Modify the currently selected feature(s).\n    map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        (\n          /**\n           * @param {ol.Feature|ol.render.Feature} feature Feature.\n           * @param {ol.layer.Layer} layer Layer.\n           * @return {boolean|undefined} Continue to iterate over the features.\n           */\n          function(feature, layer) {\n            if (this.filter_(feature, layer)) {\n              if ((add || toggle) &&\n                !_ol_array_.includes(features.getArray(), feature)) {\n                selected.push(feature);\n                this.addFeatureLayerAssociation_(feature, layer);\n              } else if ((remove || toggle) &&\n                _ol_array_.includes(features.getArray(), feature)) {\n                deselected.push(feature);\n                this.removeFeatureLayerAssociation_(feature);\n              }\n              return !this.multi_;\n            }\n          }).bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n    var j;\n    for (j = deselected.length - 1; j >= 0; --j) {\n      features.remove(deselected[j]);\n    }\n    features.extend(selected);\n  }\n  if (selected.length > 0 || deselected.length > 0) {\n    this.dispatchEvent(\n        new _ol_interaction_Select_.Event(_ol_interaction_Select_.EventType_.SELECT,\n            selected, deselected, mapBrowserEvent));\n  }\n  return _ol_events_condition_.pointerMove(mapBrowserEvent);\n};\n\n\n/**\n * Hit-detection tolerance. Pixels inside the radius around the given position\n * will be checked for features. This only works for the canvas renderer and\n * not for WebGL.\n * @param {number} hitTolerance Hit tolerance in pixels.\n * @api\n */\n_ol_interaction_Select_.prototype.setHitTolerance = function(hitTolerance) {\n  this.hitTolerance_ = hitTolerance;\n};\n\n\n/**\n * Remove the interaction from its current map, if any,  and attach it to a new\n * map, if any. Pass `null` to just remove the interaction from the current map.\n * @param {ol.PluggableMap} map Map.\n * @override\n * @api\n */\n_ol_interaction_Select_.prototype.setMap = function(map) {\n  var currentMap = this.getMap();\n  var selectedFeatures =\n      this.featureOverlay_.getSource().getFeaturesCollection();\n  if (currentMap) {\n    selectedFeatures.forEach(currentMap.unskipFeature, currentMap);\n  }\n  _ol_interaction_Interaction_.prototype.setMap.call(this, map);\n  this.featureOverlay_.setMap(map);\n  if (map) {\n    selectedFeatures.forEach(map.skipFeature, map);\n  }\n};\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\n_ol_interaction_Select_.getDefaultStyleFunction = function() {\n  var styles = _ol_style_Style_.createDefaultEditing();\n  _ol_array_.extend(styles[_ol_geom_GeometryType_.POLYGON],\n      styles[_ol_geom_GeometryType_.LINE_STRING]);\n  _ol_array_.extend(styles[_ol_geom_GeometryType_.GEOMETRY_COLLECTION],\n      styles[_ol_geom_GeometryType_.LINE_STRING]);\n\n  return function(feature, resolution) {\n    if (!feature.getGeometry()) {\n      return null;\n    }\n    return styles[feature.getGeometry().getType()];\n  };\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\n_ol_interaction_Select_.prototype.addFeature_ = function(evt) {\n  var map = this.getMap();\n  if (map) {\n    map.skipFeature(/** @type {ol.Feature} */ (evt.element));\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\n_ol_interaction_Select_.prototype.removeFeature_ = function(evt) {\n  var map = this.getMap();\n  if (map) {\n    map.unskipFeature(/** @type {ol.Feature} */ (evt.element));\n  }\n};\n\n\n/**\n * @param {ol.Feature|ol.render.Feature} feature Feature.\n * @private\n */\n_ol_interaction_Select_.prototype.removeFeatureLayerAssociation_ = function(feature) {\n  var key = _ol_.getUid(feature);\n  delete this.featureLayerAssociation_[key];\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Select} instances are instances of\n * this type.\n *\n * @param {ol.interaction.Select.EventType_} type The event type.\n * @param {Array.<ol.Feature>} selected Selected features.\n * @param {Array.<ol.Feature>} deselected Deselected features.\n * @param {ol.MapBrowserEvent} mapBrowserEvent Associated\n *     {@link ol.MapBrowserEvent}.\n * @implements {oli.SelectEvent}\n * @extends {ol.events.Event}\n * @constructor\n */\n_ol_interaction_Select_.Event = function(type, selected, deselected, mapBrowserEvent) {\n  _ol_events_Event_.call(this, type);\n\n  /**\n   * Selected features array.\n   * @type {Array.<ol.Feature>}\n   * @api\n   */\n  this.selected = selected;\n\n  /**\n   * Deselected features array.\n   * @type {Array.<ol.Feature>}\n   * @api\n   */\n  this.deselected = deselected;\n\n  /**\n   * Associated {@link ol.MapBrowserEvent}.\n   * @type {ol.MapBrowserEvent}\n   * @api\n   */\n  this.mapBrowserEvent = mapBrowserEvent;\n};\n_ol_.inherits(_ol_interaction_Select_.Event, _ol_events_Event_);\n\n\n/**\n * @enum {string}\n * @private\n */\n_ol_interaction_Select_.EventType_ = {\n  /**\n   * Triggered when feature(s) has been (de)selected.\n   * @event ol.interaction.Select.Event#select\n   * @api\n   */\n  SELECT: 'select'\n};\nexport default _ol_interaction_Select_;\n","/**\n * @enum {string}\n */\nvar _ol_interaction_ModifyEventType_ = {\n  /**\n   * Triggered upon feature modification start\n   * @event ol.interaction.Modify.Event#modifystart\n   * @api\n   */\n  MODIFYSTART: 'modifystart',\n  /**\n   * Triggered upon feature modification end\n   * @event ol.interaction.Modify.Event#modifyend\n   * @api\n   */\n  MODIFYEND: 'modifyend'\n};\n\nexport default _ol_interaction_ModifyEventType_;\n","import _ol_ from '../index.js';\nimport _ol_Collection_ from '../collection.js';\nimport _ol_CollectionEventType_ from '../collectioneventtype.js';\nimport _ol_Feature_ from '../feature.js';\nimport _ol_MapBrowserEventType_ from '../mapbrowsereventtype.js';\nimport _ol_MapBrowserPointerEvent_ from '../mapbrowserpointerevent.js';\nimport _ol_array_ from '../array.js';\nimport _ol_coordinate_ from '../coordinate.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_Event_ from '../events/event.js';\nimport _ol_events_EventType_ from '../events/eventtype.js';\nimport _ol_events_condition_ from '../events/condition.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_geom_GeometryType_ from '../geom/geometrytype.js';\nimport _ol_geom_Point_ from '../geom/point.js';\nimport _ol_interaction_ModifyEventType_ from '../interaction/modifyeventtype.js';\nimport _ol_interaction_Pointer_ from '../interaction/pointer.js';\nimport _ol_layer_Vector_ from '../layer/vector.js';\nimport _ol_source_Vector_ from '../source/vector.js';\nimport _ol_source_VectorEventType_ from '../source/vectoreventtype.js';\nimport _ol_structs_RBush_ from '../structs/rbush.js';\nimport _ol_style_Style_ from '../style/style.js';\n\n/**\n * @classdesc\n * Interaction for modifying feature geometries.  To modify features that have\n * been added to an existing source, construct the modify interaction with the\n * `source` option.  If you want to modify features in a collection (for example,\n * the collection used by a select interaction), construct the interaction with\n * the `features` option.  The interaction must be constructed with either a\n * `source` or `features` option.\n *\n * By default, the interaction will allow deletion of vertices when the `alt`\n * key is pressed.  To configure the interaction with a different condition\n * for deletion, use the `deleteCondition` option.\n *\n * @constructor\n * @extends {ol.interaction.Pointer}\n * @param {olx.interaction.ModifyOptions} options Options.\n * @fires ol.interaction.Modify.Event\n * @api\n */\nvar _ol_interaction_Modify_ = function(options) {\n\n  _ol_interaction_Pointer_.call(this, {\n    handleDownEvent: _ol_interaction_Modify_.handleDownEvent_,\n    handleDragEvent: _ol_interaction_Modify_.handleDragEvent_,\n    handleEvent: _ol_interaction_Modify_.handleEvent,\n    handleUpEvent: _ol_interaction_Modify_.handleUpEvent_\n  });\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.condition_ = options.condition ?\n    options.condition : _ol_events_condition_.primaryAction;\n\n\n  /**\n   * @private\n   * @param {ol.MapBrowserEvent} mapBrowserEvent Browser event.\n   * @return {boolean} Combined condition result.\n   */\n  this.defaultDeleteCondition_ = function(mapBrowserEvent) {\n    return _ol_events_condition_.altKeyOnly(mapBrowserEvent) &&\n      _ol_events_condition_.singleClick(mapBrowserEvent);\n  };\n\n  /**\n   * @type {ol.EventsConditionType}\n   * @private\n   */\n  this.deleteCondition_ = options.deleteCondition ?\n    options.deleteCondition : this.defaultDeleteCondition_;\n\n  /**\n   * @type {ol.EventsConditionType}\n   * @private\n   */\n  this.insertVertexCondition_ = options.insertVertexCondition ?\n    options.insertVertexCondition : _ol_events_condition_.always;\n\n  /**\n   * Editing vertex.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.vertexFeature_ = null;\n\n  /**\n   * Segments intersecting {@link this.vertexFeature_} by segment uid.\n   * @type {Object.<string, boolean>}\n   * @private\n   */\n  this.vertexSegments_ = null;\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.lastPixel_ = [0, 0];\n\n  /**\n   * Tracks if the next `singleclick` event should be ignored to prevent\n   * accidental deletion right after vertex creation.\n   * @type {boolean}\n   * @private\n   */\n  this.ignoreNextSingleClick_ = false;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.modified_ = false;\n\n  /**\n   * Segment RTree for each layer\n   * @type {ol.structs.RBush.<ol.ModifySegmentDataType>}\n   * @private\n   */\n  this.rBush_ = new _ol_structs_RBush_();\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n    options.pixelTolerance : 10;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.snappedToVertex_ = false;\n\n  /**\n   * Indicate whether the interaction is currently changing a feature's\n   * coordinates.\n   * @type {boolean}\n   * @private\n   */\n  this.changingFeature_ = false;\n\n  /**\n   * @type {Array}\n   * @private\n   */\n  this.dragSegments_ = [];\n\n  /**\n   * Draw overlay where sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.overlay_ = new _ol_layer_Vector_({\n    source: new _ol_source_Vector_({\n      useSpatialIndex: false,\n      wrapX: !!options.wrapX\n    }),\n    style: options.style ? options.style :\n      _ol_interaction_Modify_.getDefaultStyleFunction(),\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n  * @const\n  * @private\n  * @type {Object.<string, function(ol.Feature, ol.geom.Geometry)>}\n  */\n  this.SEGMENT_WRITERS_ = {\n    'Point': this.writePointGeometry_,\n    'LineString': this.writeLineStringGeometry_,\n    'LinearRing': this.writeLineStringGeometry_,\n    'Polygon': this.writePolygonGeometry_,\n    'MultiPoint': this.writeMultiPointGeometry_,\n    'MultiLineString': this.writeMultiLineStringGeometry_,\n    'MultiPolygon': this.writeMultiPolygonGeometry_,\n    'Circle': this.writeCircleGeometry_,\n    'GeometryCollection': this.writeGeometryCollectionGeometry_\n  };\n\n\n  /**\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = null;\n\n  var features;\n  if (options.source) {\n    this.source_ = options.source;\n    features = new _ol_Collection_(this.source_.getFeatures());\n    _ol_events_.listen(this.source_, _ol_source_VectorEventType_.ADDFEATURE,\n        this.handleSourceAdd_, this);\n    _ol_events_.listen(this.source_, _ol_source_VectorEventType_.REMOVEFEATURE,\n        this.handleSourceRemove_, this);\n  } else {\n    features = options.features;\n  }\n  if (!features) {\n    throw new Error('The modify interaction requires features or a source');\n  }\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = features;\n\n  this.features_.forEach(this.addFeature_, this);\n  _ol_events_.listen(this.features_, _ol_CollectionEventType_.ADD,\n      this.handleFeatureAdd_, this);\n  _ol_events_.listen(this.features_, _ol_CollectionEventType_.REMOVE,\n      this.handleFeatureRemove_, this);\n\n  /**\n   * @type {ol.MapBrowserPointerEvent}\n   * @private\n   */\n  this.lastPointerEvent_ = null;\n\n};\n\n_ol_.inherits(_ol_interaction_Modify_, _ol_interaction_Pointer_);\n\n\n/**\n * @define {number} The segment index assigned to a circle's center when\n * breaking up a cicrle into ModifySegmentDataType segments.\n */\n_ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX = 0;\n\n/**\n * @define {number} The segment index assigned to a circle's circumference when\n * breaking up a circle into ModifySegmentDataType segments.\n */\n_ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX = 1;\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\n_ol_interaction_Modify_.prototype.addFeature_ = function(feature) {\n  var geometry = feature.getGeometry();\n  if (geometry && geometry.getType() in this.SEGMENT_WRITERS_) {\n    this.SEGMENT_WRITERS_[geometry.getType()].call(this, feature, geometry);\n  }\n  var map = this.getMap();\n  if (map && map.isRendered() && this.getActive()) {\n    this.handlePointerAtPixel_(this.lastPixel_, map);\n  }\n  _ol_events_.listen(feature, _ol_events_EventType_.CHANGE,\n      this.handleFeatureChange_, this);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Map browser event\n * @private\n */\n_ol_interaction_Modify_.prototype.willModifyFeatures_ = function(evt) {\n  if (!this.modified_) {\n    this.modified_ = true;\n    this.dispatchEvent(new _ol_interaction_Modify_.Event(\n        _ol_interaction_ModifyEventType_.MODIFYSTART, this.features_, evt));\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\n_ol_interaction_Modify_.prototype.removeFeature_ = function(feature) {\n  this.removeFeatureSegmentData_(feature);\n  // Remove the vertex feature if the collection of canditate features\n  // is empty.\n  if (this.vertexFeature_ && this.features_.getLength() === 0) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n  _ol_events_.unlisten(feature, _ol_events_EventType_.CHANGE,\n      this.handleFeatureChange_, this);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\n_ol_interaction_Modify_.prototype.removeFeatureSegmentData_ = function(feature) {\n  var rBush = this.rBush_;\n  var /** @type {Array.<ol.ModifySegmentDataType>} */ nodesToRemove = [];\n  rBush.forEach(\n      /**\n       * @param {ol.ModifySegmentDataType} node RTree node.\n       */\n      function(node) {\n        if (feature === node.feature) {\n          nodesToRemove.push(node);\n        }\n      });\n  for (var i = nodesToRemove.length - 1; i >= 0; --i) {\n    rBush.remove(nodesToRemove[i]);\n  }\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_interaction_Modify_.prototype.setActive = function(active) {\n  if (this.vertexFeature_ && !active) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n  _ol_interaction_Pointer_.prototype.setActive.call(this, active);\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_interaction_Modify_.prototype.setMap = function(map) {\n  this.overlay_.setMap(map);\n  _ol_interaction_Pointer_.prototype.setMap.call(this, map);\n};\n\n\n/**\n * @param {ol.source.Vector.Event} event Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleSourceAdd_ = function(event) {\n  if (event.feature) {\n    this.features_.push(event.feature);\n  }\n};\n\n\n/**\n * @param {ol.source.Vector.Event} event Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleSourceRemove_ = function(event) {\n  if (event.feature) {\n    this.features_.remove(event.feature);\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleFeatureAdd_ = function(evt) {\n  this.addFeature_(/** @type {ol.Feature} */ (evt.element));\n};\n\n\n/**\n * @param {ol.events.Event} evt Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleFeatureChange_ = function(evt) {\n  if (!this.changingFeature_) {\n    var feature = /** @type {ol.Feature} */ (evt.target);\n    this.removeFeature_(feature);\n    this.addFeature_(feature);\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handleFeatureRemove_ = function(evt) {\n  var feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature_(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Point} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writePointGeometry_ = function(feature, geometry) {\n  var coordinates = geometry.getCoordinates();\n  var segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    segment: [coordinates, coordinates]\n  });\n  this.rBush_.insert(geometry.getExtent(), segmentData);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiPoint} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeMultiPointGeometry_ = function(feature, geometry) {\n  var points = geometry.getCoordinates();\n  var coordinates, i, ii, segmentData;\n  for (i = 0, ii = points.length; i < ii; ++i) {\n    coordinates = points[i];\n    segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n      feature: feature,\n      geometry: geometry,\n      depth: [i],\n      index: i,\n      segment: [coordinates, coordinates]\n    });\n    this.rBush_.insert(geometry.getExtent(), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.LineString} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeLineStringGeometry_ = function(feature, geometry) {\n  var coordinates = geometry.getCoordinates();\n  var i, ii, segment, segmentData;\n  for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n    segment = coordinates.slice(i, i + 2);\n    segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n      feature: feature,\n      geometry: geometry,\n      index: i,\n      segment: segment\n    });\n    this.rBush_.insert(_ol_extent_.boundingExtent(segment), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiLineString} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeMultiLineStringGeometry_ = function(feature, geometry) {\n  var lines = geometry.getCoordinates();\n  var coordinates, i, ii, j, jj, segment, segmentData;\n  for (j = 0, jj = lines.length; j < jj; ++j) {\n    coordinates = lines[j];\n    for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      segment = coordinates.slice(i, i + 2);\n      segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n        feature: feature,\n        geometry: geometry,\n        depth: [j],\n        index: i,\n        segment: segment\n      });\n      this.rBush_.insert(_ol_extent_.boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Polygon} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writePolygonGeometry_ = function(feature, geometry) {\n  var rings = geometry.getCoordinates();\n  var coordinates, i, ii, j, jj, segment, segmentData;\n  for (j = 0, jj = rings.length; j < jj; ++j) {\n    coordinates = rings[j];\n    for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      segment = coordinates.slice(i, i + 2);\n      segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n        feature: feature,\n        geometry: geometry,\n        depth: [j],\n        index: i,\n        segment: segment\n      });\n      this.rBush_.insert(_ol_extent_.boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiPolygon} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeMultiPolygonGeometry_ = function(feature, geometry) {\n  var polygons = geometry.getCoordinates();\n  var coordinates, i, ii, j, jj, k, kk, rings, segment, segmentData;\n  for (k = 0, kk = polygons.length; k < kk; ++k) {\n    rings = polygons[k];\n    for (j = 0, jj = rings.length; j < jj; ++j) {\n      coordinates = rings[j];\n      for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        segment = coordinates.slice(i, i + 2);\n        segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n          feature: feature,\n          geometry: geometry,\n          depth: [j, k],\n          index: i,\n          segment: segment\n        });\n        this.rBush_.insert(_ol_extent_.boundingExtent(segment), segmentData);\n      }\n    }\n  }\n};\n\n\n/**\n * We convert a circle into two segments.  The segment at index\n * {@link ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX} is the\n * circle's center (a point).  The segment at index\n * {@link ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX} is\n * the circumference, and is not a line segment.\n *\n * @param {ol.Feature} feature Feature.\n * @param {ol.geom.Circle} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeCircleGeometry_ = function(feature, geometry) {\n  var coordinates = geometry.getCenter();\n  var centerSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    index: _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,\n    segment: [coordinates, coordinates]\n  });\n  var circumferenceSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    index: _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,\n    segment: [coordinates, coordinates]\n  });\n  var featureSegments = [centerSegmentData, circumferenceSegmentData];\n  centerSegmentData.featureSegments = circumferenceSegmentData.featureSegments = featureSegments;\n  this.rBush_.insert(_ol_extent_.createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n  this.rBush_.insert(geometry.getExtent(), circumferenceSegmentData);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.GeometryCollection} geometry Geometry.\n * @private\n */\n_ol_interaction_Modify_.prototype.writeGeometryCollectionGeometry_ = function(feature, geometry) {\n  var i, geometries = geometry.getGeometriesArray();\n  for (i = 0; i < geometries.length; ++i) {\n    this.SEGMENT_WRITERS_[geometries[i].getType()].call(\n        this, feature, geometries[i]);\n  }\n};\n\n\n/**\n * @param {ol.Coordinate} coordinates Coordinates.\n * @return {ol.Feature} Vertex feature.\n * @private\n */\n_ol_interaction_Modify_.prototype.createOrUpdateVertexFeature_ = function(coordinates) {\n  var vertexFeature = this.vertexFeature_;\n  if (!vertexFeature) {\n    vertexFeature = new _ol_Feature_(new _ol_geom_Point_(coordinates));\n    this.vertexFeature_ = vertexFeature;\n    this.overlay_.getSource().addFeature(vertexFeature);\n  } else {\n    var geometry = /** @type {ol.geom.Point} */ (vertexFeature.getGeometry());\n    geometry.setCoordinates(coordinates);\n  }\n  return vertexFeature;\n};\n\n\n/**\n * @param {ol.ModifySegmentDataType} a The first segment data.\n * @param {ol.ModifySegmentDataType} b The second segment data.\n * @return {number} The difference in indexes.\n * @private\n */\n_ol_interaction_Modify_.compareIndexes_ = function(a, b) {\n  return a.index - b.index;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Start drag sequence?\n * @this {ol.interaction.Modify}\n * @private\n */\n_ol_interaction_Modify_.handleDownEvent_ = function(evt) {\n  if (!this.condition_(evt)) {\n    return false;\n  }\n  this.handlePointerAtPixel_(evt.pixel, evt.map);\n  var pixelCoordinate = evt.map.getCoordinateFromPixel(evt.pixel);\n  this.dragSegments_.length = 0;\n  this.modified_ = false;\n  var vertexFeature = this.vertexFeature_;\n  if (vertexFeature) {\n    var insertVertices = [];\n    var geometry = /** @type {ol.geom.Point} */ (vertexFeature.getGeometry());\n    var vertex = geometry.getCoordinates();\n    var vertexExtent = _ol_extent_.boundingExtent([vertex]);\n    var segmentDataMatches = this.rBush_.getInExtent(vertexExtent);\n    var componentSegments = {};\n    segmentDataMatches.sort(_ol_interaction_Modify_.compareIndexes_);\n    for (var i = 0, ii = segmentDataMatches.length; i < ii; ++i) {\n      var segmentDataMatch = segmentDataMatches[i];\n      var segment = segmentDataMatch.segment;\n      var uid = _ol_.getUid(segmentDataMatch.feature);\n      var depth = segmentDataMatch.depth;\n      if (depth) {\n        uid += '-' + depth.join('-'); // separate feature components\n      }\n      if (!componentSegments[uid]) {\n        componentSegments[uid] = new Array(2);\n      }\n      if (segmentDataMatch.geometry.getType() === _ol_geom_GeometryType_.CIRCLE &&\n      segmentDataMatch.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n\n        var closestVertex = _ol_interaction_Modify_.closestOnSegmentData_(pixelCoordinate, segmentDataMatch);\n        if (_ol_coordinate_.equals(closestVertex, vertex) && !componentSegments[uid][0]) {\n          this.dragSegments_.push([segmentDataMatch, 0]);\n          componentSegments[uid][0] = segmentDataMatch;\n        }\n      } else if (_ol_coordinate_.equals(segment[0], vertex) &&\n          !componentSegments[uid][0]) {\n        this.dragSegments_.push([segmentDataMatch, 0]);\n        componentSegments[uid][0] = segmentDataMatch;\n      } else if (_ol_coordinate_.equals(segment[1], vertex) &&\n          !componentSegments[uid][1]) {\n\n        // prevent dragging closed linestrings by the connecting node\n        if ((segmentDataMatch.geometry.getType() ===\n            _ol_geom_GeometryType_.LINE_STRING ||\n            segmentDataMatch.geometry.getType() ===\n            _ol_geom_GeometryType_.MULTI_LINE_STRING) &&\n            componentSegments[uid][0] &&\n            componentSegments[uid][0].index === 0) {\n          continue;\n        }\n\n        this.dragSegments_.push([segmentDataMatch, 1]);\n        componentSegments[uid][1] = segmentDataMatch;\n      } else if (this.insertVertexCondition_(evt) && _ol_.getUid(segment) in this.vertexSegments_ &&\n          (!componentSegments[uid][0] && !componentSegments[uid][1])) {\n        insertVertices.push([segmentDataMatch, vertex]);\n      }\n    }\n    if (insertVertices.length) {\n      this.willModifyFeatures_(evt);\n    }\n    for (var j = insertVertices.length - 1; j >= 0; --j) {\n      this.insertVertex_.apply(this, insertVertices[j]);\n    }\n  }\n  return !!this.vertexFeature_;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @this {ol.interaction.Modify}\n * @private\n */\n_ol_interaction_Modify_.handleDragEvent_ = function(evt) {\n  this.ignoreNextSingleClick_ = false;\n  this.willModifyFeatures_(evt);\n\n  var vertex = evt.coordinate;\n  for (var i = 0, ii = this.dragSegments_.length; i < ii; ++i) {\n    var dragSegment = this.dragSegments_[i];\n    var segmentData = dragSegment[0];\n    var depth = segmentData.depth;\n    var geometry = segmentData.geometry;\n    var coordinates;\n    var segment = segmentData.segment;\n    var index = dragSegment[1];\n\n    while (vertex.length < geometry.getStride()) {\n      vertex.push(segment[index][vertex.length]);\n    }\n\n    switch (geometry.getType()) {\n      case _ol_geom_GeometryType_.POINT:\n        coordinates = vertex;\n        segment[0] = segment[1] = vertex;\n        break;\n      case _ol_geom_GeometryType_.MULTI_POINT:\n        coordinates = geometry.getCoordinates();\n        coordinates[segmentData.index] = vertex;\n        segment[0] = segment[1] = vertex;\n        break;\n      case _ol_geom_GeometryType_.LINE_STRING:\n        coordinates = geometry.getCoordinates();\n        coordinates[segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case _ol_geom_GeometryType_.MULTI_LINE_STRING:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case _ol_geom_GeometryType_.POLYGON:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case _ol_geom_GeometryType_.MULTI_POLYGON:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[1]][depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case _ol_geom_GeometryType_.CIRCLE:\n        segment[0] = segment[1] = vertex;\n        if (segmentData.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX) {\n          this.changingFeature_ = true;\n          geometry.setCenter(vertex);\n          this.changingFeature_ = false;\n        } else { // We're dragging the circle's circumference:\n          this.changingFeature_ = true;\n          geometry.setRadius(_ol_coordinate_.distance(geometry.getCenter(), vertex));\n          this.changingFeature_ = false;\n        }\n        break;\n      default:\n        // pass\n    }\n\n    if (coordinates) {\n      this.setGeometryCoordinates_(geometry, coordinates);\n    }\n  }\n  this.createOrUpdateVertexFeature_(vertex);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Stop drag sequence?\n * @this {ol.interaction.Modify}\n * @private\n */\n_ol_interaction_Modify_.handleUpEvent_ = function(evt) {\n  var segmentData;\n  var geometry;\n  for (var i = this.dragSegments_.length - 1; i >= 0; --i) {\n    segmentData = this.dragSegments_[i][0];\n    geometry = segmentData.geometry;\n    if (geometry.getType() === _ol_geom_GeometryType_.CIRCLE) {\n      // Update a circle object in the R* bush:\n      var coordinates = geometry.getCenter();\n      var centerSegmentData = segmentData.featureSegments[0];\n      var circumferenceSegmentData = segmentData.featureSegments[1];\n      centerSegmentData.segment[0] = centerSegmentData.segment[1] = coordinates;\n      circumferenceSegmentData.segment[0] = circumferenceSegmentData.segment[1] = coordinates;\n      this.rBush_.update(_ol_extent_.createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n      this.rBush_.update(geometry.getExtent(), circumferenceSegmentData);\n    } else {\n      this.rBush_.update(_ol_extent_.boundingExtent(segmentData.segment),\n          segmentData);\n    }\n  }\n  if (this.modified_) {\n    this.dispatchEvent(new _ol_interaction_Modify_.Event(\n        _ol_interaction_ModifyEventType_.MODIFYEND, this.features_, evt));\n    this.modified_ = false;\n  }\n  return false;\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may modify the\n * geometry.\n * @param {ol.MapBrowserEvent} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ol.interaction.Modify}\n * @api\n */\n_ol_interaction_Modify_.handleEvent = function(mapBrowserEvent) {\n  if (!(mapBrowserEvent instanceof _ol_MapBrowserPointerEvent_)) {\n    return true;\n  }\n  this.lastPointerEvent_ = mapBrowserEvent;\n\n  var handled;\n  if (!mapBrowserEvent.map.getView().getInteracting() &&\n      mapBrowserEvent.type == _ol_MapBrowserEventType_.POINTERMOVE &&\n      !this.handlingDownUpSequence) {\n    this.handlePointerMove_(mapBrowserEvent);\n  }\n  if (this.vertexFeature_ && this.deleteCondition_(mapBrowserEvent)) {\n    if (mapBrowserEvent.type != _ol_MapBrowserEventType_.SINGLECLICK ||\n        !this.ignoreNextSingleClick_) {\n      handled = this.removePoint();\n    } else {\n      handled = true;\n    }\n  }\n\n  if (mapBrowserEvent.type == _ol_MapBrowserEventType_.SINGLECLICK) {\n    this.ignoreNextSingleClick_ = false;\n  }\n\n  return _ol_interaction_Pointer_.handleEvent.call(this, mapBrowserEvent) &&\n      !handled;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} evt Event.\n * @private\n */\n_ol_interaction_Modify_.prototype.handlePointerMove_ = function(evt) {\n  this.lastPixel_ = evt.pixel;\n  this.handlePointerAtPixel_(evt.pixel, evt.map);\n};\n\n\n/**\n * @param {ol.Pixel} pixel Pixel\n * @param {ol.PluggableMap} map Map.\n * @private\n */\n_ol_interaction_Modify_.prototype.handlePointerAtPixel_ = function(pixel, map) {\n  var pixelCoordinate = map.getCoordinateFromPixel(pixel);\n  var sortByDistance = function(a, b) {\n    return _ol_interaction_Modify_.pointDistanceToSegmentDataSquared_(pixelCoordinate, a) -\n        _ol_interaction_Modify_.pointDistanceToSegmentDataSquared_(pixelCoordinate, b);\n  };\n\n  var box = _ol_extent_.buffer(\n      _ol_extent_.createOrUpdateFromCoordinate(pixelCoordinate),\n      map.getView().getResolution() * this.pixelTolerance_);\n\n  var rBush = this.rBush_;\n  var nodes = rBush.getInExtent(box);\n  if (nodes.length > 0) {\n    nodes.sort(sortByDistance);\n    var node = nodes[0];\n    var closestSegment = node.segment;\n    var vertex = _ol_interaction_Modify_.closestOnSegmentData_(pixelCoordinate, node);\n    var vertexPixel = map.getPixelFromCoordinate(vertex);\n    var dist = _ol_coordinate_.distance(pixel, vertexPixel);\n    if (dist <= this.pixelTolerance_) {\n      var vertexSegments = {};\n\n      if (node.geometry.getType() === _ol_geom_GeometryType_.CIRCLE &&\n      node.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n\n        this.snappedToVertex_ = true;\n        this.createOrUpdateVertexFeature_(vertex);\n      } else {\n        var pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n        var pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n        var squaredDist1 = _ol_coordinate_.squaredDistance(vertexPixel, pixel1);\n        var squaredDist2 = _ol_coordinate_.squaredDistance(vertexPixel, pixel2);\n        dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n        this.snappedToVertex_ = dist <= this.pixelTolerance_;\n        if (this.snappedToVertex_) {\n          vertex = squaredDist1 > squaredDist2 ?\n            closestSegment[1] : closestSegment[0];\n        }\n        this.createOrUpdateVertexFeature_(vertex);\n        var segment;\n        for (var i = 1, ii = nodes.length; i < ii; ++i) {\n          segment = nodes[i].segment;\n          if ((_ol_coordinate_.equals(closestSegment[0], segment[0]) &&\n              _ol_coordinate_.equals(closestSegment[1], segment[1]) ||\n              (_ol_coordinate_.equals(closestSegment[0], segment[1]) &&\n              _ol_coordinate_.equals(closestSegment[1], segment[0])))) {\n            vertexSegments[_ol_.getUid(segment)] = true;\n          } else {\n            break;\n          }\n        }\n      }\n\n      vertexSegments[_ol_.getUid(closestSegment)] = true;\n      this.vertexSegments_ = vertexSegments;\n      return;\n    }\n  }\n  if (this.vertexFeature_) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n};\n\n\n/**\n * Returns the distance from a point to a line segment.\n *\n * @param {ol.Coordinate} pointCoordinates The coordinates of the point from\n *        which to calculate the distance.\n * @param {ol.ModifySegmentDataType} segmentData The object describing the line\n *        segment we are calculating the distance to.\n * @return {number} The square of the distance between a point and a line segment.\n */\n_ol_interaction_Modify_.pointDistanceToSegmentDataSquared_ = function(pointCoordinates, segmentData) {\n  var geometry = segmentData.geometry;\n\n  if (geometry.getType() === _ol_geom_GeometryType_.CIRCLE) {\n    var circleGeometry = /** @type {ol.geom.Circle} */ (geometry);\n\n    if (segmentData.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n      var distanceToCenterSquared =\n            _ol_coordinate_.squaredDistance(circleGeometry.getCenter(), pointCoordinates);\n      var distanceToCircumference =\n            Math.sqrt(distanceToCenterSquared) - circleGeometry.getRadius();\n      return distanceToCircumference * distanceToCircumference;\n    }\n  }\n  return _ol_coordinate_.squaredDistanceToSegment(pointCoordinates, segmentData.segment);\n};\n\n/**\n * Returns the point closest to a given line segment.\n *\n * @param {ol.Coordinate} pointCoordinates The point to which a closest point\n *        should be found.\n * @param {ol.ModifySegmentDataType} segmentData The object describing the line\n *        segment which should contain the closest point.\n * @return {ol.Coordinate} The point closest to the specified line segment.\n */\n_ol_interaction_Modify_.closestOnSegmentData_ = function(pointCoordinates, segmentData) {\n  var geometry = segmentData.geometry;\n\n  if (geometry.getType() === _ol_geom_GeometryType_.CIRCLE &&\n  segmentData.index === _ol_interaction_Modify_.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n    return geometry.getClosestPoint(pointCoordinates);\n  }\n  return _ol_coordinate_.closestOnSegment(pointCoordinates, segmentData.segment);\n};\n\n\n/**\n * @param {ol.ModifySegmentDataType} segmentData Segment data.\n * @param {ol.Coordinate} vertex Vertex.\n * @private\n */\n_ol_interaction_Modify_.prototype.insertVertex_ = function(segmentData, vertex) {\n  var segment = segmentData.segment;\n  var feature = segmentData.feature;\n  var geometry = segmentData.geometry;\n  var depth = segmentData.depth;\n  var index = /** @type {number} */ (segmentData.index);\n  var coordinates;\n\n  while (vertex.length < geometry.getStride()) {\n    vertex.push(0);\n  }\n\n  switch (geometry.getType()) {\n    case _ol_geom_GeometryType_.MULTI_LINE_STRING:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case _ol_geom_GeometryType_.POLYGON:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case _ol_geom_GeometryType_.MULTI_POLYGON:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[1]][depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case _ol_geom_GeometryType_.LINE_STRING:\n      coordinates = geometry.getCoordinates();\n      coordinates.splice(index + 1, 0, vertex);\n      break;\n    default:\n      return;\n  }\n\n  this.setGeometryCoordinates_(geometry, coordinates);\n  var rTree = this.rBush_;\n  rTree.remove(segmentData);\n  this.updateSegmentIndices_(geometry, index, depth, 1);\n  var newSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    segment: [segment[0], vertex],\n    feature: feature,\n    geometry: geometry,\n    depth: depth,\n    index: index\n  });\n  rTree.insert(_ol_extent_.boundingExtent(newSegmentData.segment),\n      newSegmentData);\n  this.dragSegments_.push([newSegmentData, 1]);\n\n  var newSegmentData2 = /** @type {ol.ModifySegmentDataType} */ ({\n    segment: [vertex, segment[1]],\n    feature: feature,\n    geometry: geometry,\n    depth: depth,\n    index: index + 1\n  });\n  rTree.insert(_ol_extent_.boundingExtent(newSegmentData2.segment),\n      newSegmentData2);\n  this.dragSegments_.push([newSegmentData2, 0]);\n  this.ignoreNextSingleClick_ = true;\n};\n\n/**\n * Removes the vertex currently being pointed.\n * @return {boolean} True when a vertex was removed.\n * @api\n */\n_ol_interaction_Modify_.prototype.removePoint = function() {\n  if (this.lastPointerEvent_ && this.lastPointerEvent_.type != _ol_MapBrowserEventType_.POINTERDRAG) {\n    var evt = this.lastPointerEvent_;\n    this.willModifyFeatures_(evt);\n    this.removeVertex_();\n    this.dispatchEvent(new _ol_interaction_Modify_.Event(\n        _ol_interaction_ModifyEventType_.MODIFYEND, this.features_, evt));\n    this.modified_ = false;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Removes a vertex from all matching features.\n * @return {boolean} True when a vertex was removed.\n * @private\n */\n_ol_interaction_Modify_.prototype.removeVertex_ = function() {\n  var dragSegments = this.dragSegments_;\n  var segmentsByFeature = {};\n  var deleted = false;\n  var component, coordinates, dragSegment, geometry, i, index, left;\n  var newIndex, right, segmentData, uid;\n  for (i = dragSegments.length - 1; i >= 0; --i) {\n    dragSegment = dragSegments[i];\n    segmentData = dragSegment[0];\n    uid = _ol_.getUid(segmentData.feature);\n    if (segmentData.depth) {\n      // separate feature components\n      uid += '-' + segmentData.depth.join('-');\n    }\n    if (!(uid in segmentsByFeature)) {\n      segmentsByFeature[uid] = {};\n    }\n    if (dragSegment[1] === 0) {\n      segmentsByFeature[uid].right = segmentData;\n      segmentsByFeature[uid].index = segmentData.index;\n    } else if (dragSegment[1] == 1) {\n      segmentsByFeature[uid].left = segmentData;\n      segmentsByFeature[uid].index = segmentData.index + 1;\n    }\n\n  }\n  for (uid in segmentsByFeature) {\n    right = segmentsByFeature[uid].right;\n    left = segmentsByFeature[uid].left;\n    index = segmentsByFeature[uid].index;\n    newIndex = index - 1;\n    if (left !== undefined) {\n      segmentData = left;\n    } else {\n      segmentData = right;\n    }\n    if (newIndex < 0) {\n      newIndex = 0;\n    }\n    geometry = segmentData.geometry;\n    coordinates = geometry.getCoordinates();\n    component = coordinates;\n    deleted = false;\n    switch (geometry.getType()) {\n      case _ol_geom_GeometryType_.MULTI_LINE_STRING:\n        if (coordinates[segmentData.depth[0]].length > 2) {\n          coordinates[segmentData.depth[0]].splice(index, 1);\n          deleted = true;\n        }\n        break;\n      case _ol_geom_GeometryType_.LINE_STRING:\n        if (coordinates.length > 2) {\n          coordinates.splice(index, 1);\n          deleted = true;\n        }\n        break;\n      case _ol_geom_GeometryType_.MULTI_POLYGON:\n        component = component[segmentData.depth[1]];\n        /* falls through */\n      case _ol_geom_GeometryType_.POLYGON:\n        component = component[segmentData.depth[0]];\n        if (component.length > 4) {\n          if (index == component.length - 1) {\n            index = 0;\n          }\n          component.splice(index, 1);\n          deleted = true;\n          if (index === 0) {\n            // close the ring again\n            component.pop();\n            component.push(component[0]);\n            newIndex = component.length - 1;\n          }\n        }\n        break;\n      default:\n        // pass\n    }\n\n    if (deleted) {\n      this.setGeometryCoordinates_(geometry, coordinates);\n      var segments = [];\n      if (left !== undefined) {\n        this.rBush_.remove(left);\n        segments.push(left.segment[0]);\n      }\n      if (right !== undefined) {\n        this.rBush_.remove(right);\n        segments.push(right.segment[1]);\n      }\n      if (left !== undefined && right !== undefined) {\n        var newSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n          depth: segmentData.depth,\n          feature: segmentData.feature,\n          geometry: segmentData.geometry,\n          index: newIndex,\n          segment: segments\n        });\n        this.rBush_.insert(_ol_extent_.boundingExtent(newSegmentData.segment),\n            newSegmentData);\n      }\n      this.updateSegmentIndices_(geometry, index, segmentData.depth, -1);\n      if (this.vertexFeature_) {\n        this.overlay_.getSource().removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n      dragSegments.length = 0;\n    }\n\n  }\n  return deleted;\n};\n\n\n/**\n * @param {ol.geom.SimpleGeometry} geometry Geometry.\n * @param {Array} coordinates Coordinates.\n * @private\n */\n_ol_interaction_Modify_.prototype.setGeometryCoordinates_ = function(geometry, coordinates) {\n  this.changingFeature_ = true;\n  geometry.setCoordinates(coordinates);\n  this.changingFeature_ = false;\n};\n\n\n/**\n * @param {ol.geom.SimpleGeometry} geometry Geometry.\n * @param {number} index Index.\n * @param {Array.<number>|undefined} depth Depth.\n * @param {number} delta Delta (1 or -1).\n * @private\n */\n_ol_interaction_Modify_.prototype.updateSegmentIndices_ = function(\n    geometry, index, depth, delta) {\n  this.rBush_.forEachInExtent(geometry.getExtent(), function(segmentDataMatch) {\n    if (segmentDataMatch.geometry === geometry &&\n        (depth === undefined || segmentDataMatch.depth === undefined ||\n        _ol_array_.equals(segmentDataMatch.depth, depth)) &&\n        segmentDataMatch.index > index) {\n      segmentDataMatch.index += delta;\n    }\n  });\n};\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\n_ol_interaction_Modify_.getDefaultStyleFunction = function() {\n  var style = _ol_style_Style_.createDefaultEditing();\n  return function(feature, resolution) {\n    return style[_ol_geom_GeometryType_.POINT];\n  };\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Modify} instances are instances of\n * this type.\n *\n * @constructor\n * @extends {ol.events.Event}\n * @implements {oli.ModifyEvent}\n * @param {ol.interaction.ModifyEventType} type Type.\n * @param {ol.Collection.<ol.Feature>} features The features modified.\n * @param {ol.MapBrowserPointerEvent} mapBrowserPointerEvent Associated\n *     {@link ol.MapBrowserPointerEvent}.\n */\n_ol_interaction_Modify_.Event = function(type, features, mapBrowserPointerEvent) {\n\n  _ol_events_Event_.call(this, type);\n\n  /**\n   * The features being modified.\n   * @type {ol.Collection.<ol.Feature>}\n   * @api\n   */\n  this.features = features;\n\n  /**\n   * Associated {@link ol.MapBrowserEvent}.\n   * @type {ol.MapBrowserEvent}\n   * @api\n   */\n  this.mapBrowserEvent = mapBrowserPointerEvent;\n};\n_ol_.inherits(_ol_interaction_Modify_.Event, _ol_events_Event_);\nexport default _ol_interaction_Modify_;\n","var getBuiltIn = require('../internals/get-built-in');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag(getBuiltIn('Symbol'), 'Symbol');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/es.symbol.constructor');\nrequire('../modules/es.symbol.for');\nrequire('../modules/es.symbol.key-for');\nrequire('../modules/es.json.stringify');\nrequire('../modules/es.object.get-own-property-symbols');\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (Target, Source, key) {\n  key in Target || defineProperty(Target, key, {\n    configurable: true,\n    get: function () { return Source[key]; },\n    set: function (it) { Source[key] = it; }\n  });\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar toString = require('../internals/to-string');\nvar shared = require('../internals/shared');\nvar NATIVE_SYMBOL_REGISTRY = require('../internals/symbol-registry-detection');\n\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\n\n// `Symbol.for` method\n// https://tc39.es/ecma262/#sec-symbol.for\n$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {\n  'for': function (key) {\n    var string = toString(key);\n    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = getBuiltIn('Symbol')(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  }\n});\n","var defineWellKnownSymbol = require('../internals/well-known-symbol-define');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","var $ = require('../internals/export');\nvar hasOwn = require('../internals/has-own-property');\nvar isSymbol = require('../internals/is-symbol');\nvar tryToString = require('../internals/try-to-string');\nvar shared = require('../internals/shared');\nvar NATIVE_SYMBOL_REGISTRY = require('../internals/symbol-registry-detection');\n\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\n\n// `Symbol.keyFor` method\n// https://tc39.es/ecma262/#sec-symbol.keyfor\n$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(tryToString(sym) + ' is not a symbol');\n    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  }\n});\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","var defineWellKnownSymbol = require('../internals/well-known-symbol-define');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, constructor: true, arity: 1, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, constructor: true, arity: 1, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar $toString = require('../internals/to-string');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar defineSymbolToPrimitive = require('../internals/symbol-define-to-primitive');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\n\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\n\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];\nvar TypeError = global.TypeError;\nvar QObject = global.QObject;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar push = uncurryThis([].push);\n\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar WellKnownSymbolsStore = shared('wks');\n\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPropertyKey(P);\n  anObject(Attributes);\n  if (hasOwn(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPropertyKey(V);\n  var enumerable = call(nativePropertyIsEnumerable, this, P);\n  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]\n    ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPropertyKey(P);\n  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function (O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {\n      push(result, AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (isPrototypeOf(SymbolPrototype, this)) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);\n      if (hasOwn(this, HIDDEN) && hasOwn(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  SymbolPrototype = $Symbol[PROTOTYPE];\n\n  defineBuiltIn(SymbolPrototype, 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  defineBuiltIn($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  definePropertiesModule.f = $defineProperties;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty(SymbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      defineBuiltIn(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames\n});\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\ndefineSymbolToPrimitive();\n\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var thisSymbolValue = uncurryThis(SymbolPrototype.valueOf);\n  var symbolDescriptiveString = uncurryThis(SymbolPrototype.toString);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = thisSymbolValue(this);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var string = symbolDescriptiveString(symbol);\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, constructor: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var path = require('../internals/path');\nvar hasOwn = require('../internals/has-own-property');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar proxyAccessor = require('../internals/proxy-accessor');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var STACK_TRACE_LIMIT = 'stackTraceLimit';\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  } else if (DESCRIPTORS && STACK_TRACE_LIMIT in OriginalError) {\n    proxyAccessor(WrappedError, OriginalError, STACK_TRACE_LIMIT);\n    proxyAccessor(WrappedError, OriginalError, 'prepareStackTrace');\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar arraySlice = require('../internals/array-slice');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {\n  var symbol = getBuiltIn('Symbol')();\n  // MS Edge converts symbol values to JSON as {}\n  return $stringify([symbol]) != '[null]'\n    // WebKit converts symbol values to JSON as null\n    || $stringify({ a: symbol }) != '{}'\n    // V8 throws on boxed symbols\n    || $stringify(Object(symbol)) != '{}';\n});\n\n// https://github.com/tc39/proposal-well-formed-stringify\nvar ILL_FORMED_UNICODE = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nvar stringifyWithSymbolsFix = function (it, replacer) {\n  var args = arraySlice(arguments);\n  var $replacer = replacer;\n  if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n  if (!isArray(replacer)) replacer = function (key, value) {\n    if (isCallable($replacer)) value = call($replacer, this, key, value);\n    if (!isSymbol(value)) return value;\n  };\n  args[1] = replacer;\n  return apply($stringify, null, args);\n};\n\nvar fixIllFormed = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = arraySlice(arguments);\n      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);\n      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;\n    }\n  });\n}\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar nativeSlice = require('../internals/array-slice');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = lengthOfArrayLike(O);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === $Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === $Array || Constructor === undefined) {\n        return nativeSlice(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? $Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}